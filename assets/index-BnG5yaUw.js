function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/in-app-wallet-BfrXjf-s.js","assets/index-D_QLbcUc.js","assets/index-DiwrgTda.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as s}from"./index-D_QLbcUc.js";var u;(function(e){e.USER_MANAGED="USER_MANAGED",e.CLOUD_MANAGED="AWS_MANAGED"})(u||(u={}));var a;(function(e){e.COGNITO="Cognito",e.GOOGLE="Google",e.EMAIL_OTP="EmailOtp",e.CUSTOM_JWT="CustomJWT",e.CUSTOM_AUTH_ENDPOINT="CustomAuthEndpoint",e.FACEBOOK="Facebook",e.APPLE="Apple"})(a||(a={}));var c;(function(e){e.LOGGED_OUT="Logged Out",e.LOGGED_IN_WALLET_UNINITIALIZED="Logged In, Wallet Uninitialized",e.LOGGED_IN_NEW_DEVICE="Logged In, New Device",e.LOGGED_IN_WALLET_INITIALIZED="Logged In, Wallet Initialized"})(c||(c={}));const o=new WeakMap;async function r(e){if(o.has(e))return o.get(e);const{InAppWalletSdk:t}=await s(()=>import("./in-app-wallet-BfrXjf-s.js"),__vite__mapDeps([0,1,2])),n=new t({client:e});return o.set(e,n),n}async function l(e){const{client:t}=e,i=await(await r(t)).getUser();switch(i.status){case c.LOGGED_IN_WALLET_INITIALIZED:return i}}async function E(e){const t=await l(e);if(t)return t.authDetails.email}async function p(e){const t=await r(e.client),n=e.strategy;switch(n){case"email":return t.auth.sendEmailLoginOtp({email:e.email});default:throw new Error(`Provider: ${n} doesnt require pre-authentication`)}}async function _(e){const t=await r(e.client),n=e.strategy;switch(n){case"email":return await t.auth.verifyEmailLoginOtp({email:e.email,otp:e.verificationCode});case"apple":case"facebook":case"google":{const i=O[n];return t.auth.loginWithOauth({oauthProvider:i,closeOpenedWindow:e.closeOpenedWindow,openedWindow:e.openedWindow})}case"jwt":return t.auth.loginWithCustomJwt({jwt:e.jwt,encryptionKey:e.encryptionKey});case"auth_endpoint":return t.auth.loginWithCustomAuthEndpoint({payload:e.payload,encryptionKey:e.encryptionKey});case"iframe_email_verification":return t.auth.loginWithEmailOtp({email:e.email});case"iframe":return t.auth.loginWithModal();default:d(n)}}function d(e){throw new Error(`Invalid param: ${e}`)}const O={google:a.GOOGLE,facebook:a.FACEBOOK,apple:a.APPLE},I=Object.freeze(Object.defineProperty({__proto__:null,authenticate:_,getAuthenticatedUser:l,getUserEmail:E,preAuthenticate:p},Symbol.toStringTag,{value:"Module"}));export{a as A,c as U,I as i};
