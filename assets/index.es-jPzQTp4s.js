function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-CFR2DadP.js","assets/index-BLuxJqIY.js","assets/index-DiwrgTda.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{a3 as process$1,a1 as getAugmentedNamespace,a2 as commonjsGlobal,aW as getDefaultExportFromCjs,_ as __vitePreload}from"./index-BLuxJqIY.js";import{k as safeBufferExports,e as eventsExports,r as require_stream_readable$1,a as require_stream_writable$1,d as require_stream_duplex$1,f as require_stream_transform$1,h as require_stream_passthrough$1,i as requireEndOfStream,j as requirePipeline,l as inherits_browserExports,m as require$$0$6,n as requireString_decoder,s as sha_jsExports,B as Buffer,o as requireUtil$1,p as requireBrowser$b,b as bnExports,W as Wg}from"./pipeline-pENxeJRt.js";const global=globalThis||void 0||self;var __spreadArray=function(r,e,i){if(i||arguments.length===2)for(var P=0,W=e.length,R;P<W;P++)(R||!(P in e))&&(R||(R=Array.prototype.slice.call(e,0,P)),R[P]=e[P]);return r.concat(R||Array.prototype.slice.call(e))},BrowserInfo=function(){function r(e,i,P){this.name=e,this.version=i,this.os=P,this.type="browser"}return r}(),NodeInfo=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process$1.platform}return r}(),SearchBotDeviceInfo=function(){function r(e,i,P,W){this.name=e,this.version=i,this.os=P,this.bot=W,this.type="bot-device"}return r}(),BotInfo=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),ReactNativeInfo=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(r){return r?parseUserAgent(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(r){return r!==""&&userAgentRules.reduce(function(e,i){var P=i[0],W=i[1];if(e)return e;var R=W.exec(r);return!!R&&[P,R]},!1)}function parseUserAgent(r){var e=matchUserAgent(r);if(!e)return null;var i=e[0],P=e[1];if(i==="searchbot")return new BotInfo;var W=P[1]&&P[1].split(".").join("_").split("_").slice(0,3);W?W.length<REQUIRED_VERSION_PARTS&&(W=__spreadArray(__spreadArray([],W,!0),createVersionParts(REQUIRED_VERSION_PARTS-W.length),!0)):W=[];var R=W.join("."),Wr=detectOS(r),ei=SEARCHBOT_OS_REGEX.exec(r);return ei&&ei[1]?new SearchBotDeviceInfo(i,R,Wr,ei[1]):new BrowserInfo(i,R,Wr)}function detectOS(r){for(var e=0,i=operatingSystemRules.length;e<i;e++){var P=operatingSystemRules[e],W=P[0],R=P[1],Wr=R.exec(r);if(Wr)return W}return null}function getNodeVersion(){var r=typeof process$1<"u"&&process$1.version;return r?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(r){for(var e=[],i=0;i<r;i++)e.push("0");return e}var cjs$4={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$2=function(r,e){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,P){i.__proto__=P}||function(i,P){for(var W in P)P.hasOwnProperty(W)&&(i[W]=P[W])},extendStatics$2(r,e)};function __extends$2(r,e){extendStatics$2(r,e);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var __assign$2=function(){return __assign$2=Object.assign||function(e){for(var i,P=1,W=arguments.length;P<W;P++){i=arguments[P];for(var R in i)Object.prototype.hasOwnProperty.call(i,R)&&(e[R]=i[R])}return e},__assign$2.apply(this,arguments)};function __rest$2(r,e){var i={};for(var P in r)Object.prototype.hasOwnProperty.call(r,P)&&e.indexOf(P)<0&&(i[P]=r[P]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,P=Object.getOwnPropertySymbols(r);W<P.length;W++)e.indexOf(P[W])<0&&Object.prototype.propertyIsEnumerable.call(r,P[W])&&(i[P[W]]=r[P[W]]);return i}function __decorate$2(r,e,i,P){var W=arguments.length,R=W<3?e:P===null?P=Object.getOwnPropertyDescriptor(e,i):P,Wr;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(r,e,i,P);else for(var ei=r.length-1;ei>=0;ei--)(Wr=r[ei])&&(R=(W<3?Wr(R):W>3?Wr(e,i,R):Wr(e,i))||R);return W>3&&R&&Object.defineProperty(e,i,R),R}function __param$2(r,e){return function(i,P){e(i,P,r)}}function __metadata$2(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function __awaiter$2(r,e,i,P){function W(R){return R instanceof i?R:new i(function(Wr){Wr(R)})}return new(i||(i=Promise))(function(R,Wr){function ei(Zr){try{Xr(P.next(Zr))}catch(si){Wr(si)}}function ni(Zr){try{Xr(P.throw(Zr))}catch(si){Wr(si)}}function Xr(Zr){Zr.done?R(Zr.value):W(Zr.value).then(ei,ni)}Xr((P=P.apply(r,e||[])).next())})}function __generator$2(r,e){var i={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},P,W,R,Wr;return Wr={next:ei(0),throw:ei(1),return:ei(2)},typeof Symbol=="function"&&(Wr[Symbol.iterator]=function(){return this}),Wr;function ei(Xr){return function(Zr){return ni([Xr,Zr])}}function ni(Xr){if(P)throw new TypeError("Generator is already executing.");for(;i;)try{if(P=1,W&&(R=Xr[0]&2?W.return:Xr[0]?W.throw||((R=W.return)&&R.call(W),0):W.next)&&!(R=R.call(W,Xr[1])).done)return R;switch(W=0,R&&(Xr=[Xr[0]&2,R.value]),Xr[0]){case 0:case 1:R=Xr;break;case 4:return i.label++,{value:Xr[1],done:!1};case 5:i.label++,W=Xr[1],Xr=[0];continue;case 7:Xr=i.ops.pop(),i.trys.pop();continue;default:if(R=i.trys,!(R=R.length>0&&R[R.length-1])&&(Xr[0]===6||Xr[0]===2)){i=0;continue}if(Xr[0]===3&&(!R||Xr[1]>R[0]&&Xr[1]<R[3])){i.label=Xr[1];break}if(Xr[0]===6&&i.label<R[1]){i.label=R[1],R=Xr;break}if(R&&i.label<R[2]){i.label=R[2],i.ops.push(Xr);break}R[2]&&i.ops.pop(),i.trys.pop();continue}Xr=e.call(r,i)}catch(Zr){Xr=[6,Zr],W=0}finally{P=R=0}if(Xr[0]&5)throw Xr[1];return{value:Xr[0]?Xr[1]:void 0,done:!0}}}function __createBinding$2(r,e,i,P){P===void 0&&(P=i),r[P]=e[i]}function __exportStar$2(r,e){for(var i in r)i!=="default"&&!e.hasOwnProperty(i)&&(e[i]=r[i])}function __values$2(r){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&r[e],P=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&P>=r.length&&(r=void 0),{value:r&&r[P++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$2(r,e){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var P=i.call(r),W,R=[],Wr;try{for(;(e===void 0||e-- >0)&&!(W=P.next()).done;)R.push(W.value)}catch(ei){Wr={error:ei}}finally{try{W&&!W.done&&(i=P.return)&&i.call(P)}finally{if(Wr)throw Wr.error}}return R}function __spread$2(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(__read$2(arguments[e]));return r}function __spreadArrays$2(){for(var r=0,e=0,i=arguments.length;e<i;e++)r+=arguments[e].length;for(var P=Array(r),W=0,e=0;e<i;e++)for(var R=arguments[e],Wr=0,ei=R.length;Wr<ei;Wr++,W++)P[W]=R[Wr];return P}function __await$2(r){return this instanceof __await$2?(this.v=r,this):new __await$2(r)}function __asyncGenerator$2(r,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=i.apply(r,e||[]),W,R=[];return W={},Wr("next"),Wr("throw"),Wr("return"),W[Symbol.asyncIterator]=function(){return this},W;function Wr(oi){P[oi]&&(W[oi]=function(ai){return new Promise(function(fi,ui){R.push([oi,ai,fi,ui])>1||ei(oi,ai)})})}function ei(oi,ai){try{ni(P[oi](ai))}catch(fi){si(R[0][3],fi)}}function ni(oi){oi.value instanceof __await$2?Promise.resolve(oi.value.v).then(Xr,Zr):si(R[0][2],oi)}function Xr(oi){ei("next",oi)}function Zr(oi){ei("throw",oi)}function si(oi,ai){oi(ai),R.shift(),R.length&&ei(R[0][0],R[0][1])}}function __asyncDelegator$2(r){var e,i;return e={},P("next"),P("throw",function(W){throw W}),P("return"),e[Symbol.iterator]=function(){return this},e;function P(W,R){e[W]=r[W]?function(Wr){return(i=!i)?{value:__await$2(r[W](Wr)),done:W==="return"}:R?R(Wr):Wr}:R}}function __asyncValues$2(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],i;return e?e.call(r):(r=typeof __values$2=="function"?__values$2(r):r[Symbol.iterator](),i={},P("next"),P("throw"),P("return"),i[Symbol.asyncIterator]=function(){return this},i);function P(R){i[R]=r[R]&&function(Wr){return new Promise(function(ei,ni){Wr=r[R](Wr),W(ei,ni,Wr.done,Wr.value)})}}function W(R,Wr,ei,ni){Promise.resolve(ni).then(function(Xr){R({value:Xr,done:ei})},Wr)}}function __makeTemplateObject$2(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function __importStar$2(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e.default=r,e}function __importDefault$2(r){return r&&r.__esModule?r:{default:r}}function __classPrivateFieldGet$2(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function __classPrivateFieldSet$2(r,e,i){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,i),i}const tslib_es6$2=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$2},__asyncDelegator:__asyncDelegator$2,__asyncGenerator:__asyncGenerator$2,__asyncValues:__asyncValues$2,__await:__await$2,__awaiter:__awaiter$2,__classPrivateFieldGet:__classPrivateFieldGet$2,__classPrivateFieldSet:__classPrivateFieldSet$2,__createBinding:__createBinding$2,__decorate:__decorate$2,__exportStar:__exportStar$2,__extends:__extends$2,__generator:__generator$2,__importDefault:__importDefault$2,__importStar:__importStar$2,__makeTemplateObject:__makeTemplateObject$2,__metadata:__metadata$2,__param:__param$2,__read:__read$2,__rest:__rest$2,__spread:__spread$2,__spreadArrays:__spreadArrays$2,__values:__values$2},Symbol.toStringTag,{value:"Module"})),require$$0$5=getAugmentedNamespace(tslib_es6$2);var utils$4={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function r(e){return new Promise(i=>{setTimeout(()=>{i(!0)},e)})}return delay.delay=r,delay}var convert={},constants$2={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(time)),time}var hasRequiredConstants$2;function requireConstants$2(){return hasRequiredConstants$2||(hasRequiredConstants$2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$5;e.__exportStar(requireMisc(),r),e.__exportStar(requireTime(),r)}(constants$2)),constants$2}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const r=requireConstants$2();function e(P){return P*r.ONE_THOUSAND}convert.toMiliseconds=e;function i(P){return Math.floor(P/r.ONE_THOUSAND)}return convert.fromMiliseconds=i,convert}var hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$5;e.__exportStar(requireDelay(),r),e.__exportStar(requireConvert(),r)}(utils$4)),utils$4}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(i){if(this.timestamps.has(i))throw new Error(`Watch already started for label: ${i}`);this.timestamps.set(i,{started:Date.now()})}stop(i){const P=this.get(i);if(typeof P.elapsed<"u")throw new Error(`Watch already stopped for label: ${i}`);const W=Date.now()-P.started;this.timestamps.set(i,{started:P.started,elapsed:W})}get(i){const P=this.timestamps.get(i);if(typeof P>"u")throw new Error(`No timestamp found for label: ${i}`);return P}elapsed(i){const P=this.get(i);return P.elapsed||Date.now()-P.started}}return watch$2.Watch=r,watch$2.default=r,watch$2}var types$1={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class r{}return watch$1.IWatch=r,watch$1}var hasRequiredTypes$1;function requireTypes$1(){return hasRequiredTypes$1||(hasRequiredTypes$1=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),require$$0$5.__exportStar(requireWatch(),r)}(types$1)),types$1}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$5;e.__exportStar(requireUtils$4(),r),e.__exportStar(requireWatch$1(),r),e.__exportStar(requireTypes$1(),r),e.__exportStar(requireConstants$2(),r)})(cjs$4);var cjs$3={};Object.defineProperty(cjs$3,"__esModule",{value:!0});cjs$3.getLocalStorage=cjs$3.getLocalStorageOrThrow=cjs$3.getCrypto=cjs$3.getCryptoOrThrow=getLocation_1=cjs$3.getLocation=cjs$3.getLocationOrThrow=getNavigator_1=cjs$3.getNavigator=cjs$3.getNavigatorOrThrow=getDocument_1=cjs$3.getDocument=cjs$3.getDocumentOrThrow=cjs$3.getFromWindowOrThrow=cjs$3.getFromWindow=void 0;function getFromWindow(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}cjs$3.getFromWindow=getFromWindow;function getFromWindowOrThrow(r){const e=getFromWindow(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}cjs$3.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs$3.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}var getDocument_1=cjs$3.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs$3.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator(){return getFromWindow("navigator")}var getNavigator_1=cjs$3.getNavigator=getNavigator;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs$3.getLocationOrThrow=getLocationOrThrow;function getLocation(){return getFromWindow("location")}var getLocation_1=cjs$3.getLocation=getLocation;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs$3.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs$3.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs$3.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage(){return getFromWindow("localStorage")}cjs$3.getLocalStorage=getLocalStorage;var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});var getWindowMetadata_1=cjs$2.getWindowMetadata=void 0;const window_getters_1=cjs$3;function getWindowMetadata(){let r,e;try{r=window_getters_1.getDocumentOrThrow(),e=window_getters_1.getLocationOrThrow()}catch{return null}function i(){const si=r.getElementsByTagName("link"),oi=[];for(let ai=0;ai<si.length;ai++){const fi=si[ai],ui=fi.getAttribute("rel");if(ui&&ui.toLowerCase().indexOf("icon")>-1){const sn=fi.getAttribute("href");if(sn)if(sn.toLowerCase().indexOf("https:")===-1&&sn.toLowerCase().indexOf("http:")===-1&&sn.indexOf("//")!==0){let hn=e.protocol+"//"+e.host;if(sn.indexOf("/")===0)hn+=sn;else{const nn=e.pathname.split("/");nn.pop();const ln=nn.join("/");hn+=ln+"/"+sn}oi.push(hn)}else if(sn.indexOf("//")===0){const hn=e.protocol+sn;oi.push(hn)}else oi.push(sn)}}return oi}function P(...si){const oi=r.getElementsByTagName("meta");for(let ai=0;ai<oi.length;ai++){const fi=oi[ai],ui=["itemprop","property","name"].map(sn=>fi.getAttribute(sn)).filter(sn=>sn?si.includes(sn):!1);if(ui.length&&ui){const sn=fi.getAttribute("content");if(sn)return sn}}return""}function W(){let si=P("name","og:site_name","og:title","twitter:title");return si||(si=r.title),si}function R(){return P("description","og:description","twitter:description","keywords")}const Wr=W(),ei=R(),ni=e.origin,Xr=i();return{description:ei,url:ni,icons:Xr,name:Wr}}getWindowMetadata_1=cjs$2.getWindowMetadata=getWindowMetadata;var queryString={},strictUriEncode=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var i=r.slice(0,e),P=r.slice(e);return Array.prototype.concat.call([],decodeComponents(i),decodeComponents(P))}function decode$2(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(singleMatcher)||[],i=1;i<e.length;i++)r=decodeComponents(e,i).join(""),e=r.match(singleMatcher)||[];return r}}function customDecodeURIComponent(r){for(var e={"%FE%FF":"��","%FF%FE":"��"},i=multiMatcher.exec(r);i;){try{e[i[0]]=decodeURIComponent(i[0])}catch{var P=decode$2(i[0]);P!==i[0]&&(e[i[0]]=P)}i=multiMatcher.exec(r)}e["%C2"]="�";for(var W=Object.keys(e),R=0;R<W.length;R++){var Wr=W[R];r=r.replace(new RegExp(Wr,"g"),e[Wr])}return r}var decodeUriComponent=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return customDecodeURIComponent(r)}},splitOnFirst=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];const i=r.indexOf(e);return i===-1?[r]:[r.slice(0,i),r.slice(i+e.length)]},filterObj=function(r,e){for(var i={},P=Object.keys(r),W=Array.isArray(e),R=0;R<P.length;R++){var Wr=P[R],ei=r[Wr];(W?e.indexOf(Wr)!==-1:e(Wr,ei,r))&&(i[Wr]=ei)}return i};(function(r){const e=strictUriEncode,i=decodeUriComponent,P=splitOnFirst,W=filterObj,R=nn=>nn==null,Wr=Symbol("encodeFragmentIdentifier");function ei(nn){switch(nn.arrayFormat){case"index":return ln=>(on,vn)=>{const Mn=on.length;return vn===void 0||nn.skipNull&&vn===null||nn.skipEmptyString&&vn===""?on:vn===null?[...on,[Zr(ln,nn),"[",Mn,"]"].join("")]:[...on,[Zr(ln,nn),"[",Zr(Mn,nn),"]=",Zr(vn,nn)].join("")]};case"bracket":return ln=>(on,vn)=>vn===void 0||nn.skipNull&&vn===null||nn.skipEmptyString&&vn===""?on:vn===null?[...on,[Zr(ln,nn),"[]"].join("")]:[...on,[Zr(ln,nn),"[]=",Zr(vn,nn)].join("")];case"colon-list-separator":return ln=>(on,vn)=>vn===void 0||nn.skipNull&&vn===null||nn.skipEmptyString&&vn===""?on:vn===null?[...on,[Zr(ln,nn),":list="].join("")]:[...on,[Zr(ln,nn),":list=",Zr(vn,nn)].join("")];case"comma":case"separator":case"bracket-separator":{const ln=nn.arrayFormat==="bracket-separator"?"[]=":"=";return on=>(vn,Mn)=>Mn===void 0||nn.skipNull&&Mn===null||nn.skipEmptyString&&Mn===""?vn:(Mn=Mn===null?"":Mn,vn.length===0?[[Zr(on,nn),ln,Zr(Mn,nn)].join("")]:[[vn,Zr(Mn,nn)].join(nn.arrayFormatSeparator)])}default:return ln=>(on,vn)=>vn===void 0||nn.skipNull&&vn===null||nn.skipEmptyString&&vn===""?on:vn===null?[...on,Zr(ln,nn)]:[...on,[Zr(ln,nn),"=",Zr(vn,nn)].join("")]}}function ni(nn){let ln;switch(nn.arrayFormat){case"index":return(on,vn,Mn)=>{if(ln=/\[(\d*)\]$/.exec(on),on=on.replace(/\[\d*\]$/,""),!ln){Mn[on]=vn;return}Mn[on]===void 0&&(Mn[on]={}),Mn[on][ln[1]]=vn};case"bracket":return(on,vn,Mn)=>{if(ln=/(\[\])$/.exec(on),on=on.replace(/\[\]$/,""),!ln){Mn[on]=vn;return}if(Mn[on]===void 0){Mn[on]=[vn];return}Mn[on]=[].concat(Mn[on],vn)};case"colon-list-separator":return(on,vn,Mn)=>{if(ln=/(:list)$/.exec(on),on=on.replace(/:list$/,""),!ln){Mn[on]=vn;return}if(Mn[on]===void 0){Mn[on]=[vn];return}Mn[on]=[].concat(Mn[on],vn)};case"comma":case"separator":return(on,vn,Mn)=>{const mi=typeof vn=="string"&&vn.includes(nn.arrayFormatSeparator),mn=typeof vn=="string"&&!mi&&si(vn,nn).includes(nn.arrayFormatSeparator);vn=mn?si(vn,nn):vn;const Bn=mi||mn?vn.split(nn.arrayFormatSeparator).map(ko=>si(ko,nn)):vn===null?vn:si(vn,nn);Mn[on]=Bn};case"bracket-separator":return(on,vn,Mn)=>{const mi=/(\[\])$/.test(on);if(on=on.replace(/\[\]$/,""),!mi){Mn[on]=vn&&si(vn,nn);return}const mn=vn===null?[]:vn.split(nn.arrayFormatSeparator).map(Bn=>si(Bn,nn));if(Mn[on]===void 0){Mn[on]=mn;return}Mn[on]=[].concat(Mn[on],mn)};default:return(on,vn,Mn)=>{if(Mn[on]===void 0){Mn[on]=vn;return}Mn[on]=[].concat(Mn[on],vn)}}}function Xr(nn){if(typeof nn!="string"||nn.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Zr(nn,ln){return ln.encode?ln.strict?e(nn):encodeURIComponent(nn):nn}function si(nn,ln){return ln.decode?i(nn):nn}function oi(nn){return Array.isArray(nn)?nn.sort():typeof nn=="object"?oi(Object.keys(nn)).sort((ln,on)=>Number(ln)-Number(on)).map(ln=>nn[ln]):nn}function ai(nn){const ln=nn.indexOf("#");return ln!==-1&&(nn=nn.slice(0,ln)),nn}function fi(nn){let ln="";const on=nn.indexOf("#");return on!==-1&&(ln=nn.slice(on)),ln}function ui(nn){nn=ai(nn);const ln=nn.indexOf("?");return ln===-1?"":nn.slice(ln+1)}function sn(nn,ln){return ln.parseNumbers&&!Number.isNaN(Number(nn))&&typeof nn=="string"&&nn.trim()!==""?nn=Number(nn):ln.parseBooleans&&nn!==null&&(nn.toLowerCase()==="true"||nn.toLowerCase()==="false")&&(nn=nn.toLowerCase()==="true"),nn}function hn(nn,ln){ln=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},ln),Xr(ln.arrayFormatSeparator);const on=ni(ln),vn=Object.create(null);if(typeof nn!="string"||(nn=nn.trim().replace(/^[?#&]/,""),!nn))return vn;for(const Mn of nn.split("&")){if(Mn==="")continue;let[mi,mn]=P(ln.decode?Mn.replace(/\+/g," "):Mn,"=");mn=mn===void 0?null:["comma","separator","bracket-separator"].includes(ln.arrayFormat)?mn:si(mn,ln),on(si(mi,ln),mn,vn)}for(const Mn of Object.keys(vn)){const mi=vn[Mn];if(typeof mi=="object"&&mi!==null)for(const mn of Object.keys(mi))mi[mn]=sn(mi[mn],ln);else vn[Mn]=sn(mi,ln)}return ln.sort===!1?vn:(ln.sort===!0?Object.keys(vn).sort():Object.keys(vn).sort(ln.sort)).reduce((Mn,mi)=>{const mn=vn[mi];return mn&&typeof mn=="object"&&!Array.isArray(mn)?Mn[mi]=oi(mn):Mn[mi]=mn,Mn},Object.create(null))}r.extract=ui,r.parse=hn,r.stringify=(nn,ln)=>{if(!nn)return"";ln=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},ln),Xr(ln.arrayFormatSeparator);const on=mn=>ln.skipNull&&R(nn[mn])||ln.skipEmptyString&&nn[mn]==="",vn=ei(ln),Mn={};for(const mn of Object.keys(nn))on(mn)||(Mn[mn]=nn[mn]);const mi=Object.keys(Mn);return ln.sort!==!1&&mi.sort(ln.sort),mi.map(mn=>{const Bn=nn[mn];return Bn===void 0?"":Bn===null?Zr(mn,ln):Array.isArray(Bn)?Bn.length===0&&ln.arrayFormat==="bracket-separator"?Zr(mn,ln)+"[]":Bn.reduce(vn(mn),[]).join("&"):Zr(mn,ln)+"="+Zr(Bn,ln)}).filter(mn=>mn.length>0).join("&")},r.parseUrl=(nn,ln)=>{ln=Object.assign({decode:!0},ln);const[on,vn]=P(nn,"#");return Object.assign({url:on.split("?")[0]||"",query:hn(ui(nn),ln)},ln&&ln.parseFragmentIdentifier&&vn?{fragmentIdentifier:si(vn,ln)}:{})},r.stringifyUrl=(nn,ln)=>{ln=Object.assign({encode:!0,strict:!0,[Wr]:!0},ln);const on=ai(nn.url).split("?")[0]||"",vn=r.extract(nn.url),Mn=r.parse(vn,{sort:!1}),mi=Object.assign(Mn,nn.query);let mn=r.stringify(mi,ln);mn&&(mn=`?${mn}`);let Bn=fi(nn.url);return nn.fragmentIdentifier&&(Bn=`#${ln[Wr]?Zr(nn.fragmentIdentifier,ln):nn.fragmentIdentifier}`),`${on}${mn}${Bn}`},r.pick=(nn,ln,on)=>{on=Object.assign({parseFragmentIdentifier:!0,[Wr]:!1},on);const{url:vn,query:Mn,fragmentIdentifier:mi}=r.parseUrl(nn,on);return r.stringifyUrl({url:vn,query:W(Mn,ln),fragmentIdentifier:mi},on)},r.exclude=(nn,ln,on)=>{const vn=Array.isArray(ln)?Mn=>!ln.includes(Mn):(Mn,mi)=>!ln(Mn,mi);return r.pick(nn,vn,on)}})(queryString);var chacha20poly1305={},chacha={},binary={},int={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(ei,ni){var Xr=ei>>>16&65535,Zr=ei&65535,si=ni>>>16&65535,oi=ni&65535;return Zr*oi+(Xr*oi+Zr*si<<16>>>0)|0}r.mul=Math.imul||e;function i(ei,ni){return ei+ni|0}r.add=i;function P(ei,ni){return ei-ni|0}r.sub=P;function W(ei,ni){return ei<<ni|ei>>>32-ni}r.rotl=W;function R(ei,ni){return ei<<32-ni|ei>>>ni}r.rotr=R;function Wr(ei){return typeof ei=="number"&&isFinite(ei)&&Math.floor(ei)===ei}r.isInteger=Number.isInteger||Wr,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(ei){return r.isInteger(ei)&&ei>=-r.MAX_SAFE_INTEGER&&ei<=r.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(r,e,i){return e===void 0&&(e=new Uint8Array(2)),i===void 0&&(i=0),e[i+0]=r>>>8,e[i+1]=r>>>0,e}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(r,e,i){return e===void 0&&(e=new Uint8Array(2)),i===void 0&&(i=0),e[i+0]=r>>>0,e[i+1]=r>>>8,e}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}binary.readInt32BE=readInt32BE;function readUint32BE(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}binary.readInt32LE=readInt32LE;function readUint32LE(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(r,e,i){return e===void 0&&(e=new Uint8Array(4)),i===void 0&&(i=0),e[i+0]=r>>>24,e[i+1]=r>>>16,e[i+2]=r>>>8,e[i+3]=r>>>0,e}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(r,e,i){return e===void 0&&(e=new Uint8Array(4)),i===void 0&&(i=0),e[i+0]=r>>>0,e[i+1]=r>>>8,e[i+2]=r>>>16,e[i+3]=r>>>24,e}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(r,e){e===void 0&&(e=0);var i=readInt32BE(r,e),P=readInt32BE(r,e+4);return i*4294967296+P-(P>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(r,e){e===void 0&&(e=0);var i=readUint32BE(r,e),P=readUint32BE(r,e+4);return i*4294967296+P}binary.readUint64BE=readUint64BE;function readInt64LE(r,e){e===void 0&&(e=0);var i=readInt32LE(r,e),P=readInt32LE(r,e+4);return P*4294967296+i-(i>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(r,e){e===void 0&&(e=0);var i=readUint32LE(r,e),P=readUint32LE(r,e+4);return P*4294967296+i}binary.readUint64LE=readUint64LE;function writeUint64BE(r,e,i){return e===void 0&&(e=new Uint8Array(8)),i===void 0&&(i=0),writeUint32BE(r/4294967296>>>0,e,i),writeUint32BE(r>>>0,e,i+4),e}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(r,e,i){return e===void 0&&(e=new Uint8Array(8)),i===void 0&&(i=0),writeUint32LE(r>>>0,e,i),writeUint32LE(r/4294967296>>>0,e,i+4),e}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(r,e,i){if(i===void 0&&(i=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-i)throw new Error("readUintBE: array is too short for the given bitLength");for(var P=0,W=1,R=r/8+i-1;R>=i;R--)P+=e[R]*W,W*=256;return P}binary.readUintBE=readUintBE;function readUintLE(r,e,i){if(i===void 0&&(i=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-i)throw new Error("readUintLE: array is too short for the given bitLength");for(var P=0,W=1,R=i;R<i+r/8;R++)P+=e[R]*W,W*=256;return P}binary.readUintLE=readUintLE;function writeUintBE(r,e,i,P){if(i===void 0&&(i=new Uint8Array(r/8)),P===void 0&&(P=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var W=1,R=r/8+P-1;R>=P;R--)i[R]=e/W&255,W*=256;return i}binary.writeUintBE=writeUintBE;function writeUintLE(r,e,i,P){if(i===void 0&&(i=new Uint8Array(r/8)),P===void 0&&(P=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var W=1,R=P;R<P+r/8;R++)i[R]=e/W&255,W*=256;return i}binary.writeUintLE=writeUintLE;function readFloat32BE(r,e){e===void 0&&(e=0);var i=new DataView(r.buffer,r.byteOffset,r.byteLength);return i.getFloat32(e)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(r,e){e===void 0&&(e=0);var i=new DataView(r.buffer,r.byteOffset,r.byteLength);return i.getFloat32(e,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(r,e){e===void 0&&(e=0);var i=new DataView(r.buffer,r.byteOffset,r.byteLength);return i.getFloat64(e)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(r,e){e===void 0&&(e=0);var i=new DataView(r.buffer,r.byteOffset,r.byteLength);return i.getFloat64(e,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(r,e,i){e===void 0&&(e=new Uint8Array(4)),i===void 0&&(i=0);var P=new DataView(e.buffer,e.byteOffset,e.byteLength);return P.setFloat32(i,r),e}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(r,e,i){e===void 0&&(e=new Uint8Array(4)),i===void 0&&(i=0);var P=new DataView(e.buffer,e.byteOffset,e.byteLength);return P.setFloat32(i,r,!0),e}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(r,e,i){e===void 0&&(e=new Uint8Array(8)),i===void 0&&(i=0);var P=new DataView(e.buffer,e.byteOffset,e.byteLength);return P.setFloat64(i,r),e}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(r,e,i){e===void 0&&(e=new Uint8Array(8)),i===void 0&&(i=0);var P=new DataView(e.buffer,e.byteOffset,e.byteLength);return P.setFloat64(i,r,!0),e}binary.writeFloat64LE=writeFloat64LE;var wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(r){for(var e=0;e<r.length;e++)r[e]=0;return r}wipe$1.wipe=wipe;Object.defineProperty(chacha,"__esModule",{value:!0});var binary_1=binary,wipe_1$3=wipe$1,ROUNDS=20;function core(r,e,i){for(var P=1634760805,W=857760878,R=2036477234,Wr=1797285236,ei=i[3]<<24|i[2]<<16|i[1]<<8|i[0],ni=i[7]<<24|i[6]<<16|i[5]<<8|i[4],Xr=i[11]<<24|i[10]<<16|i[9]<<8|i[8],Zr=i[15]<<24|i[14]<<16|i[13]<<8|i[12],si=i[19]<<24|i[18]<<16|i[17]<<8|i[16],oi=i[23]<<24|i[22]<<16|i[21]<<8|i[20],ai=i[27]<<24|i[26]<<16|i[25]<<8|i[24],fi=i[31]<<24|i[30]<<16|i[29]<<8|i[28],ui=e[3]<<24|e[2]<<16|e[1]<<8|e[0],sn=e[7]<<24|e[6]<<16|e[5]<<8|e[4],hn=e[11]<<24|e[10]<<16|e[9]<<8|e[8],nn=e[15]<<24|e[14]<<16|e[13]<<8|e[12],ln=P,on=W,vn=R,Mn=Wr,mi=ei,mn=ni,Bn=Xr,ko=Zr,ii=si,t=oi,o=ai,H=fi,G=ui,Ne=sn,Le=hn,ti=nn,Ie=0;Ie<ROUNDS;Ie+=2)ln=ln+mi|0,G^=ln,G=G>>>16|G<<16,ii=ii+G|0,mi^=ii,mi=mi>>>20|mi<<12,on=on+mn|0,Ne^=on,Ne=Ne>>>16|Ne<<16,t=t+Ne|0,mn^=t,mn=mn>>>20|mn<<12,vn=vn+Bn|0,Le^=vn,Le=Le>>>16|Le<<16,o=o+Le|0,Bn^=o,Bn=Bn>>>20|Bn<<12,Mn=Mn+ko|0,ti^=Mn,ti=ti>>>16|ti<<16,H=H+ti|0,ko^=H,ko=ko>>>20|ko<<12,vn=vn+Bn|0,Le^=vn,Le=Le>>>24|Le<<8,o=o+Le|0,Bn^=o,Bn=Bn>>>25|Bn<<7,Mn=Mn+ko|0,ti^=Mn,ti=ti>>>24|ti<<8,H=H+ti|0,ko^=H,ko=ko>>>25|ko<<7,on=on+mn|0,Ne^=on,Ne=Ne>>>24|Ne<<8,t=t+Ne|0,mn^=t,mn=mn>>>25|mn<<7,ln=ln+mi|0,G^=ln,G=G>>>24|G<<8,ii=ii+G|0,mi^=ii,mi=mi>>>25|mi<<7,ln=ln+mn|0,ti^=ln,ti=ti>>>16|ti<<16,o=o+ti|0,mn^=o,mn=mn>>>20|mn<<12,on=on+Bn|0,G^=on,G=G>>>16|G<<16,H=H+G|0,Bn^=H,Bn=Bn>>>20|Bn<<12,vn=vn+ko|0,Ne^=vn,Ne=Ne>>>16|Ne<<16,ii=ii+Ne|0,ko^=ii,ko=ko>>>20|ko<<12,Mn=Mn+mi|0,Le^=Mn,Le=Le>>>16|Le<<16,t=t+Le|0,mi^=t,mi=mi>>>20|mi<<12,vn=vn+ko|0,Ne^=vn,Ne=Ne>>>24|Ne<<8,ii=ii+Ne|0,ko^=ii,ko=ko>>>25|ko<<7,Mn=Mn+mi|0,Le^=Mn,Le=Le>>>24|Le<<8,t=t+Le|0,mi^=t,mi=mi>>>25|mi<<7,on=on+Bn|0,G^=on,G=G>>>24|G<<8,H=H+G|0,Bn^=H,Bn=Bn>>>25|Bn<<7,ln=ln+mn|0,ti^=ln,ti=ti>>>24|ti<<8,o=o+ti|0,mn^=o,mn=mn>>>25|mn<<7;binary_1.writeUint32LE(ln+P|0,r,0),binary_1.writeUint32LE(on+W|0,r,4),binary_1.writeUint32LE(vn+R|0,r,8),binary_1.writeUint32LE(Mn+Wr|0,r,12),binary_1.writeUint32LE(mi+ei|0,r,16),binary_1.writeUint32LE(mn+ni|0,r,20),binary_1.writeUint32LE(Bn+Xr|0,r,24),binary_1.writeUint32LE(ko+Zr|0,r,28),binary_1.writeUint32LE(ii+si|0,r,32),binary_1.writeUint32LE(t+oi|0,r,36),binary_1.writeUint32LE(o+ai|0,r,40),binary_1.writeUint32LE(H+fi|0,r,44),binary_1.writeUint32LE(G+ui|0,r,48),binary_1.writeUint32LE(Ne+sn|0,r,52),binary_1.writeUint32LE(Le+hn|0,r,56),binary_1.writeUint32LE(ti+nn|0,r,60)}function streamXOR(r,e,i,P,W){if(W===void 0&&(W=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(P.length<i.length)throw new Error("ChaCha: destination is shorter than source");var R,Wr;if(W===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");R=new Uint8Array(16),Wr=R.length-e.length,R.set(e,Wr)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");R=e,Wr=W}for(var ei=new Uint8Array(64),ni=0;ni<i.length;ni+=64){core(ei,R,r);for(var Xr=ni;Xr<ni+64&&Xr<i.length;Xr++)P[Xr]=i[Xr]^ei[Xr-ni];incrementCounter(R,0,Wr)}return wipe_1$3.wipe(ei),W===0&&wipe_1$3.wipe(R),P}chacha.streamXOR=streamXOR;function stream(r,e,i,P){return P===void 0&&(P=0),wipe_1$3.wipe(i),streamXOR(r,e,i,i,P)}chacha.stream=stream;function incrementCounter(r,e,i){for(var P=1;i--;)P=P+(r[e]&255)|0,r[e]=P&255,P>>>=8,e++;if(P>0)throw new Error("ChaCha: counter overflow")}var poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select(r,e,i){return~(r-1)&e|r-1&i}constantTime.select=select;function lessOrEqual(r,e){return(r|0)-(e|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare(r,e){if(r.length!==e.length)return 0;for(var i=0,P=0;P<r.length;P++)i|=r[P]^e[P];return 1&i-1>>>8}constantTime.compare=compare;function equal(r,e){return r.length===0||e.length===0?!1:compare(r,e)!==0}constantTime.equal=equal;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=constantTime,i=wipe$1;r.DIGEST_LENGTH=16;var P=function(){function Wr(ei){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var ni=ei[0]|ei[1]<<8;this._r[0]=ni&8191;var Xr=ei[2]|ei[3]<<8;this._r[1]=(ni>>>13|Xr<<3)&8191;var Zr=ei[4]|ei[5]<<8;this._r[2]=(Xr>>>10|Zr<<6)&7939;var si=ei[6]|ei[7]<<8;this._r[3]=(Zr>>>7|si<<9)&8191;var oi=ei[8]|ei[9]<<8;this._r[4]=(si>>>4|oi<<12)&255,this._r[5]=oi>>>1&8190;var ai=ei[10]|ei[11]<<8;this._r[6]=(oi>>>14|ai<<2)&8191;var fi=ei[12]|ei[13]<<8;this._r[7]=(ai>>>11|fi<<5)&8065;var ui=ei[14]|ei[15]<<8;this._r[8]=(fi>>>8|ui<<8)&8191,this._r[9]=ui>>>5&127,this._pad[0]=ei[16]|ei[17]<<8,this._pad[1]=ei[18]|ei[19]<<8,this._pad[2]=ei[20]|ei[21]<<8,this._pad[3]=ei[22]|ei[23]<<8,this._pad[4]=ei[24]|ei[25]<<8,this._pad[5]=ei[26]|ei[27]<<8,this._pad[6]=ei[28]|ei[29]<<8,this._pad[7]=ei[30]|ei[31]<<8}return Wr.prototype._blocks=function(ei,ni,Xr){for(var Zr=this._fin?0:2048,si=this._h[0],oi=this._h[1],ai=this._h[2],fi=this._h[3],ui=this._h[4],sn=this._h[5],hn=this._h[6],nn=this._h[7],ln=this._h[8],on=this._h[9],vn=this._r[0],Mn=this._r[1],mi=this._r[2],mn=this._r[3],Bn=this._r[4],ko=this._r[5],ii=this._r[6],t=this._r[7],o=this._r[8],H=this._r[9];Xr>=16;){var G=ei[ni+0]|ei[ni+1]<<8;si+=G&8191;var Ne=ei[ni+2]|ei[ni+3]<<8;oi+=(G>>>13|Ne<<3)&8191;var Le=ei[ni+4]|ei[ni+5]<<8;ai+=(Ne>>>10|Le<<6)&8191;var ti=ei[ni+6]|ei[ni+7]<<8;fi+=(Le>>>7|ti<<9)&8191;var Ie=ei[ni+8]|ei[ni+9]<<8;ui+=(ti>>>4|Ie<<12)&8191,sn+=Ie>>>1&8191;var s=ei[ni+10]|ei[ni+11]<<8;hn+=(Ie>>>14|s<<2)&8191;var Y=ei[ni+12]|ei[ni+13]<<8;nn+=(s>>>11|Y<<5)&8191;var li=ei[ni+14]|ei[ni+15]<<8;ln+=(Y>>>8|li<<8)&8191,on+=li>>>5|Zr;var un=0,pn=un;pn+=si*vn,pn+=oi*(5*H),pn+=ai*(5*o),pn+=fi*(5*t),pn+=ui*(5*ii),un=pn>>>13,pn&=8191,pn+=sn*(5*ko),pn+=hn*(5*Bn),pn+=nn*(5*mn),pn+=ln*(5*mi),pn+=on*(5*Mn),un+=pn>>>13,pn&=8191;var di=un;di+=si*Mn,di+=oi*vn,di+=ai*(5*H),di+=fi*(5*o),di+=ui*(5*t),un=di>>>13,di&=8191,di+=sn*(5*ii),di+=hn*(5*ko),di+=nn*(5*Bn),di+=ln*(5*mn),di+=on*(5*mi),un+=di>>>13,di&=8191;var An=un;An+=si*mi,An+=oi*Mn,An+=ai*vn,An+=fi*(5*H),An+=ui*(5*o),un=An>>>13,An&=8191,An+=sn*(5*t),An+=hn*(5*ii),An+=nn*(5*ko),An+=ln*(5*Bn),An+=on*(5*mn),un+=An>>>13,An&=8191;var $i=un;$i+=si*mn,$i+=oi*mi,$i+=ai*Mn,$i+=fi*vn,$i+=ui*(5*H),un=$i>>>13,$i&=8191,$i+=sn*(5*o),$i+=hn*(5*t),$i+=nn*(5*ii),$i+=ln*(5*ko),$i+=on*(5*Bn),un+=$i>>>13,$i&=8191;var fn=un;fn+=si*Bn,fn+=oi*mn,fn+=ai*mi,fn+=fi*Mn,fn+=ui*vn,un=fn>>>13,fn&=8191,fn+=sn*(5*H),fn+=hn*(5*o),fn+=nn*(5*t),fn+=ln*(5*ii),fn+=on*(5*ko),un+=fn>>>13,fn&=8191;var cn=un;cn+=si*ko,cn+=oi*Bn,cn+=ai*mn,cn+=fi*mi,cn+=ui*Mn,un=cn>>>13,cn&=8191,cn+=sn*vn,cn+=hn*(5*H),cn+=nn*(5*o),cn+=ln*(5*t),cn+=on*(5*ii),un+=cn>>>13,cn&=8191;var ci=un;ci+=si*ii,ci+=oi*ko,ci+=ai*Bn,ci+=fi*mn,ci+=ui*mi,un=ci>>>13,ci&=8191,ci+=sn*Mn,ci+=hn*vn,ci+=nn*(5*H),ci+=ln*(5*o),ci+=on*(5*t),un+=ci>>>13,ci&=8191;var Rn=un;Rn+=si*t,Rn+=oi*ii,Rn+=ai*ko,Rn+=fi*Bn,Rn+=ui*mn,un=Rn>>>13,Rn&=8191,Rn+=sn*mi,Rn+=hn*Mn,Rn+=nn*vn,Rn+=ln*(5*H),Rn+=on*(5*o),un+=Rn>>>13,Rn&=8191;var Zn=un;Zn+=si*o,Zn+=oi*t,Zn+=ai*ii,Zn+=fi*ko,Zn+=ui*Bn,un=Zn>>>13,Zn&=8191,Zn+=sn*mn,Zn+=hn*mi,Zn+=nn*Mn,Zn+=ln*vn,Zn+=on*(5*H),un+=Zn>>>13,Zn&=8191;var ho=un;ho+=si*H,ho+=oi*o,ho+=ai*t,ho+=fi*ii,ho+=ui*ko,un=ho>>>13,ho&=8191,ho+=sn*Bn,ho+=hn*mn,ho+=nn*mi,ho+=ln*Mn,ho+=on*vn,un+=ho>>>13,ho&=8191,un=(un<<2)+un|0,un=un+pn|0,pn=un&8191,un=un>>>13,di+=un,si=pn,oi=di,ai=An,fi=$i,ui=fn,sn=cn,hn=ci,nn=Rn,ln=Zn,on=ho,ni+=16,Xr-=16}this._h[0]=si,this._h[1]=oi,this._h[2]=ai,this._h[3]=fi,this._h[4]=ui,this._h[5]=sn,this._h[6]=hn,this._h[7]=nn,this._h[8]=ln,this._h[9]=on},Wr.prototype.finish=function(ei,ni){ni===void 0&&(ni=0);var Xr=new Uint16Array(10),Zr,si,oi,ai;if(this._leftover){for(ai=this._leftover,this._buffer[ai++]=1;ai<16;ai++)this._buffer[ai]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(Zr=this._h[1]>>>13,this._h[1]&=8191,ai=2;ai<10;ai++)this._h[ai]+=Zr,Zr=this._h[ai]>>>13,this._h[ai]&=8191;for(this._h[0]+=Zr*5,Zr=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=Zr,Zr=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=Zr,Xr[0]=this._h[0]+5,Zr=Xr[0]>>>13,Xr[0]&=8191,ai=1;ai<10;ai++)Xr[ai]=this._h[ai]+Zr,Zr=Xr[ai]>>>13,Xr[ai]&=8191;for(Xr[9]-=8192,si=(Zr^1)-1,ai=0;ai<10;ai++)Xr[ai]&=si;for(si=~si,ai=0;ai<10;ai++)this._h[ai]=this._h[ai]&si|Xr[ai];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,oi=this._h[0]+this._pad[0],this._h[0]=oi&65535,ai=1;ai<8;ai++)oi=(this._h[ai]+this._pad[ai]|0)+(oi>>>16)|0,this._h[ai]=oi&65535;return ei[ni+0]=this._h[0]>>>0,ei[ni+1]=this._h[0]>>>8,ei[ni+2]=this._h[1]>>>0,ei[ni+3]=this._h[1]>>>8,ei[ni+4]=this._h[2]>>>0,ei[ni+5]=this._h[2]>>>8,ei[ni+6]=this._h[3]>>>0,ei[ni+7]=this._h[3]>>>8,ei[ni+8]=this._h[4]>>>0,ei[ni+9]=this._h[4]>>>8,ei[ni+10]=this._h[5]>>>0,ei[ni+11]=this._h[5]>>>8,ei[ni+12]=this._h[6]>>>0,ei[ni+13]=this._h[6]>>>8,ei[ni+14]=this._h[7]>>>0,ei[ni+15]=this._h[7]>>>8,this._finished=!0,this},Wr.prototype.update=function(ei){var ni=0,Xr=ei.length,Zr;if(this._leftover){Zr=16-this._leftover,Zr>Xr&&(Zr=Xr);for(var si=0;si<Zr;si++)this._buffer[this._leftover+si]=ei[ni+si];if(Xr-=Zr,ni+=Zr,this._leftover+=Zr,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(Xr>=16&&(Zr=Xr-Xr%16,this._blocks(ei,ni,Zr),ni+=Zr,Xr-=Zr),Xr){for(var si=0;si<Xr;si++)this._buffer[this._leftover+si]=ei[ni+si];this._leftover+=Xr}return this},Wr.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var ei=new Uint8Array(16);return this.finish(ei),ei},Wr.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},Wr}();r.Poly1305=P;function W(Wr,ei){var ni=new P(Wr);ni.update(ei);var Xr=ni.digest();return ni.clean(),Xr}r.oneTimeAuth=W;function R(Wr,ei){return Wr.length!==r.DIGEST_LENGTH||ei.length!==r.DIGEST_LENGTH?!1:e.equal(Wr,ei)}r.equal=R})(poly1305);(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=chacha,i=poly1305,P=wipe$1,W=binary,R=constantTime;r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var Wr=new Uint8Array(16),ei=function(){function ni(Xr){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,Xr.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(Xr)}return ni.prototype.seal=function(Xr,Zr,si,oi){if(Xr.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var ai=new Uint8Array(16);ai.set(Xr,ai.length-Xr.length);var fi=new Uint8Array(32);e.stream(this._key,ai,fi,4);var ui=Zr.length+this.tagLength,sn;if(oi){if(oi.length!==ui)throw new Error("ChaCha20Poly1305: incorrect destination length");sn=oi}else sn=new Uint8Array(ui);return e.streamXOR(this._key,ai,Zr,sn,4),this._authenticate(sn.subarray(sn.length-this.tagLength,sn.length),fi,sn.subarray(0,sn.length-this.tagLength),si),P.wipe(ai),sn},ni.prototype.open=function(Xr,Zr,si,oi){if(Xr.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(Zr.length<this.tagLength)return null;var ai=new Uint8Array(16);ai.set(Xr,ai.length-Xr.length);var fi=new Uint8Array(32);e.stream(this._key,ai,fi,4);var ui=new Uint8Array(this.tagLength);if(this._authenticate(ui,fi,Zr.subarray(0,Zr.length-this.tagLength),si),!R.equal(ui,Zr.subarray(Zr.length-this.tagLength,Zr.length)))return null;var sn=Zr.length-this.tagLength,hn;if(oi){if(oi.length!==sn)throw new Error("ChaCha20Poly1305: incorrect destination length");hn=oi}else hn=new Uint8Array(sn);return e.streamXOR(this._key,ai,Zr.subarray(0,Zr.length-this.tagLength),hn,4),P.wipe(ai),hn},ni.prototype.clean=function(){return P.wipe(this._key),this},ni.prototype._authenticate=function(Xr,Zr,si,oi){var ai=new i.Poly1305(Zr);oi&&(ai.update(oi),oi.length%16>0&&ai.update(Wr.subarray(oi.length%16))),ai.update(si),si.length%16>0&&ai.update(Wr.subarray(si.length%16));var fi=new Uint8Array(8);oi&&W.writeUint64LE(oi.length,fi),ai.update(fi),W.writeUint64LE(si.length,fi),ai.update(fi);for(var ui=ai.digest(),sn=0;sn<ui.length;sn++)Xr[sn]=ui[sn];ai.clean(),P.wipe(ui),P.wipe(fi)},ni}();r.ChaCha20Poly1305=ei})(chacha20poly1305);var hkdf={},hmac$2={},hash$1={};Object.defineProperty(hash$1,"__esModule",{value:!0});function isSerializableHash(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}hash$1.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$2,"__esModule",{value:!0});var hash_1=hash$1,constant_time_1=constantTime,wipe_1$2=wipe$1,HMAC=function(){function r(e,i){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var P=new Uint8Array(this.blockSize);i.length>this.blockSize?this._inner.update(i).finish(P).clean():P.set(i);for(var W=0;W<P.length;W++)P[W]^=54;this._inner.update(P);for(var W=0;W<P.length;W++)P[W]^=106;this._outer.update(P),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1$2.wipe(P)}return r.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();hmac$2.HMAC=HMAC;function hmac$1(r,e,i){var P=new HMAC(r,e);P.update(i);var W=P.digest();return P.clean(),W}hmac$2.hmac=hmac$1;hmac$2.equal=constant_time_1.equal;Object.defineProperty(hkdf,"__esModule",{value:!0});var hmac_1=hmac$2,wipe_1$1=wipe$1,HKDF=function(){function r(e,i,P,W){P===void 0&&(P=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=W;var R=hmac_1.hmac(this._hash,P,i);this._hmac=new hmac_1.HMAC(e,R),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var i=new Uint8Array(e),P=0;P<i.length;P++)this._bufpos===this._buffer.length&&this._fillBuffer(),i[P]=this._buffer[this._bufpos++];return i},r.prototype.clean=function(){this._hmac.clean(),wipe_1$1.wipe(this._buffer),wipe_1$1.wipe(this._counter),this._bufpos=0},r}(),HKDF_1=hkdf.HKDF=HKDF,random={},system={},browser$d={};Object.defineProperty(browser$d,"__esModule",{value:!0});browser$d.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const i=new Uint8Array(e);for(let P=0;P<i.length;P+=QUOTA)this._crypto.getRandomValues(i.subarray(P,P+Math.min(i.length-P,QUOTA)));return i}}browser$d.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$1={},cryptoBrowserify={},browser$c={exports:{}},hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$c.exports;hasRequiredBrowser$a=1;var r=65536,e=4294967295;function i(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var P=safeBufferExports.Buffer,W=commonjsGlobal.crypto||commonjsGlobal.msCrypto;W&&W.getRandomValues?browser$c.exports=R:browser$c.exports=i;function R(Wr,ei){if(Wr>e)throw new RangeError("requested too many random bytes");var ni=P.allocUnsafe(Wr);if(Wr>0)if(Wr>r)for(var Xr=0;Xr<Wr;Xr+=r)W.getRandomValues(ni.slice(Xr,Xr+r));else W.getRandomValues(ni);return typeof ei=="function"?process$1.nextTick(function(){ei(null,ni)}):ni}return browser$c.exports}var streamBrowserify=Stream,EE=eventsExports.EventEmitter,inherits=inherits_browserExports;inherits(Stream,EE);Stream.Readable=require_stream_readable$1();Stream.Writable=require_stream_writable$1();Stream.Duplex=require_stream_duplex$1();Stream.Transform=require_stream_transform$1();Stream.PassThrough=require_stream_passthrough$1();Stream.finished=requireEndOfStream();Stream.pipeline=requirePipeline();Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(r,e){var i=this;function P(Zr){r.writable&&r.write(Zr)===!1&&i.pause&&i.pause()}i.on("data",P);function W(){i.readable&&i.resume&&i.resume()}r.on("drain",W),!r._isStdio&&(!e||e.end!==!1)&&(i.on("end",Wr),i.on("close",ei));var R=!1;function Wr(){R||(R=!0,r.end())}function ei(){R||(R=!0,typeof r.destroy=="function"&&r.destroy())}function ni(Zr){if(Xr(),EE.listenerCount(this,"error")===0)throw Zr}i.on("error",ni),r.on("error",ni);function Xr(){i.removeListener("data",P),r.removeListener("drain",W),i.removeListener("end",Wr),i.removeListener("close",ei),i.removeListener("error",ni),r.removeListener("error",ni),i.removeListener("end",Xr),i.removeListener("close",Xr),r.removeListener("close",Xr)}return i.on("end",Xr),i.on("close",Xr),r.on("close",Xr),r.emit("pipe",i),r};var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var r=safeBufferExports.Buffer,e=streamBrowserify.Transform,i=inherits_browserExports;function P(R,Wr){if(!r.isBuffer(R)&&typeof R!="string")throw new TypeError(Wr+" must be a string or a buffer")}function W(R){e.call(this),this._block=r.allocUnsafe(R),this._blockSize=R,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return i(W,e),W.prototype._transform=function(R,Wr,ei){var ni=null;try{this.update(R,Wr)}catch(Xr){ni=Xr}ei(ni)},W.prototype._flush=function(R){var Wr=null;try{this.push(this.digest())}catch(ei){Wr=ei}R(Wr)},W.prototype.update=function(R,Wr){if(P(R,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(R)||(R=r.from(R,Wr));for(var ei=this._block,ni=0;this._blockOffset+R.length-ni>=this._blockSize;){for(var Xr=this._blockOffset;Xr<this._blockSize;)ei[Xr++]=R[ni++];this._update(),this._blockOffset=0}for(;ni<R.length;)ei[this._blockOffset++]=R[ni++];for(var Zr=0,si=R.length*8;si>0;++Zr)this._length[Zr]+=si,si=this._length[Zr]/4294967296|0,si>0&&(this._length[Zr]-=4294967296*si);return this},W.prototype._update=function(){throw new Error("_update is not implemented")},W.prototype.digest=function(R){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var Wr=this._digest();R!==void 0&&(Wr=Wr.toString(R)),this._block.fill(0),this._blockOffset=0;for(var ei=0;ei<4;++ei)this._length[ei]=0;return Wr},W.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=W,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var r=inherits_browserExports,e=requireHashBase(),i=safeBufferExports.Buffer,P=new Array(16);function W(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}r(W,e),W.prototype._update=function(){for(var Zr=P,si=0;si<16;++si)Zr[si]=this._block.readInt32LE(si*4);var oi=this._a,ai=this._b,fi=this._c,ui=this._d;oi=Wr(oi,ai,fi,ui,Zr[0],3614090360,7),ui=Wr(ui,oi,ai,fi,Zr[1],3905402710,12),fi=Wr(fi,ui,oi,ai,Zr[2],606105819,17),ai=Wr(ai,fi,ui,oi,Zr[3],3250441966,22),oi=Wr(oi,ai,fi,ui,Zr[4],4118548399,7),ui=Wr(ui,oi,ai,fi,Zr[5],1200080426,12),fi=Wr(fi,ui,oi,ai,Zr[6],2821735955,17),ai=Wr(ai,fi,ui,oi,Zr[7],4249261313,22),oi=Wr(oi,ai,fi,ui,Zr[8],1770035416,7),ui=Wr(ui,oi,ai,fi,Zr[9],2336552879,12),fi=Wr(fi,ui,oi,ai,Zr[10],4294925233,17),ai=Wr(ai,fi,ui,oi,Zr[11],2304563134,22),oi=Wr(oi,ai,fi,ui,Zr[12],1804603682,7),ui=Wr(ui,oi,ai,fi,Zr[13],4254626195,12),fi=Wr(fi,ui,oi,ai,Zr[14],2792965006,17),ai=Wr(ai,fi,ui,oi,Zr[15],1236535329,22),oi=ei(oi,ai,fi,ui,Zr[1],4129170786,5),ui=ei(ui,oi,ai,fi,Zr[6],3225465664,9),fi=ei(fi,ui,oi,ai,Zr[11],643717713,14),ai=ei(ai,fi,ui,oi,Zr[0],3921069994,20),oi=ei(oi,ai,fi,ui,Zr[5],3593408605,5),ui=ei(ui,oi,ai,fi,Zr[10],38016083,9),fi=ei(fi,ui,oi,ai,Zr[15],3634488961,14),ai=ei(ai,fi,ui,oi,Zr[4],3889429448,20),oi=ei(oi,ai,fi,ui,Zr[9],568446438,5),ui=ei(ui,oi,ai,fi,Zr[14],3275163606,9),fi=ei(fi,ui,oi,ai,Zr[3],4107603335,14),ai=ei(ai,fi,ui,oi,Zr[8],1163531501,20),oi=ei(oi,ai,fi,ui,Zr[13],2850285829,5),ui=ei(ui,oi,ai,fi,Zr[2],4243563512,9),fi=ei(fi,ui,oi,ai,Zr[7],1735328473,14),ai=ei(ai,fi,ui,oi,Zr[12],2368359562,20),oi=ni(oi,ai,fi,ui,Zr[5],4294588738,4),ui=ni(ui,oi,ai,fi,Zr[8],2272392833,11),fi=ni(fi,ui,oi,ai,Zr[11],1839030562,16),ai=ni(ai,fi,ui,oi,Zr[14],4259657740,23),oi=ni(oi,ai,fi,ui,Zr[1],2763975236,4),ui=ni(ui,oi,ai,fi,Zr[4],1272893353,11),fi=ni(fi,ui,oi,ai,Zr[7],4139469664,16),ai=ni(ai,fi,ui,oi,Zr[10],3200236656,23),oi=ni(oi,ai,fi,ui,Zr[13],681279174,4),ui=ni(ui,oi,ai,fi,Zr[0],3936430074,11),fi=ni(fi,ui,oi,ai,Zr[3],3572445317,16),ai=ni(ai,fi,ui,oi,Zr[6],76029189,23),oi=ni(oi,ai,fi,ui,Zr[9],3654602809,4),ui=ni(ui,oi,ai,fi,Zr[12],3873151461,11),fi=ni(fi,ui,oi,ai,Zr[15],530742520,16),ai=ni(ai,fi,ui,oi,Zr[2],3299628645,23),oi=Xr(oi,ai,fi,ui,Zr[0],4096336452,6),ui=Xr(ui,oi,ai,fi,Zr[7],1126891415,10),fi=Xr(fi,ui,oi,ai,Zr[14],2878612391,15),ai=Xr(ai,fi,ui,oi,Zr[5],4237533241,21),oi=Xr(oi,ai,fi,ui,Zr[12],1700485571,6),ui=Xr(ui,oi,ai,fi,Zr[3],2399980690,10),fi=Xr(fi,ui,oi,ai,Zr[10],4293915773,15),ai=Xr(ai,fi,ui,oi,Zr[1],2240044497,21),oi=Xr(oi,ai,fi,ui,Zr[8],1873313359,6),ui=Xr(ui,oi,ai,fi,Zr[15],4264355552,10),fi=Xr(fi,ui,oi,ai,Zr[6],2734768916,15),ai=Xr(ai,fi,ui,oi,Zr[13],1309151649,21),oi=Xr(oi,ai,fi,ui,Zr[4],4149444226,6),ui=Xr(ui,oi,ai,fi,Zr[11],3174756917,10),fi=Xr(fi,ui,oi,ai,Zr[2],718787259,15),ai=Xr(ai,fi,ui,oi,Zr[9],3951481745,21),this._a=this._a+oi|0,this._b=this._b+ai|0,this._c=this._c+fi|0,this._d=this._d+ui|0},W.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Zr=i.allocUnsafe(16);return Zr.writeInt32LE(this._a,0),Zr.writeInt32LE(this._b,4),Zr.writeInt32LE(this._c,8),Zr.writeInt32LE(this._d,12),Zr};function R(Zr,si){return Zr<<si|Zr>>>32-si}function Wr(Zr,si,oi,ai,fi,ui,sn){return R(Zr+(si&oi|~si&ai)+fi+ui|0,sn)+si|0}function ei(Zr,si,oi,ai,fi,ui,sn){return R(Zr+(si&ai|oi&~ai)+fi+ui|0,sn)+si|0}function ni(Zr,si,oi,ai,fi,ui,sn){return R(Zr+(si^oi^ai)+fi+ui|0,sn)+si|0}function Xr(Zr,si,oi,ai,fi,ui,sn){return R(Zr+(oi^(si|~ai))+fi+ui|0,sn)+si|0}return md5_js=W,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var r=require$$0$6.Buffer,e=inherits_browserExports,i=requireHashBase(),P=new Array(16),W=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Wr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ei=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ni=[0,1518500249,1859775393,2400959708,2840853838],Xr=[1352829926,1548603684,1836072691,2053994217,0];function Zr(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}e(Zr,i),Zr.prototype._update=function(){for(var hn=P,nn=0;nn<16;++nn)hn[nn]=this._block.readInt32LE(nn*4);for(var ln=this._a|0,on=this._b|0,vn=this._c|0,Mn=this._d|0,mi=this._e|0,mn=this._a|0,Bn=this._b|0,ko=this._c|0,ii=this._d|0,t=this._e|0,o=0;o<80;o+=1){var H,G;o<16?(H=oi(ln,on,vn,Mn,mi,hn[W[o]],ni[0],Wr[o]),G=sn(mn,Bn,ko,ii,t,hn[R[o]],Xr[0],ei[o])):o<32?(H=ai(ln,on,vn,Mn,mi,hn[W[o]],ni[1],Wr[o]),G=ui(mn,Bn,ko,ii,t,hn[R[o]],Xr[1],ei[o])):o<48?(H=fi(ln,on,vn,Mn,mi,hn[W[o]],ni[2],Wr[o]),G=fi(mn,Bn,ko,ii,t,hn[R[o]],Xr[2],ei[o])):o<64?(H=ui(ln,on,vn,Mn,mi,hn[W[o]],ni[3],Wr[o]),G=ai(mn,Bn,ko,ii,t,hn[R[o]],Xr[3],ei[o])):(H=sn(ln,on,vn,Mn,mi,hn[W[o]],ni[4],Wr[o]),G=oi(mn,Bn,ko,ii,t,hn[R[o]],Xr[4],ei[o])),ln=mi,mi=Mn,Mn=si(vn,10),vn=on,on=H,mn=t,t=ii,ii=si(ko,10),ko=Bn,Bn=G}var Ne=this._b+vn+ii|0;this._b=this._c+Mn+t|0,this._c=this._d+mi+mn|0,this._d=this._e+ln+Bn|0,this._e=this._a+on+ko|0,this._a=Ne},Zr.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var hn=r.alloc?r.alloc(20):new r(20);return hn.writeInt32LE(this._a,0),hn.writeInt32LE(this._b,4),hn.writeInt32LE(this._c,8),hn.writeInt32LE(this._d,12),hn.writeInt32LE(this._e,16),hn};function si(hn,nn){return hn<<nn|hn>>>32-nn}function oi(hn,nn,ln,on,vn,Mn,mi,mn){return si(hn+(nn^ln^on)+Mn+mi|0,mn)+vn|0}function ai(hn,nn,ln,on,vn,Mn,mi,mn){return si(hn+(nn&ln|~nn&on)+Mn+mi|0,mn)+vn|0}function fi(hn,nn,ln,on,vn,Mn,mi,mn){return si(hn+((nn|~ln)^on)+Mn+mi|0,mn)+vn|0}function ui(hn,nn,ln,on,vn,Mn,mi,mn){return si(hn+(nn&on|ln&~on)+Mn+mi|0,mn)+vn|0}function sn(hn,nn,ln,on,vn,Mn,mi,mn){return si(hn+(nn^(ln|~on))+Mn+mi|0,mn)+vn|0}return ripemd160=Zr,ripemd160}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var r=safeBufferExports.Buffer,e=streamBrowserify.Transform,i=requireString_decoder().StringDecoder,P=inherits_browserExports;function W(R){e.call(this),this.hashMode=typeof R=="string",this.hashMode?this[R]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return P(W,e),W.prototype.update=function(R,Wr,ei){typeof R=="string"&&(R=r.from(R,Wr));var ni=this._update(R);return this.hashMode?this:(ei&&(ni=this._toString(ni,ei)),ni)},W.prototype.setAutoPadding=function(){},W.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},W.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},W.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},W.prototype._transform=function(R,Wr,ei){var ni;try{this.hashMode?this._update(R):this.push(this._update(R))}catch(Xr){ni=Xr}finally{ei(ni)}},W.prototype._flush=function(R){var Wr;try{this.push(this.__final())}catch(ei){Wr=ei}R(Wr)},W.prototype._finalOrDigest=function(R){var Wr=this.__final()||r.alloc(0);return R&&(Wr=this._toString(Wr,R,!0)),Wr},W.prototype._toString=function(R,Wr,ei){if(this._decoder||(this._decoder=new i(Wr),this._encoding=Wr),this._encoding!==Wr)throw new Error("can't switch encodings");var ni=this._decoder.write(R);return ei&&(ni+=this._decoder.end()),ni},cipherBase=W,cipherBase}var browser$b,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$b;hasRequiredBrowser$9=1;var r=inherits_browserExports,e=requireMd5_js(),i=requireRipemd160(),P=sha_jsExports,W=requireCipherBase();function R(Wr){W.call(this,"digest"),this._hash=Wr}return r(R,W),R.prototype._update=function(Wr){this._hash.update(Wr)},R.prototype._final=function(){return this._hash.digest()},browser$b=function(ei){return ei=ei.toLowerCase(),ei==="md5"?new e:ei==="rmd160"||ei==="ripemd160"?new i:new R(P(ei))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var r=inherits_browserExports,e=safeBufferExports.Buffer,i=requireCipherBase(),P=e.alloc(128),W=64;function R(Wr,ei){i.call(this,"digest"),typeof ei=="string"&&(ei=e.from(ei)),this._alg=Wr,this._key=ei,ei.length>W?ei=Wr(ei):ei.length<W&&(ei=e.concat([ei,P],W));for(var ni=this._ipad=e.allocUnsafe(W),Xr=this._opad=e.allocUnsafe(W),Zr=0;Zr<W;Zr++)ni[Zr]=ei[Zr]^54,Xr[Zr]=ei[Zr]^92;this._hash=[ni]}return r(R,i),R.prototype._update=function(Wr){this._hash.push(Wr)},R.prototype._final=function(){var Wr=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,Wr]))},legacy=R,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var r=requireMd5_js();return md5=function(e){return new r().update(e).digest()},md5}var browser$a,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$a;hasRequiredBrowser$8=1;var r=inherits_browserExports,e=requireLegacy(),i=requireCipherBase(),P=safeBufferExports.Buffer,W=requireMd5(),R=requireRipemd160(),Wr=sha_jsExports,ei=P.alloc(128);function ni(Xr,Zr){i.call(this,"digest"),typeof Zr=="string"&&(Zr=P.from(Zr));var si=Xr==="sha512"||Xr==="sha384"?128:64;if(this._alg=Xr,this._key=Zr,Zr.length>si){var oi=Xr==="rmd160"?new R:Wr(Xr);Zr=oi.update(Zr).digest()}else Zr.length<si&&(Zr=P.concat([Zr,ei],si));for(var ai=this._ipad=P.allocUnsafe(si),fi=this._opad=P.allocUnsafe(si),ui=0;ui<si;ui++)ai[ui]=Zr[ui]^54,fi[ui]=Zr[ui]^92;this._hash=Xr==="rmd160"?new R:Wr(Xr),this._hash.update(ai)}return r(ni,i),ni.prototype._update=function(Xr){this._hash.update(Xr)},ni.prototype._final=function(){var Xr=this._hash.digest(),Zr=this._alg==="rmd160"?new R:Wr(this._alg);return Zr.update(this._opad).update(Xr).digest()},browser$a=function(Zr,si){return Zr=Zr.toLowerCase(),Zr==="rmd160"||Zr==="ripemd160"?new ni("rmd160",si):Zr==="md5"?new e(W,si):new ni(Zr,si)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var r=Math.pow(2,30)-1;return precondition=function(e,i){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof i!="number")throw new TypeError("Key length not a number");if(i<0||i>r||i!==i)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var r;if(commonjsGlobal.process&&commonjsGlobal.process.browser)r="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var e=parseInt(process$1.version.split(".")[0].slice(1),10);r=e>=6?"utf-8":"binary"}else r="utf-8";return defaultEncoding_1=r,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var r=safeBufferExports.Buffer;return toBuffer=function(e,i,P){if(r.isBuffer(e))return e;if(typeof e=="string")return r.from(e,i);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(P+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var r=requireMd5(),e=requireRipemd160(),i=sha_jsExports,P=safeBufferExports.Buffer,W=requirePrecondition(),R=requireDefaultEncoding(),Wr=requireToBuffer(),ei=P.alloc(128),ni={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Xr(oi,ai,fi){var ui=Zr(oi),sn=oi==="sha512"||oi==="sha384"?128:64;ai.length>sn?ai=ui(ai):ai.length<sn&&(ai=P.concat([ai,ei],sn));for(var hn=P.allocUnsafe(sn+ni[oi]),nn=P.allocUnsafe(sn+ni[oi]),ln=0;ln<sn;ln++)hn[ln]=ai[ln]^54,nn[ln]=ai[ln]^92;var on=P.allocUnsafe(sn+fi+4);hn.copy(on,0,0,sn),this.ipad1=on,this.ipad2=hn,this.opad=nn,this.alg=oi,this.blocksize=sn,this.hash=ui,this.size=ni[oi]}Xr.prototype.run=function(oi,ai){oi.copy(ai,this.blocksize);var fi=this.hash(ai);return fi.copy(this.opad,this.blocksize),this.hash(this.opad)};function Zr(oi){function ai(ui){return i(oi).update(ui).digest()}function fi(ui){return new e().update(ui).digest()}return oi==="rmd160"||oi==="ripemd160"?fi:oi==="md5"?r:ai}function si(oi,ai,fi,ui,sn){W(fi,ui),oi=Wr(oi,R,"Password"),ai=Wr(ai,R,"Salt"),sn=sn||"sha1";var hn=new Xr(sn,oi,ai.length),nn=P.allocUnsafe(ui),ln=P.allocUnsafe(ai.length+4);ai.copy(ln,0,0,ai.length);for(var on=0,vn=ni[sn],Mn=Math.ceil(ui/vn),mi=1;mi<=Mn;mi++){ln.writeUInt32BE(mi,ai.length);for(var mn=hn.run(ln,hn.ipad1),Bn=mn,ko=1;ko<fi;ko++){Bn=hn.run(Bn,hn.ipad2);for(var ii=0;ii<vn;ii++)mn[ii]^=Bn[ii]}mn.copy(nn,on),on+=vn}return nn}return syncBrowser=si,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var r=safeBufferExports.Buffer,e=requirePrecondition(),i=requireDefaultEncoding(),P=requireSyncBrowser(),W=requireToBuffer(),R,Wr=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,ei={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},ni=[];function Xr(fi){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!Wr||!Wr.importKey||!Wr.deriveBits)return Promise.resolve(!1);if(ni[fi]!==void 0)return ni[fi];R=R||r.alloc(8);var ui=oi(R,R,10,128,fi).then(function(){return!0}).catch(function(){return!1});return ni[fi]=ui,ui}var Zr;function si(){return Zr||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?Zr=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?Zr=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?Zr=commonjsGlobal.setImmediate:Zr=commonjsGlobal.setTimeout,Zr)}function oi(fi,ui,sn,hn,nn){return Wr.importKey("raw",fi,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ln){return Wr.deriveBits({name:"PBKDF2",salt:ui,iterations:sn,hash:{name:nn}},ln,hn<<3)}).then(function(ln){return r.from(ln)})}function ai(fi,ui){fi.then(function(sn){si()(function(){ui(null,sn)})},function(sn){si()(function(){ui(sn)})})}return async=function(fi,ui,sn,hn,nn,ln){typeof nn=="function"&&(ln=nn,nn=void 0),nn=nn||"sha1";var on=ei[nn.toLowerCase()];if(!on||typeof commonjsGlobal.Promise!="function"){si()(function(){var vn;try{vn=P(fi,ui,sn,hn,nn)}catch(Mn){return ln(Mn)}ln(null,vn)});return}if(e(sn,hn),fi=W(fi,i,"Password"),ui=W(ui,i,"Salt"),typeof ln!="function")throw new Error("No callback provided to pbkdf2");ai(Xr(on).then(function(vn){return vn?oi(fi,ui,sn,hn,on):P(fi,ui,sn,hn,nn)}),ln)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(W,R){var Wr=W[0+R]<<24|W[1+R]<<16|W[2+R]<<8|W[3+R];return Wr>>>0},utils$3.writeUInt32BE=function(W,R,Wr){W[0+Wr]=R>>>24,W[1+Wr]=R>>>16&255,W[2+Wr]=R>>>8&255,W[3+Wr]=R&255},utils$3.ip=function(W,R,Wr,ei){for(var ni=0,Xr=0,Zr=6;Zr>=0;Zr-=2){for(var si=0;si<=24;si+=8)ni<<=1,ni|=R>>>si+Zr&1;for(var si=0;si<=24;si+=8)ni<<=1,ni|=W>>>si+Zr&1}for(var Zr=6;Zr>=0;Zr-=2){for(var si=1;si<=25;si+=8)Xr<<=1,Xr|=R>>>si+Zr&1;for(var si=1;si<=25;si+=8)Xr<<=1,Xr|=W>>>si+Zr&1}Wr[ei+0]=ni>>>0,Wr[ei+1]=Xr>>>0},utils$3.rip=function(W,R,Wr,ei){for(var ni=0,Xr=0,Zr=0;Zr<4;Zr++)for(var si=24;si>=0;si-=8)ni<<=1,ni|=R>>>si+Zr&1,ni<<=1,ni|=W>>>si+Zr&1;for(var Zr=4;Zr<8;Zr++)for(var si=24;si>=0;si-=8)Xr<<=1,Xr|=R>>>si+Zr&1,Xr<<=1,Xr|=W>>>si+Zr&1;Wr[ei+0]=ni>>>0,Wr[ei+1]=Xr>>>0},utils$3.pc1=function(W,R,Wr,ei){for(var ni=0,Xr=0,Zr=7;Zr>=5;Zr--){for(var si=0;si<=24;si+=8)ni<<=1,ni|=R>>si+Zr&1;for(var si=0;si<=24;si+=8)ni<<=1,ni|=W>>si+Zr&1}for(var si=0;si<=24;si+=8)ni<<=1,ni|=R>>si+Zr&1;for(var Zr=1;Zr<=3;Zr++){for(var si=0;si<=24;si+=8)Xr<<=1,Xr|=R>>si+Zr&1;for(var si=0;si<=24;si+=8)Xr<<=1,Xr|=W>>si+Zr&1}for(var si=0;si<=24;si+=8)Xr<<=1,Xr|=W>>si+Zr&1;Wr[ei+0]=ni>>>0,Wr[ei+1]=Xr>>>0},utils$3.r28shl=function(W,R){return W<<R&268435455|W>>>28-R};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(W,R,Wr,ei){for(var ni=0,Xr=0,Zr=r.length>>>1,si=0;si<Zr;si++)ni<<=1,ni|=W>>>r[si]&1;for(var si=Zr;si<r.length;si++)Xr<<=1,Xr|=R>>>r[si]&1;Wr[ei+0]=ni>>>0,Wr[ei+1]=Xr>>>0},utils$3.expand=function(W,R,Wr){var ei=0,ni=0;ei=(W&1)<<5|W>>>27;for(var Xr=23;Xr>=15;Xr-=4)ei<<=6,ei|=W>>>Xr&63;for(var Xr=11;Xr>=3;Xr-=4)ni|=W>>>Xr&63,ni<<=6;ni|=(W&31)<<1|W>>>31,R[Wr+0]=ei>>>0,R[Wr+1]=ni>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(W,R){for(var Wr=0,ei=0;ei<4;ei++){var ni=W>>>18-ei*6&63,Xr=e[ei*64+ni];Wr<<=4,Wr|=Xr}for(var ei=0;ei<4;ei++){var ni=R>>>18-ei*6&63,Xr=e[4*64+ei*64+ni];Wr<<=4,Wr|=Xr}return Wr>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(W){for(var R=0,Wr=0;Wr<i.length;Wr++)R<<=1,R|=W>>>i[Wr]&1;return R>>>0},utils$3.padSplit=function(W,R,Wr){for(var ei=W.toString(2);ei.length<R;)ei="0"+ei;for(var ni=[],Xr=0;Xr<R;Xr+=Wr)ni.push(ei.slice(Xr,Xr+Wr));return ni.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=r;function r(e,i){if(!e)throw new Error(i||"Assertion failed")}return r.equal=function(i,P,W){if(i!=P)throw new Error(W||"Assertion failed: "+i+" != "+P)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var r=requireMinimalisticAssert();function e(i){this.options=i,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=i.padding!==!1}return cipher=e,e.prototype._init=function(){},e.prototype.update=function(P){return P.length===0?[]:this.type==="decrypt"?this._updateDecrypt(P):this._updateEncrypt(P)},e.prototype._buffer=function(P,W){for(var R=Math.min(this.buffer.length-this.bufferOff,P.length-W),Wr=0;Wr<R;Wr++)this.buffer[this.bufferOff+Wr]=P[W+Wr];return this.bufferOff+=R,R},e.prototype._flushBuffer=function(P,W){return this._update(this.buffer,0,P,W),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(P){var W=0,R=0,Wr=(this.bufferOff+P.length)/this.blockSize|0,ei=new Array(Wr*this.blockSize);this.bufferOff!==0&&(W+=this._buffer(P,W),this.bufferOff===this.buffer.length&&(R+=this._flushBuffer(ei,R)));for(var ni=P.length-(P.length-W)%this.blockSize;W<ni;W+=this.blockSize)this._update(P,W,ei,R),R+=this.blockSize;for(;W<P.length;W++,this.bufferOff++)this.buffer[this.bufferOff]=P[W];return ei},e.prototype._updateDecrypt=function(P){for(var W=0,R=0,Wr=Math.ceil((this.bufferOff+P.length)/this.blockSize)-1,ei=new Array(Wr*this.blockSize);Wr>0;Wr--)W+=this._buffer(P,W),R+=this._flushBuffer(ei,R);return W+=this._buffer(P,W),ei},e.prototype.final=function(P){var W;P&&(W=this.update(P));var R;return this.type==="encrypt"?R=this._finalEncrypt():R=this._finalDecrypt(),W?W.concat(R):R},e.prototype._pad=function(P,W){if(W===0)return!1;for(;W<P.length;)P[W++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var P=new Array(this.blockSize);return this._update(this.buffer,0,P,0),P},e.prototype._unpad=function(P){return P},e.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var P=new Array(this.blockSize);return this._flushBuffer(P,0),this._unpad(P)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var r=requireMinimalisticAssert(),e=inherits_browserExports,i=requireUtils$3(),P=requireCipher();function W(){this.tmp=new Array(2),this.keys=null}function R(ei){P.call(this,ei);var ni=new W;this._desState=ni,this.deriveKeys(ni,ei.key)}e(R,P),des=R,R.create=function(ni){return new R(ni)};var Wr=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return R.prototype.deriveKeys=function(ni,Xr){ni.keys=new Array(16*2),r.equal(Xr.length,this.blockSize,"Invalid key length");var Zr=i.readUInt32BE(Xr,0),si=i.readUInt32BE(Xr,4);i.pc1(Zr,si,ni.tmp,0),Zr=ni.tmp[0],si=ni.tmp[1];for(var oi=0;oi<ni.keys.length;oi+=2){var ai=Wr[oi>>>1];Zr=i.r28shl(Zr,ai),si=i.r28shl(si,ai),i.pc2(Zr,si,ni.keys,oi)}},R.prototype._update=function(ni,Xr,Zr,si){var oi=this._desState,ai=i.readUInt32BE(ni,Xr),fi=i.readUInt32BE(ni,Xr+4);i.ip(ai,fi,oi.tmp,0),ai=oi.tmp[0],fi=oi.tmp[1],this.type==="encrypt"?this._encrypt(oi,ai,fi,oi.tmp,0):this._decrypt(oi,ai,fi,oi.tmp,0),ai=oi.tmp[0],fi=oi.tmp[1],i.writeUInt32BE(Zr,ai,si),i.writeUInt32BE(Zr,fi,si+4)},R.prototype._pad=function(ni,Xr){if(this.padding===!1)return!1;for(var Zr=ni.length-Xr,si=Xr;si<ni.length;si++)ni[si]=Zr;return!0},R.prototype._unpad=function(ni){if(this.padding===!1)return ni;for(var Xr=ni[ni.length-1],Zr=ni.length-Xr;Zr<ni.length;Zr++)r.equal(ni[Zr],Xr);return ni.slice(0,ni.length-Xr)},R.prototype._encrypt=function(ni,Xr,Zr,si,oi){for(var ai=Xr,fi=Zr,ui=0;ui<ni.keys.length;ui+=2){var sn=ni.keys[ui],hn=ni.keys[ui+1];i.expand(fi,ni.tmp,0),sn^=ni.tmp[0],hn^=ni.tmp[1];var nn=i.substitute(sn,hn),ln=i.permute(nn),on=fi;fi=(ai^ln)>>>0,ai=on}i.rip(fi,ai,si,oi)},R.prototype._decrypt=function(ni,Xr,Zr,si,oi){for(var ai=Zr,fi=Xr,ui=ni.keys.length-2;ui>=0;ui-=2){var sn=ni.keys[ui],hn=ni.keys[ui+1];i.expand(ai,ni.tmp,0),sn^=ni.tmp[0],hn^=ni.tmp[1];var nn=i.substitute(sn,hn),ln=i.permute(nn),on=ai;ai=(fi^ln)>>>0,fi=on}i.rip(ai,fi,si,oi)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var r=requireMinimalisticAssert(),e=inherits_browserExports,i={};function P(R){r.equal(R.length,8,"Invalid IV length"),this.iv=new Array(8);for(var Wr=0;Wr<this.iv.length;Wr++)this.iv[Wr]=R[Wr]}function W(R){function Wr(Zr){R.call(this,Zr),this._cbcInit()}e(Wr,R);for(var ei=Object.keys(i),ni=0;ni<ei.length;ni++){var Xr=ei[ni];Wr.prototype[Xr]=i[Xr]}return Wr.create=function(si){return new Wr(si)},Wr}return cbc$1.instantiate=W,i._cbcInit=function(){var Wr=new P(this.options.iv);this._cbcState=Wr},i._update=function(Wr,ei,ni,Xr){var Zr=this._cbcState,si=this.constructor.super_.prototype,oi=Zr.iv;if(this.type==="encrypt"){for(var ai=0;ai<this.blockSize;ai++)oi[ai]^=Wr[ei+ai];si._update.call(this,oi,0,ni,Xr);for(var ai=0;ai<this.blockSize;ai++)oi[ai]=ni[Xr+ai]}else{si._update.call(this,Wr,ei,ni,Xr);for(var ai=0;ai<this.blockSize;ai++)ni[Xr+ai]^=oi[ai];for(var ai=0;ai<this.blockSize;ai++)oi[ai]=Wr[ei+ai]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var r=requireMinimalisticAssert(),e=inherits_browserExports,i=requireCipher(),P=requireDes$1();function W(Wr,ei){r.equal(ei.length,24,"Invalid key length");var ni=ei.slice(0,8),Xr=ei.slice(8,16),Zr=ei.slice(16,24);Wr==="encrypt"?this.ciphers=[P.create({type:"encrypt",key:ni}),P.create({type:"decrypt",key:Xr}),P.create({type:"encrypt",key:Zr})]:this.ciphers=[P.create({type:"decrypt",key:Zr}),P.create({type:"encrypt",key:Xr}),P.create({type:"decrypt",key:ni})]}function R(Wr){i.call(this,Wr);var ei=new W(this.type,this.options.key);this._edeState=ei}return e(R,i),ede=R,R.create=function(ei){return new R(ei)},R.prototype._update=function(ei,ni,Xr,Zr){var si=this._edeState;si.ciphers[0]._update(ei,ni,Xr,Zr),si.ciphers[1]._update(Xr,Zr,Xr,Zr),si.ciphers[2]._update(Xr,Zr,Xr,Zr)},R.prototype._pad=P.prototype._pad,R.prototype._unpad=P.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var r=requireCipherBase(),e=requireDes(),i=inherits_browserExports,P=safeBufferExports.Buffer,W={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};W.des=W["des-cbc"],W.des3=W["des-ede3-cbc"],browserifyDes=R,i(R,r);function R(Wr){r.call(this);var ei=Wr.mode.toLowerCase(),ni=W[ei],Xr;Wr.decrypt?Xr="decrypt":Xr="encrypt";var Zr=Wr.key;P.isBuffer(Zr)||(Zr=P.from(Zr)),(ei==="des-ede"||ei==="des-ede-cbc")&&(Zr=P.concat([Zr,Zr.slice(0,8)]));var si=Wr.iv;P.isBuffer(si)||(si=P.from(si)),this._des=ni.create({key:Zr,iv:si,type:Xr})}return R.prototype._update=function(Wr){return P.from(this._des.update(Wr))},R.prototype._final=function(){return P.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(r,e){return r._cipher.encryptBlock(e)},ecb.decrypt=function(r,e){return r._cipher.decryptBlock(e)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,i){for(var P=Math.min(e.length,i.length),W=new Buffer(P),R=0;R<P;++R)W[R]=e[R]^i[R];return W}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var r=requireBufferXor();return cbc.encrypt=function(e,i){var P=r(i,e._prev);return e._prev=e._cipher.encryptBlock(P),e._prev},cbc.decrypt=function(e,i){var P=e._prev;e._prev=i;var W=e._cipher.decryptBlock(i);return r(W,P)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var r=safeBufferExports.Buffer,e=requireBufferXor();function i(P,W,R){var Wr=W.length,ei=e(W,P._cache);return P._cache=P._cache.slice(Wr),P._prev=r.concat([P._prev,R?W:ei]),ei}return cfb.encrypt=function(P,W,R){for(var Wr=r.allocUnsafe(0),ei;W.length;)if(P._cache.length===0&&(P._cache=P._cipher.encryptBlock(P._prev),P._prev=r.allocUnsafe(0)),P._cache.length<=W.length)ei=P._cache.length,Wr=r.concat([Wr,i(P,W.slice(0,ei),R)]),W=W.slice(ei);else{Wr=r.concat([Wr,i(P,W,R)]);break}return Wr},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var r=safeBufferExports.Buffer;function e(i,P,W){var R=i._cipher.encryptBlock(i._prev),Wr=R[0]^P;return i._prev=r.concat([i._prev.slice(1),r.from([W?P:Wr])]),Wr}return cfb8.encrypt=function(i,P,W){for(var R=P.length,Wr=r.allocUnsafe(R),ei=-1;++ei<R;)Wr[ei]=e(i,P[ei],W);return Wr},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var r=safeBufferExports.Buffer;function e(P,W,R){for(var Wr,ei=-1,ni=8,Xr=0,Zr,si;++ei<ni;)Wr=P._cipher.encryptBlock(P._prev),Zr=W&1<<7-ei?128:0,si=Wr[0]^Zr,Xr+=(si&128)>>ei%8,P._prev=i(P._prev,R?Zr:si);return Xr}function i(P,W){var R=P.length,Wr=-1,ei=r.allocUnsafe(P.length);for(P=r.concat([P,r.from([W])]);++Wr<R;)ei[Wr]=P[Wr]<<1|P[Wr+1]>>7;return ei}return cfb1.encrypt=function(P,W,R){for(var Wr=W.length,ei=r.allocUnsafe(Wr),ni=-1;++ni<Wr;)ei[ni]=e(P,W[ni],R);return ei},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var r=requireBufferXor();function e(i){return i._prev=i._cipher.encryptBlock(i._prev),i._prev}return ofb.encrypt=function(i,P){for(;i._cache.length<P.length;)i._cache=Buffer.concat([i._cache,e(i)]);var W=i._cache.slice(0,P.length);return i._cache=i._cache.slice(P.length),r(P,W)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function r(e){for(var i=e.length,P;i--;)if(P=e.readUInt8(i),P===255)e.writeUInt8(0,i);else{P++,e.writeUInt8(P,i);break}}return incr32_1=r,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var r=requireBufferXor(),e=safeBufferExports.Buffer,i=requireIncr32();function P(R){var Wr=R._cipher.encryptBlockRaw(R._prev);return i(R._prev),Wr}var W=16;return ctr.encrypt=function(R,Wr){var ei=Math.ceil(Wr.length/W),ni=R._cache.length;R._cache=e.concat([R._cache,e.allocUnsafe(ei*W)]);for(var Xr=0;Xr<ei;Xr++){var Zr=P(R),si=ni+Xr*W;R._cache.writeUInt32BE(Zr[0],si+0),R._cache.writeUInt32BE(Zr[1],si+4),R._cache.writeUInt32BE(Zr[2],si+8),R._cache.writeUInt32BE(Zr[3],si+12)}var oi=R._cache.slice(0,Wr.length);return R._cache=R._cache.slice(Wr.length),r(Wr,oi)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var r={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},e=require$$2;for(var i in e)e[i].module=r[e[i].mode];return modes_1=e,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var r=safeBufferExports.Buffer;function e(ei){r.isBuffer(ei)||(ei=r.from(ei));for(var ni=ei.length/4|0,Xr=new Array(ni),Zr=0;Zr<ni;Zr++)Xr[Zr]=ei.readUInt32BE(Zr*4);return Xr}function i(ei){for(var ni=0;ni<ei.length;ei++)ei[ni]=0}function P(ei,ni,Xr,Zr,si){for(var oi=Xr[0],ai=Xr[1],fi=Xr[2],ui=Xr[3],sn=ei[0]^ni[0],hn=ei[1]^ni[1],nn=ei[2]^ni[2],ln=ei[3]^ni[3],on,vn,Mn,mi,mn=4,Bn=1;Bn<si;Bn++)on=oi[sn>>>24]^ai[hn>>>16&255]^fi[nn>>>8&255]^ui[ln&255]^ni[mn++],vn=oi[hn>>>24]^ai[nn>>>16&255]^fi[ln>>>8&255]^ui[sn&255]^ni[mn++],Mn=oi[nn>>>24]^ai[ln>>>16&255]^fi[sn>>>8&255]^ui[hn&255]^ni[mn++],mi=oi[ln>>>24]^ai[sn>>>16&255]^fi[hn>>>8&255]^ui[nn&255]^ni[mn++],sn=on,hn=vn,nn=Mn,ln=mi;return on=(Zr[sn>>>24]<<24|Zr[hn>>>16&255]<<16|Zr[nn>>>8&255]<<8|Zr[ln&255])^ni[mn++],vn=(Zr[hn>>>24]<<24|Zr[nn>>>16&255]<<16|Zr[ln>>>8&255]<<8|Zr[sn&255])^ni[mn++],Mn=(Zr[nn>>>24]<<24|Zr[ln>>>16&255]<<16|Zr[sn>>>8&255]<<8|Zr[hn&255])^ni[mn++],mi=(Zr[ln>>>24]<<24|Zr[sn>>>16&255]<<16|Zr[hn>>>8&255]<<8|Zr[nn&255])^ni[mn++],on=on>>>0,vn=vn>>>0,Mn=Mn>>>0,mi=mi>>>0,[on,vn,Mn,mi]}var W=[0,1,2,4,8,16,32,64,128,27,54],R=function(){for(var ei=new Array(256),ni=0;ni<256;ni++)ni<128?ei[ni]=ni<<1:ei[ni]=ni<<1^283;for(var Xr=[],Zr=[],si=[[],[],[],[]],oi=[[],[],[],[]],ai=0,fi=0,ui=0;ui<256;++ui){var sn=fi^fi<<1^fi<<2^fi<<3^fi<<4;sn=sn>>>8^sn&255^99,Xr[ai]=sn,Zr[sn]=ai;var hn=ei[ai],nn=ei[hn],ln=ei[nn],on=ei[sn]*257^sn*16843008;si[0][ai]=on<<24|on>>>8,si[1][ai]=on<<16|on>>>16,si[2][ai]=on<<8|on>>>24,si[3][ai]=on,on=ln*16843009^nn*65537^hn*257^ai*16843008,oi[0][sn]=on<<24|on>>>8,oi[1][sn]=on<<16|on>>>16,oi[2][sn]=on<<8|on>>>24,oi[3][sn]=on,ai===0?ai=fi=1:(ai=hn^ei[ei[ei[ln^hn]]],fi^=ei[ei[fi]])}return{SBOX:Xr,INV_SBOX:Zr,SUB_MIX:si,INV_SUB_MIX:oi}}();function Wr(ei){this._key=e(ei),this._reset()}return Wr.blockSize=4*4,Wr.keySize=256/8,Wr.prototype.blockSize=Wr.blockSize,Wr.prototype.keySize=Wr.keySize,Wr.prototype._reset=function(){for(var ei=this._key,ni=ei.length,Xr=ni+6,Zr=(Xr+1)*4,si=[],oi=0;oi<ni;oi++)si[oi]=ei[oi];for(oi=ni;oi<Zr;oi++){var ai=si[oi-1];oi%ni===0?(ai=ai<<8|ai>>>24,ai=R.SBOX[ai>>>24]<<24|R.SBOX[ai>>>16&255]<<16|R.SBOX[ai>>>8&255]<<8|R.SBOX[ai&255],ai^=W[oi/ni|0]<<24):ni>6&&oi%ni===4&&(ai=R.SBOX[ai>>>24]<<24|R.SBOX[ai>>>16&255]<<16|R.SBOX[ai>>>8&255]<<8|R.SBOX[ai&255]),si[oi]=si[oi-ni]^ai}for(var fi=[],ui=0;ui<Zr;ui++){var sn=Zr-ui,hn=si[sn-(ui%4?0:4)];ui<4||sn<=4?fi[ui]=hn:fi[ui]=R.INV_SUB_MIX[0][R.SBOX[hn>>>24]]^R.INV_SUB_MIX[1][R.SBOX[hn>>>16&255]]^R.INV_SUB_MIX[2][R.SBOX[hn>>>8&255]]^R.INV_SUB_MIX[3][R.SBOX[hn&255]]}this._nRounds=Xr,this._keySchedule=si,this._invKeySchedule=fi},Wr.prototype.encryptBlockRaw=function(ei){return ei=e(ei),P(ei,this._keySchedule,R.SUB_MIX,R.SBOX,this._nRounds)},Wr.prototype.encryptBlock=function(ei){var ni=this.encryptBlockRaw(ei),Xr=r.allocUnsafe(16);return Xr.writeUInt32BE(ni[0],0),Xr.writeUInt32BE(ni[1],4),Xr.writeUInt32BE(ni[2],8),Xr.writeUInt32BE(ni[3],12),Xr},Wr.prototype.decryptBlock=function(ei){ei=e(ei);var ni=ei[1];ei[1]=ei[3],ei[3]=ni;var Xr=P(ei,this._invKeySchedule,R.INV_SUB_MIX,R.INV_SBOX,this._nRounds),Zr=r.allocUnsafe(16);return Zr.writeUInt32BE(Xr[0],0),Zr.writeUInt32BE(Xr[3],4),Zr.writeUInt32BE(Xr[2],8),Zr.writeUInt32BE(Xr[1],12),Zr},Wr.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},aes.AES=Wr,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var r=safeBufferExports.Buffer,e=r.alloc(16,0);function i(R){return[R.readUInt32BE(0),R.readUInt32BE(4),R.readUInt32BE(8),R.readUInt32BE(12)]}function P(R){var Wr=r.allocUnsafe(16);return Wr.writeUInt32BE(R[0]>>>0,0),Wr.writeUInt32BE(R[1]>>>0,4),Wr.writeUInt32BE(R[2]>>>0,8),Wr.writeUInt32BE(R[3]>>>0,12),Wr}function W(R){this.h=R,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}return W.prototype.ghash=function(R){for(var Wr=-1;++Wr<R.length;)this.state[Wr]^=R[Wr];this._multiply()},W.prototype._multiply=function(){for(var R=i(this.h),Wr=[0,0,0,0],ei,ni,Xr,Zr=-1;++Zr<128;){for(ni=(this.state[~~(Zr/8)]&1<<7-Zr%8)!==0,ni&&(Wr[0]^=R[0],Wr[1]^=R[1],Wr[2]^=R[2],Wr[3]^=R[3]),Xr=(R[3]&1)!==0,ei=3;ei>0;ei--)R[ei]=R[ei]>>>1|(R[ei-1]&1)<<31;R[0]=R[0]>>>1,Xr&&(R[0]=R[0]^225<<24)}this.state=P(Wr)},W.prototype.update=function(R){this.cache=r.concat([this.cache,R]);for(var Wr;this.cache.length>=16;)Wr=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(Wr)},W.prototype.final=function(R,Wr){return this.cache.length&&this.ghash(r.concat([this.cache,e],16)),this.ghash(P([0,R,0,Wr])),this.state},ghash=W,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var r=requireAes(),e=safeBufferExports.Buffer,i=requireCipherBase(),P=inherits_browserExports,W=requireGhash(),R=requireBufferXor(),Wr=requireIncr32();function ei(Zr,si){var oi=0;Zr.length!==si.length&&oi++;for(var ai=Math.min(Zr.length,si.length),fi=0;fi<ai;++fi)oi+=Zr[fi]^si[fi];return oi}function ni(Zr,si,oi){if(si.length===12)return Zr._finID=e.concat([si,e.from([0,0,0,1])]),e.concat([si,e.from([0,0,0,2])]);var ai=new W(oi),fi=si.length,ui=fi%16;ai.update(si),ui&&(ui=16-ui,ai.update(e.alloc(ui,0))),ai.update(e.alloc(8,0));var sn=fi*8,hn=e.alloc(8);hn.writeUIntBE(sn,0,8),ai.update(hn),Zr._finID=ai.state;var nn=e.from(Zr._finID);return Wr(nn),nn}function Xr(Zr,si,oi,ai){i.call(this);var fi=e.alloc(4,0);this._cipher=new r.AES(si);var ui=this._cipher.encryptBlock(fi);this._ghash=new W(ui),oi=ni(this,oi,ui),this._prev=e.from(oi),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=ai,this._alen=0,this._len=0,this._mode=Zr,this._authTag=null,this._called=!1}return P(Xr,i),Xr.prototype._update=function(Zr){if(!this._called&&this._alen){var si=16-this._alen%16;si<16&&(si=e.alloc(si,0),this._ghash.update(si))}this._called=!0;var oi=this._mode.encrypt(this,Zr);return this._decrypt?this._ghash.update(Zr):this._ghash.update(oi),this._len+=Zr.length,oi},Xr.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var Zr=R(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&ei(Zr,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=Zr,this._cipher.scrub()},Xr.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Xr.prototype.setAuthTag=function(si){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=si},Xr.prototype.setAAD=function(si){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(si),this._alen+=si.length},authCipher=Xr,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var r=requireAes(),e=safeBufferExports.Buffer,i=requireCipherBase(),P=inherits_browserExports;function W(R,Wr,ei,ni){i.call(this),this._cipher=new r.AES(Wr),this._prev=e.from(ei),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=ni,this._mode=R}return P(W,i),W.prototype._update=function(R){return this._mode.encrypt(this,R,this._decrypt)},W.prototype._final=function(){this._cipher.scrub()},streamCipher=W,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var r=safeBufferExports.Buffer,e=requireMd5_js();function i(P,W,R,Wr){if(r.isBuffer(P)||(P=r.from(P,"binary")),W&&(r.isBuffer(W)||(W=r.from(W,"binary")),W.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var ei=R/8,ni=r.alloc(ei),Xr=r.alloc(Wr||0),Zr=r.alloc(0);ei>0||Wr>0;){var si=new e;si.update(Zr),si.update(P),W&&si.update(W),Zr=si.digest();var oi=0;if(ei>0){var ai=ni.length-ei;oi=Math.min(ei,Zr.length),Zr.copy(ni,ai,0,oi),ei-=oi}if(oi<Zr.length&&Wr>0){var fi=Xr.length-Wr,ui=Math.min(Wr,Zr.length-oi);Zr.copy(Xr,fi,oi,oi+ui),Wr-=ui}}return Zr.fill(0),{key:ni,iv:Xr}}return evp_bytestokey=i,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var r=requireModes$1(),e=requireAuthCipher(),i=safeBufferExports.Buffer,P=requireStreamCipher(),W=requireCipherBase(),R=requireAes(),Wr=requireEvp_bytestokey(),ei=inherits_browserExports;function ni(ai,fi,ui){W.call(this),this._cache=new Zr,this._cipher=new R.AES(fi),this._prev=i.from(ui),this._mode=ai,this._autopadding=!0}ei(ni,W),ni.prototype._update=function(ai){this._cache.add(ai);for(var fi,ui,sn=[];fi=this._cache.get();)ui=this._mode.encrypt(this,fi),sn.push(ui);return i.concat(sn)};var Xr=i.alloc(16,16);ni.prototype._final=function(){var ai=this._cache.flush();if(this._autopadding)return ai=this._mode.encrypt(this,ai),this._cipher.scrub(),ai;if(!ai.equals(Xr))throw this._cipher.scrub(),new Error("data not multiple of block length")},ni.prototype.setAutoPadding=function(ai){return this._autopadding=!!ai,this};function Zr(){this.cache=i.allocUnsafe(0)}Zr.prototype.add=function(ai){this.cache=i.concat([this.cache,ai])},Zr.prototype.get=function(){if(this.cache.length>15){var ai=this.cache.slice(0,16);return this.cache=this.cache.slice(16),ai}return null},Zr.prototype.flush=function(){for(var ai=16-this.cache.length,fi=i.allocUnsafe(ai),ui=-1;++ui<ai;)fi.writeUInt8(ai,ui);return i.concat([this.cache,fi])};function si(ai,fi,ui){var sn=r[ai.toLowerCase()];if(!sn)throw new TypeError("invalid suite type");if(typeof fi=="string"&&(fi=i.from(fi)),fi.length!==sn.key/8)throw new TypeError("invalid key length "+fi.length);if(typeof ui=="string"&&(ui=i.from(ui)),sn.mode!=="GCM"&&ui.length!==sn.iv)throw new TypeError("invalid iv length "+ui.length);return sn.type==="stream"?new P(sn.module,fi,ui):sn.type==="auth"?new e(sn.module,fi,ui):new ni(sn.module,fi,ui)}function oi(ai,fi){var ui=r[ai.toLowerCase()];if(!ui)throw new TypeError("invalid suite type");var sn=Wr(fi,!1,ui.key,ui.iv);return si(ai,sn.key,sn.iv)}return encrypter.createCipheriv=si,encrypter.createCipher=oi,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var r=requireAuthCipher(),e=safeBufferExports.Buffer,i=requireModes$1(),P=requireStreamCipher(),W=requireCipherBase(),R=requireAes(),Wr=requireEvp_bytestokey(),ei=inherits_browserExports;function ni(ai,fi,ui){W.call(this),this._cache=new Xr,this._last=void 0,this._cipher=new R.AES(fi),this._prev=e.from(ui),this._mode=ai,this._autopadding=!0}ei(ni,W),ni.prototype._update=function(ai){this._cache.add(ai);for(var fi,ui,sn=[];fi=this._cache.get(this._autopadding);)ui=this._mode.decrypt(this,fi),sn.push(ui);return e.concat(sn)},ni.prototype._final=function(){var ai=this._cache.flush();if(this._autopadding)return Zr(this._mode.decrypt(this,ai));if(ai)throw new Error("data not multiple of block length")},ni.prototype.setAutoPadding=function(ai){return this._autopadding=!!ai,this};function Xr(){this.cache=e.allocUnsafe(0)}Xr.prototype.add=function(ai){this.cache=e.concat([this.cache,ai])},Xr.prototype.get=function(ai){var fi;if(ai){if(this.cache.length>16)return fi=this.cache.slice(0,16),this.cache=this.cache.slice(16),fi}else if(this.cache.length>=16)return fi=this.cache.slice(0,16),this.cache=this.cache.slice(16),fi;return null},Xr.prototype.flush=function(){if(this.cache.length)return this.cache};function Zr(ai){var fi=ai[15];if(fi<1||fi>16)throw new Error("unable to decrypt data");for(var ui=-1;++ui<fi;)if(ai[ui+(16-fi)]!==fi)throw new Error("unable to decrypt data");if(fi!==16)return ai.slice(0,16-fi)}function si(ai,fi,ui){var sn=i[ai.toLowerCase()];if(!sn)throw new TypeError("invalid suite type");if(typeof ui=="string"&&(ui=e.from(ui)),sn.mode!=="GCM"&&ui.length!==sn.iv)throw new TypeError("invalid iv length "+ui.length);if(typeof fi=="string"&&(fi=e.from(fi)),fi.length!==sn.key/8)throw new TypeError("invalid key length "+fi.length);return sn.type==="stream"?new P(sn.module,fi,ui,!0):sn.type==="auth"?new r(sn.module,fi,ui,!0):new ni(sn.module,fi,ui)}function oi(ai,fi){var ui=i[ai.toLowerCase()];if(!ui)throw new TypeError("invalid suite type");var sn=Wr(fi,!1,ui.key,ui.iv);return si(ai,sn.key,sn.iv)}return decrypter.createDecipher=oi,decrypter.createDecipheriv=si,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$7;hasRequiredBrowser$6=1;var r=requireEncrypter(),e=requireDecrypter(),i=require$$2;function P(){return Object.keys(i)}return browser$7.createCipher=browser$7.Cipher=r.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=r.createCipheriv,browser$7.createDecipher=browser$7.Decipher=e.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=e.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=P,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$8;hasRequiredBrowser$5=1;var r=requireBrowserifyDes(),e=requireBrowser$6(),i=requireModes$1(),P=requireModes(),W=requireEvp_bytestokey();function R(Zr,si){Zr=Zr.toLowerCase();var oi,ai;if(i[Zr])oi=i[Zr].key,ai=i[Zr].iv;else if(P[Zr])oi=P[Zr].key*8,ai=P[Zr].iv;else throw new TypeError("invalid suite type");var fi=W(si,!1,oi,ai);return ei(Zr,fi.key,fi.iv)}function Wr(Zr,si){Zr=Zr.toLowerCase();var oi,ai;if(i[Zr])oi=i[Zr].key,ai=i[Zr].iv;else if(P[Zr])oi=P[Zr].key*8,ai=P[Zr].iv;else throw new TypeError("invalid suite type");var fi=W(si,!1,oi,ai);return ni(Zr,fi.key,fi.iv)}function ei(Zr,si,oi){if(Zr=Zr.toLowerCase(),i[Zr])return e.createCipheriv(Zr,si,oi);if(P[Zr])return new r({key:si,iv:oi,mode:Zr});throw new TypeError("invalid suite type")}function ni(Zr,si,oi){if(Zr=Zr.toLowerCase(),i[Zr])return e.createDecipheriv(Zr,si,oi);if(P[Zr])return new r({key:si,iv:oi,mode:Zr,decrypt:!0});throw new TypeError("invalid suite type")}function Xr(){return Object.keys(P).concat(e.getCiphers())}return browser$8.createCipher=browser$8.Cipher=R,browser$8.createCipheriv=browser$8.Cipheriv=ei,browser$8.createDecipher=browser$8.Decipher=Wr,browser$8.createDecipheriv=browser$8.Decipheriv=ni,browser$8.listCiphers=browser$8.getCiphers=Xr,browser$8}var browser$6={},bn$6={exports:{}};bn$6.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(r){(function(e,i){function P(ii,t){if(!ii)throw new Error(t||"Assertion failed")}function W(ii,t){ii.super_=t;var o=function(){};o.prototype=t.prototype,ii.prototype=new o,ii.prototype.constructor=ii}function R(ii,t,o){if(R.isBN(ii))return ii;this.negative=0,this.words=null,this.length=0,this.red=null,ii!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(ii||0,t||10,o||"be"))}typeof e=="object"?e.exports=R:i.BN=R,R.BN=R,R.wordSize=26;var Wr;try{typeof window<"u"&&typeof window.Buffer<"u"?Wr=window.Buffer:Wr=require$$0$6.Buffer}catch{}R.isBN=function(t){return t instanceof R?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===R.wordSize&&Array.isArray(t.words)},R.max=function(t,o){return t.cmp(o)>0?t:o},R.min=function(t,o){return t.cmp(o)<0?t:o},R.prototype._init=function(t,o,H){if(typeof t=="number")return this._initNumber(t,o,H);if(typeof t=="object")return this._initArray(t,o,H);o==="hex"&&(o=16),P(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var G=0;t[0]==="-"&&(G++,this.negative=1),G<t.length&&(o===16?this._parseHex(t,G,H):(this._parseBase(t,o,G),H==="le"&&this._initArray(this.toArray(),o,H)))},R.prototype._initNumber=function(t,o,H){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(P(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),H==="le"&&this._initArray(this.toArray(),o,H)},R.prototype._initArray=function(t,o,H){if(P(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne,Le,ti=0;if(H==="be")for(G=t.length-1,Ne=0;G>=0;G-=3)Le=t[G]|t[G-1]<<8|t[G-2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);else if(H==="le")for(G=0,Ne=0;G<t.length;G+=3)Le=t[G]|t[G+1]<<8|t[G+2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);return this.strip()};function ei(ii,t){var o=ii.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function ni(ii,t,o){var H=ei(ii,o);return o-1>=t&&(H|=ei(ii,o-1)<<4),H}R.prototype._parseHex=function(t,o,H){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne=0,Le=0,ti;if(H==="be")for(G=t.length-1;G>=o;G-=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8;else{var Ie=t.length-o;for(G=Ie%2===0?o+1:o;G<t.length;G+=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8}this.strip()};function Xr(ii,t,o,H){for(var G=0,Ne=Math.min(ii.length,o),Le=t;Le<Ne;Le++){var ti=ii.charCodeAt(Le)-48;G*=H,ti>=49?G+=ti-49+10:ti>=17?G+=ti-17+10:G+=ti}return G}R.prototype._parseBase=function(t,o,H){this.words=[0],this.length=1;for(var G=0,Ne=1;Ne<=67108863;Ne*=o)G++;G--,Ne=Ne/o|0;for(var Le=t.length-H,ti=Le%G,Ie=Math.min(Le,Le-ti)+H,s=0,Y=H;Y<Ie;Y+=G)s=Xr(t,Y,Y+G,o),this.imuln(Ne),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(ti!==0){var li=1;for(s=Xr(t,Y,t.length,o),Y=0;Y<ti;Y++)li*=o;this.imuln(li),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},R.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},R.prototype.clone=function(){var t=new R(null);return this.copy(t),t},R.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},R.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},R.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},R.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Zr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],si=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],oi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];R.prototype.toString=function(t,o){t=t||10,o=o|0||1;var H;if(t===16||t==="hex"){H="";for(var G=0,Ne=0,Le=0;Le<this.length;Le++){var ti=this.words[Le],Ie=((ti<<G|Ne)&16777215).toString(16);Ne=ti>>>24-G&16777215,Ne!==0||Le!==this.length-1?H=Zr[6-Ie.length]+Ie+H:H=Ie+H,G+=2,G>=26&&(G-=26,Le--)}for(Ne!==0&&(H=Ne.toString(16)+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}if(t===(t|0)&&t>=2&&t<=36){var s=si[t],Y=oi[t];H="";var li=this.clone();for(li.negative=0;!li.isZero();){var un=li.modn(Y).toString(t);li=li.idivn(Y),li.isZero()?H=un+H:H=Zr[s-un.length]+un+H}for(this.isZero()&&(H="0"+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}P(!1,"Base should be between 2 and 36")},R.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},R.prototype.toJSON=function(){return this.toString(16)},R.prototype.toBuffer=function(t,o){return P(typeof Wr<"u"),this.toArrayLike(Wr,t,o)},R.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},R.prototype.toArrayLike=function(t,o,H){var G=this.byteLength(),Ne=H||Math.max(1,G);P(G<=Ne,"byte array longer than desired length"),P(Ne>0,"Requested array length <= 0"),this.strip();var Le=o==="le",ti=new t(Ne),Ie,s,Y=this.clone();if(Le){for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[s]=Ie;for(;s<Ne;s++)ti[s]=0}else{for(s=0;s<Ne-G;s++)ti[s]=0;for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[Ne-s-1]=Ie}return ti},Math.clz32?R.prototype._countBits=function(t){return 32-Math.clz32(t)}:R.prototype._countBits=function(t){var o=t,H=0;return o>=4096&&(H+=13,o>>>=13),o>=64&&(H+=7,o>>>=7),o>=8&&(H+=4,o>>>=4),o>=2&&(H+=2,o>>>=2),H+o},R.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,H=0;return o&8191||(H+=13,o>>>=13),o&127||(H+=7,o>>>=7),o&15||(H+=4,o>>>=4),o&3||(H+=2,o>>>=2),o&1||H++,H},R.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function ai(ii){for(var t=new Array(ii.bitLength()),o=0;o<t.length;o++){var H=o/26|0,G=o%26;t[o]=(ii.words[H]&1<<G)>>>G}return t}R.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var H=this._zeroBits(this.words[o]);if(t+=H,H!==26)break}return t},R.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},R.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},R.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},R.prototype.isNeg=function(){return this.negative!==0},R.prototype.neg=function(){return this.clone().ineg()},R.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},R.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},R.prototype.ior=function(t){return P((this.negative|t.negative)===0),this.iuor(t)},R.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},R.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},R.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var H=0;H<o.length;H++)this.words[H]=this.words[H]&t.words[H];return this.length=o.length,this.strip()},R.prototype.iand=function(t){return P((this.negative|t.negative)===0),this.iuand(t)},R.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},R.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},R.prototype.iuxor=function(t){var o,H;this.length>t.length?(o=this,H=t):(o=t,H=this);for(var G=0;G<H.length;G++)this.words[G]=o.words[G]^H.words[G];if(this!==o)for(;G<o.length;G++)this.words[G]=o.words[G];return this.length=o.length,this.strip()},R.prototype.ixor=function(t){return P((this.negative|t.negative)===0),this.iuxor(t)},R.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},R.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},R.prototype.inotn=function(t){P(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,H=t%26;this._expand(o),H>0&&o--;for(var G=0;G<o;G++)this.words[G]=~this.words[G]&67108863;return H>0&&(this.words[G]=~this.words[G]&67108863>>26-H),this.strip()},R.prototype.notn=function(t){return this.clone().inotn(t)},R.prototype.setn=function(t,o){P(typeof t=="number"&&t>=0);var H=t/26|0,G=t%26;return this._expand(H+1),o?this.words[H]=this.words[H]|1<<G:this.words[H]=this.words[H]&~(1<<G),this.strip()},R.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var H,G;this.length>t.length?(H=this,G=t):(H=t,G=this);for(var Ne=0,Le=0;Le<G.length;Le++)o=(H.words[Le]|0)+(G.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;for(;Ne!==0&&Le<H.length;Le++)o=(H.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;if(this.length=H.length,Ne!==0)this.words[this.length]=Ne,this.length++;else if(H!==this)for(;Le<H.length;Le++)this.words[Le]=H.words[Le];return this},R.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},R.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var H=this.cmp(t);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,Ne;H>0?(G=this,Ne=t):(G=t,Ne=this);for(var Le=0,ti=0;ti<Ne.length;ti++)o=(G.words[ti]|0)-(Ne.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;for(;Le!==0&&ti<G.length;ti++)o=(G.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;if(Le===0&&ti<G.length&&G!==this)for(;ti<G.length;ti++)this.words[ti]=G.words[ti];return this.length=Math.max(this.length,ti),G!==this&&(this.negative=1),this.strip()},R.prototype.sub=function(t){return this.clone().isub(t)};function fi(ii,t,o){o.negative=t.negative^ii.negative;var H=ii.length+t.length|0;o.length=H,H=H-1|0;var G=ii.words[0]|0,Ne=t.words[0]|0,Le=G*Ne,ti=Le&67108863,Ie=Le/67108864|0;o.words[0]=ti;for(var s=1;s<H;s++){for(var Y=Ie>>>26,li=Ie&67108863,un=Math.min(s,t.length-1),pn=Math.max(0,s-ii.length+1);pn<=un;pn++){var di=s-pn|0;G=ii.words[di]|0,Ne=t.words[pn]|0,Le=G*Ne+li,Y+=Le/67108864|0,li=Le&67108863}o.words[s]=li|0,Ie=Y|0}return Ie!==0?o.words[s]=Ie|0:o.length--,o.strip()}var ui=function(t,o,H){var G=t.words,Ne=o.words,Le=H.words,ti=0,Ie,s,Y,li=G[0]|0,un=li&8191,pn=li>>>13,di=G[1]|0,An=di&8191,$i=di>>>13,fn=G[2]|0,cn=fn&8191,ci=fn>>>13,Rn=G[3]|0,Zn=Rn&8191,ho=Rn>>>13,qh=G[4]|0,Lo=qh&8191,jo=qh>>>13,jh=G[5]|0,_h=jh&8191,tf=jh>>>13,zh=G[6]|0,Ko=zh&8191,Uo=zh>>>13,Uh=G[7]|0,Vo=Uh&8191,qo=Uh>>>13,Fh=G[8]|0,Zo=Fh&8191,Fo=Fh>>>13,Hh=G[9]|0,Vf=Hh&8191,Ho=Hh>>>13,Kh=Ne[0]|0,yh=Kh&8191,Yo=Kh>>>13,Vh=Ne[1]|0,Ih=Vh&8191,wh=Vh>>>13,uu=Ne[2]|0,Dh=uu&8191,Mh=uu>>>13,qu=Ne[3]|0,Bh=qu&8191,Xf=qu>>>13,Jh=Ne[4]|0,Eh=Jh&8191,ph=Jh>>>13,Qh=Ne[5]|0,xh=Qh&8191,mh=Qh>>>13,su=Ne[6]|0,Ah=su&8191,gh=su>>>13,Xh=Ne[7]|0,Sh=Xh&8191,vh=Xh>>>13,Wh=Ne[8]|0,Rh=Wh&8191,bh=Wh>>>13,Uu=Ne[9]|0,Ch=Uu&8191,$h=Uu>>>13;H.negative=t.negative^o.negative,H.length=19,Ie=Math.imul(un,yh),s=Math.imul(un,Yo),s=s+Math.imul(pn,yh)|0,Y=Math.imul(pn,Yo);var au=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(au>>>26)|0,au&=67108863,Ie=Math.imul(An,yh),s=Math.imul(An,Yo),s=s+Math.imul($i,yh)|0,Y=Math.imul($i,Yo),Ie=Ie+Math.imul(un,Ih)|0,s=s+Math.imul(un,wh)|0,s=s+Math.imul(pn,Ih)|0,Y=Y+Math.imul(pn,wh)|0;var f0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(f0>>>26)|0,f0&=67108863,Ie=Math.imul(cn,yh),s=Math.imul(cn,Yo),s=s+Math.imul(ci,yh)|0,Y=Math.imul(ci,Yo),Ie=Ie+Math.imul(An,Ih)|0,s=s+Math.imul(An,wh)|0,s=s+Math.imul($i,Ih)|0,Y=Y+Math.imul($i,wh)|0,Ie=Ie+Math.imul(un,Dh)|0,s=s+Math.imul(un,Mh)|0,s=s+Math.imul(pn,Dh)|0,Y=Y+Math.imul(pn,Mh)|0;var $0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+($0>>>26)|0,$0&=67108863,Ie=Math.imul(Zn,yh),s=Math.imul(Zn,Yo),s=s+Math.imul(ho,yh)|0,Y=Math.imul(ho,Yo),Ie=Ie+Math.imul(cn,Ih)|0,s=s+Math.imul(cn,wh)|0,s=s+Math.imul(ci,Ih)|0,Y=Y+Math.imul(ci,wh)|0,Ie=Ie+Math.imul(An,Dh)|0,s=s+Math.imul(An,Mh)|0,s=s+Math.imul($i,Dh)|0,Y=Y+Math.imul($i,Mh)|0,Ie=Ie+Math.imul(un,Bh)|0,s=s+Math.imul(un,Xf)|0,s=s+Math.imul(pn,Bh)|0,Y=Y+Math.imul(pn,Xf)|0;var D0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(D0>>>26)|0,D0&=67108863,Ie=Math.imul(Lo,yh),s=Math.imul(Lo,Yo),s=s+Math.imul(jo,yh)|0,Y=Math.imul(jo,Yo),Ie=Ie+Math.imul(Zn,Ih)|0,s=s+Math.imul(Zn,wh)|0,s=s+Math.imul(ho,Ih)|0,Y=Y+Math.imul(ho,wh)|0,Ie=Ie+Math.imul(cn,Dh)|0,s=s+Math.imul(cn,Mh)|0,s=s+Math.imul(ci,Dh)|0,Y=Y+Math.imul(ci,Mh)|0,Ie=Ie+Math.imul(An,Bh)|0,s=s+Math.imul(An,Xf)|0,s=s+Math.imul($i,Bh)|0,Y=Y+Math.imul($i,Xf)|0,Ie=Ie+Math.imul(un,Eh)|0,s=s+Math.imul(un,ph)|0,s=s+Math.imul(pn,Eh)|0,Y=Y+Math.imul(pn,ph)|0;var F0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(F0>>>26)|0,F0&=67108863,Ie=Math.imul(_h,yh),s=Math.imul(_h,Yo),s=s+Math.imul(tf,yh)|0,Y=Math.imul(tf,Yo),Ie=Ie+Math.imul(Lo,Ih)|0,s=s+Math.imul(Lo,wh)|0,s=s+Math.imul(jo,Ih)|0,Y=Y+Math.imul(jo,wh)|0,Ie=Ie+Math.imul(Zn,Dh)|0,s=s+Math.imul(Zn,Mh)|0,s=s+Math.imul(ho,Dh)|0,Y=Y+Math.imul(ho,Mh)|0,Ie=Ie+Math.imul(cn,Bh)|0,s=s+Math.imul(cn,Xf)|0,s=s+Math.imul(ci,Bh)|0,Y=Y+Math.imul(ci,Xf)|0,Ie=Ie+Math.imul(An,Eh)|0,s=s+Math.imul(An,ph)|0,s=s+Math.imul($i,Eh)|0,Y=Y+Math.imul($i,ph)|0,Ie=Ie+Math.imul(un,xh)|0,s=s+Math.imul(un,mh)|0,s=s+Math.imul(pn,xh)|0,Y=Y+Math.imul(pn,mh)|0;var tc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(tc>>>26)|0,tc&=67108863,Ie=Math.imul(Ko,yh),s=Math.imul(Ko,Yo),s=s+Math.imul(Uo,yh)|0,Y=Math.imul(Uo,Yo),Ie=Ie+Math.imul(_h,Ih)|0,s=s+Math.imul(_h,wh)|0,s=s+Math.imul(tf,Ih)|0,Y=Y+Math.imul(tf,wh)|0,Ie=Ie+Math.imul(Lo,Dh)|0,s=s+Math.imul(Lo,Mh)|0,s=s+Math.imul(jo,Dh)|0,Y=Y+Math.imul(jo,Mh)|0,Ie=Ie+Math.imul(Zn,Bh)|0,s=s+Math.imul(Zn,Xf)|0,s=s+Math.imul(ho,Bh)|0,Y=Y+Math.imul(ho,Xf)|0,Ie=Ie+Math.imul(cn,Eh)|0,s=s+Math.imul(cn,ph)|0,s=s+Math.imul(ci,Eh)|0,Y=Y+Math.imul(ci,ph)|0,Ie=Ie+Math.imul(An,xh)|0,s=s+Math.imul(An,mh)|0,s=s+Math.imul($i,xh)|0,Y=Y+Math.imul($i,mh)|0,Ie=Ie+Math.imul(un,Ah)|0,s=s+Math.imul(un,gh)|0,s=s+Math.imul(pn,Ah)|0,Y=Y+Math.imul(pn,gh)|0;var Ku=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,Ie=Math.imul(Vo,yh),s=Math.imul(Vo,Yo),s=s+Math.imul(qo,yh)|0,Y=Math.imul(qo,Yo),Ie=Ie+Math.imul(Ko,Ih)|0,s=s+Math.imul(Ko,wh)|0,s=s+Math.imul(Uo,Ih)|0,Y=Y+Math.imul(Uo,wh)|0,Ie=Ie+Math.imul(_h,Dh)|0,s=s+Math.imul(_h,Mh)|0,s=s+Math.imul(tf,Dh)|0,Y=Y+Math.imul(tf,Mh)|0,Ie=Ie+Math.imul(Lo,Bh)|0,s=s+Math.imul(Lo,Xf)|0,s=s+Math.imul(jo,Bh)|0,Y=Y+Math.imul(jo,Xf)|0,Ie=Ie+Math.imul(Zn,Eh)|0,s=s+Math.imul(Zn,ph)|0,s=s+Math.imul(ho,Eh)|0,Y=Y+Math.imul(ho,ph)|0,Ie=Ie+Math.imul(cn,xh)|0,s=s+Math.imul(cn,mh)|0,s=s+Math.imul(ci,xh)|0,Y=Y+Math.imul(ci,mh)|0,Ie=Ie+Math.imul(An,Ah)|0,s=s+Math.imul(An,gh)|0,s=s+Math.imul($i,Ah)|0,Y=Y+Math.imul($i,gh)|0,Ie=Ie+Math.imul(un,Sh)|0,s=s+Math.imul(un,vh)|0,s=s+Math.imul(pn,Sh)|0,Y=Y+Math.imul(pn,vh)|0;var sc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(sc>>>26)|0,sc&=67108863,Ie=Math.imul(Zo,yh),s=Math.imul(Zo,Yo),s=s+Math.imul(Fo,yh)|0,Y=Math.imul(Fo,Yo),Ie=Ie+Math.imul(Vo,Ih)|0,s=s+Math.imul(Vo,wh)|0,s=s+Math.imul(qo,Ih)|0,Y=Y+Math.imul(qo,wh)|0,Ie=Ie+Math.imul(Ko,Dh)|0,s=s+Math.imul(Ko,Mh)|0,s=s+Math.imul(Uo,Dh)|0,Y=Y+Math.imul(Uo,Mh)|0,Ie=Ie+Math.imul(_h,Bh)|0,s=s+Math.imul(_h,Xf)|0,s=s+Math.imul(tf,Bh)|0,Y=Y+Math.imul(tf,Xf)|0,Ie=Ie+Math.imul(Lo,Eh)|0,s=s+Math.imul(Lo,ph)|0,s=s+Math.imul(jo,Eh)|0,Y=Y+Math.imul(jo,ph)|0,Ie=Ie+Math.imul(Zn,xh)|0,s=s+Math.imul(Zn,mh)|0,s=s+Math.imul(ho,xh)|0,Y=Y+Math.imul(ho,mh)|0,Ie=Ie+Math.imul(cn,Ah)|0,s=s+Math.imul(cn,gh)|0,s=s+Math.imul(ci,Ah)|0,Y=Y+Math.imul(ci,gh)|0,Ie=Ie+Math.imul(An,Sh)|0,s=s+Math.imul(An,vh)|0,s=s+Math.imul($i,Sh)|0,Y=Y+Math.imul($i,vh)|0,Ie=Ie+Math.imul(un,Rh)|0,s=s+Math.imul(un,bh)|0,s=s+Math.imul(pn,Rh)|0,Y=Y+Math.imul(pn,bh)|0;var uc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(uc>>>26)|0,uc&=67108863,Ie=Math.imul(Vf,yh),s=Math.imul(Vf,Yo),s=s+Math.imul(Ho,yh)|0,Y=Math.imul(Ho,Yo),Ie=Ie+Math.imul(Zo,Ih)|0,s=s+Math.imul(Zo,wh)|0,s=s+Math.imul(Fo,Ih)|0,Y=Y+Math.imul(Fo,wh)|0,Ie=Ie+Math.imul(Vo,Dh)|0,s=s+Math.imul(Vo,Mh)|0,s=s+Math.imul(qo,Dh)|0,Y=Y+Math.imul(qo,Mh)|0,Ie=Ie+Math.imul(Ko,Bh)|0,s=s+Math.imul(Ko,Xf)|0,s=s+Math.imul(Uo,Bh)|0,Y=Y+Math.imul(Uo,Xf)|0,Ie=Ie+Math.imul(_h,Eh)|0,s=s+Math.imul(_h,ph)|0,s=s+Math.imul(tf,Eh)|0,Y=Y+Math.imul(tf,ph)|0,Ie=Ie+Math.imul(Lo,xh)|0,s=s+Math.imul(Lo,mh)|0,s=s+Math.imul(jo,xh)|0,Y=Y+Math.imul(jo,mh)|0,Ie=Ie+Math.imul(Zn,Ah)|0,s=s+Math.imul(Zn,gh)|0,s=s+Math.imul(ho,Ah)|0,Y=Y+Math.imul(ho,gh)|0,Ie=Ie+Math.imul(cn,Sh)|0,s=s+Math.imul(cn,vh)|0,s=s+Math.imul(ci,Sh)|0,Y=Y+Math.imul(ci,vh)|0,Ie=Ie+Math.imul(An,Rh)|0,s=s+Math.imul(An,bh)|0,s=s+Math.imul($i,Rh)|0,Y=Y+Math.imul($i,bh)|0,Ie=Ie+Math.imul(un,Ch)|0,s=s+Math.imul(un,$h)|0,s=s+Math.imul(pn,Ch)|0,Y=Y+Math.imul(pn,$h)|0;var ac=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(ac>>>26)|0,ac&=67108863,Ie=Math.imul(Vf,Ih),s=Math.imul(Vf,wh),s=s+Math.imul(Ho,Ih)|0,Y=Math.imul(Ho,wh),Ie=Ie+Math.imul(Zo,Dh)|0,s=s+Math.imul(Zo,Mh)|0,s=s+Math.imul(Fo,Dh)|0,Y=Y+Math.imul(Fo,Mh)|0,Ie=Ie+Math.imul(Vo,Bh)|0,s=s+Math.imul(Vo,Xf)|0,s=s+Math.imul(qo,Bh)|0,Y=Y+Math.imul(qo,Xf)|0,Ie=Ie+Math.imul(Ko,Eh)|0,s=s+Math.imul(Ko,ph)|0,s=s+Math.imul(Uo,Eh)|0,Y=Y+Math.imul(Uo,ph)|0,Ie=Ie+Math.imul(_h,xh)|0,s=s+Math.imul(_h,mh)|0,s=s+Math.imul(tf,xh)|0,Y=Y+Math.imul(tf,mh)|0,Ie=Ie+Math.imul(Lo,Ah)|0,s=s+Math.imul(Lo,gh)|0,s=s+Math.imul(jo,Ah)|0,Y=Y+Math.imul(jo,gh)|0,Ie=Ie+Math.imul(Zn,Sh)|0,s=s+Math.imul(Zn,vh)|0,s=s+Math.imul(ho,Sh)|0,Y=Y+Math.imul(ho,vh)|0,Ie=Ie+Math.imul(cn,Rh)|0,s=s+Math.imul(cn,bh)|0,s=s+Math.imul(ci,Rh)|0,Y=Y+Math.imul(ci,bh)|0,Ie=Ie+Math.imul(An,Ch)|0,s=s+Math.imul(An,$h)|0,s=s+Math.imul($i,Ch)|0,Y=Y+Math.imul($i,$h)|0;var cc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(cc>>>26)|0,cc&=67108863,Ie=Math.imul(Vf,Dh),s=Math.imul(Vf,Mh),s=s+Math.imul(Ho,Dh)|0,Y=Math.imul(Ho,Mh),Ie=Ie+Math.imul(Zo,Bh)|0,s=s+Math.imul(Zo,Xf)|0,s=s+Math.imul(Fo,Bh)|0,Y=Y+Math.imul(Fo,Xf)|0,Ie=Ie+Math.imul(Vo,Eh)|0,s=s+Math.imul(Vo,ph)|0,s=s+Math.imul(qo,Eh)|0,Y=Y+Math.imul(qo,ph)|0,Ie=Ie+Math.imul(Ko,xh)|0,s=s+Math.imul(Ko,mh)|0,s=s+Math.imul(Uo,xh)|0,Y=Y+Math.imul(Uo,mh)|0,Ie=Ie+Math.imul(_h,Ah)|0,s=s+Math.imul(_h,gh)|0,s=s+Math.imul(tf,Ah)|0,Y=Y+Math.imul(tf,gh)|0,Ie=Ie+Math.imul(Lo,Sh)|0,s=s+Math.imul(Lo,vh)|0,s=s+Math.imul(jo,Sh)|0,Y=Y+Math.imul(jo,vh)|0,Ie=Ie+Math.imul(Zn,Rh)|0,s=s+Math.imul(Zn,bh)|0,s=s+Math.imul(ho,Rh)|0,Y=Y+Math.imul(ho,bh)|0,Ie=Ie+Math.imul(cn,Ch)|0,s=s+Math.imul(cn,$h)|0,s=s+Math.imul(ci,Ch)|0,Y=Y+Math.imul(ci,$h)|0;var lc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(lc>>>26)|0,lc&=67108863,Ie=Math.imul(Vf,Bh),s=Math.imul(Vf,Xf),s=s+Math.imul(Ho,Bh)|0,Y=Math.imul(Ho,Xf),Ie=Ie+Math.imul(Zo,Eh)|0,s=s+Math.imul(Zo,ph)|0,s=s+Math.imul(Fo,Eh)|0,Y=Y+Math.imul(Fo,ph)|0,Ie=Ie+Math.imul(Vo,xh)|0,s=s+Math.imul(Vo,mh)|0,s=s+Math.imul(qo,xh)|0,Y=Y+Math.imul(qo,mh)|0,Ie=Ie+Math.imul(Ko,Ah)|0,s=s+Math.imul(Ko,gh)|0,s=s+Math.imul(Uo,Ah)|0,Y=Y+Math.imul(Uo,gh)|0,Ie=Ie+Math.imul(_h,Sh)|0,s=s+Math.imul(_h,vh)|0,s=s+Math.imul(tf,Sh)|0,Y=Y+Math.imul(tf,vh)|0,Ie=Ie+Math.imul(Lo,Rh)|0,s=s+Math.imul(Lo,bh)|0,s=s+Math.imul(jo,Rh)|0,Y=Y+Math.imul(jo,bh)|0,Ie=Ie+Math.imul(Zn,Ch)|0,s=s+Math.imul(Zn,$h)|0,s=s+Math.imul(ho,Ch)|0,Y=Y+Math.imul(ho,$h)|0;var oc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(oc>>>26)|0,oc&=67108863,Ie=Math.imul(Vf,Eh),s=Math.imul(Vf,ph),s=s+Math.imul(Ho,Eh)|0,Y=Math.imul(Ho,ph),Ie=Ie+Math.imul(Zo,xh)|0,s=s+Math.imul(Zo,mh)|0,s=s+Math.imul(Fo,xh)|0,Y=Y+Math.imul(Fo,mh)|0,Ie=Ie+Math.imul(Vo,Ah)|0,s=s+Math.imul(Vo,gh)|0,s=s+Math.imul(qo,Ah)|0,Y=Y+Math.imul(qo,gh)|0,Ie=Ie+Math.imul(Ko,Sh)|0,s=s+Math.imul(Ko,vh)|0,s=s+Math.imul(Uo,Sh)|0,Y=Y+Math.imul(Uo,vh)|0,Ie=Ie+Math.imul(_h,Rh)|0,s=s+Math.imul(_h,bh)|0,s=s+Math.imul(tf,Rh)|0,Y=Y+Math.imul(tf,bh)|0,Ie=Ie+Math.imul(Lo,Ch)|0,s=s+Math.imul(Lo,$h)|0,s=s+Math.imul(jo,Ch)|0,Y=Y+Math.imul(jo,$h)|0;var fc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(fc>>>26)|0,fc&=67108863,Ie=Math.imul(Vf,xh),s=Math.imul(Vf,mh),s=s+Math.imul(Ho,xh)|0,Y=Math.imul(Ho,mh),Ie=Ie+Math.imul(Zo,Ah)|0,s=s+Math.imul(Zo,gh)|0,s=s+Math.imul(Fo,Ah)|0,Y=Y+Math.imul(Fo,gh)|0,Ie=Ie+Math.imul(Vo,Sh)|0,s=s+Math.imul(Vo,vh)|0,s=s+Math.imul(qo,Sh)|0,Y=Y+Math.imul(qo,vh)|0,Ie=Ie+Math.imul(Ko,Rh)|0,s=s+Math.imul(Ko,bh)|0,s=s+Math.imul(Uo,Rh)|0,Y=Y+Math.imul(Uo,bh)|0,Ie=Ie+Math.imul(_h,Ch)|0,s=s+Math.imul(_h,$h)|0,s=s+Math.imul(tf,Ch)|0,Y=Y+Math.imul(tf,$h)|0;var hc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(hc>>>26)|0,hc&=67108863,Ie=Math.imul(Vf,Ah),s=Math.imul(Vf,gh),s=s+Math.imul(Ho,Ah)|0,Y=Math.imul(Ho,gh),Ie=Ie+Math.imul(Zo,Sh)|0,s=s+Math.imul(Zo,vh)|0,s=s+Math.imul(Fo,Sh)|0,Y=Y+Math.imul(Fo,vh)|0,Ie=Ie+Math.imul(Vo,Rh)|0,s=s+Math.imul(Vo,bh)|0,s=s+Math.imul(qo,Rh)|0,Y=Y+Math.imul(qo,bh)|0,Ie=Ie+Math.imul(Ko,Ch)|0,s=s+Math.imul(Ko,$h)|0,s=s+Math.imul(Uo,Ch)|0,Y=Y+Math.imul(Uo,$h)|0;var r0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(r0>>>26)|0,r0&=67108863,Ie=Math.imul(Vf,Sh),s=Math.imul(Vf,vh),s=s+Math.imul(Ho,Sh)|0,Y=Math.imul(Ho,vh),Ie=Ie+Math.imul(Zo,Rh)|0,s=s+Math.imul(Zo,bh)|0,s=s+Math.imul(Fo,Rh)|0,Y=Y+Math.imul(Fo,bh)|0,Ie=Ie+Math.imul(Vo,Ch)|0,s=s+Math.imul(Vo,$h)|0,s=s+Math.imul(qo,Ch)|0,Y=Y+Math.imul(qo,$h)|0;var dc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(dc>>>26)|0,dc&=67108863,Ie=Math.imul(Vf,Rh),s=Math.imul(Vf,bh),s=s+Math.imul(Ho,Rh)|0,Y=Math.imul(Ho,bh),Ie=Ie+Math.imul(Zo,Ch)|0,s=s+Math.imul(Zo,$h)|0,s=s+Math.imul(Fo,Ch)|0,Y=Y+Math.imul(Fo,$h)|0;var pc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(pc>>>26)|0,pc&=67108863,Ie=Math.imul(Vf,Ch),s=Math.imul(Vf,$h),s=s+Math.imul(Ho,Ch)|0,Y=Math.imul(Ho,$h);var vc=(ti+Ie|0)+((s&8191)<<13)|0;return ti=(Y+(s>>>13)|0)+(vc>>>26)|0,vc&=67108863,Le[0]=au,Le[1]=f0,Le[2]=$0,Le[3]=D0,Le[4]=F0,Le[5]=tc,Le[6]=Ku,Le[7]=sc,Le[8]=uc,Le[9]=ac,Le[10]=cc,Le[11]=lc,Le[12]=oc,Le[13]=fc,Le[14]=hc,Le[15]=r0,Le[16]=dc,Le[17]=pc,Le[18]=vc,ti!==0&&(Le[19]=ti,H.length++),H};Math.imul||(ui=fi);function sn(ii,t,o){o.negative=t.negative^ii.negative,o.length=ii.length+t.length;for(var H=0,G=0,Ne=0;Ne<o.length-1;Ne++){var Le=G;G=0;for(var ti=H&67108863,Ie=Math.min(Ne,t.length-1),s=Math.max(0,Ne-ii.length+1);s<=Ie;s++){var Y=Ne-s,li=ii.words[Y]|0,un=t.words[s]|0,pn=li*un,di=pn&67108863;Le=Le+(pn/67108864|0)|0,di=di+ti|0,ti=di&67108863,Le=Le+(di>>>26)|0,G+=Le>>>26,Le&=67108863}o.words[Ne]=ti,H=Le,Le=G}return H!==0?o.words[Ne]=H:o.length--,o.strip()}function hn(ii,t,o){var H=new nn;return H.mulp(ii,t,o)}R.prototype.mulTo=function(t,o){var H,G=this.length+t.length;return this.length===10&&t.length===10?H=ui(this,t,o):G<63?H=fi(this,t,o):G<1024?H=sn(this,t,o):H=hn(this,t,o),H};function nn(ii,t){this.x=ii,this.y=t}nn.prototype.makeRBT=function(t){for(var o=new Array(t),H=R.prototype._countBits(t)-1,G=0;G<t;G++)o[G]=this.revBin(G,H,t);return o},nn.prototype.revBin=function(t,o,H){if(t===0||t===H-1)return t;for(var G=0,Ne=0;Ne<o;Ne++)G|=(t&1)<<o-Ne-1,t>>=1;return G},nn.prototype.permute=function(t,o,H,G,Ne,Le){for(var ti=0;ti<Le;ti++)G[ti]=o[t[ti]],Ne[ti]=H[t[ti]]},nn.prototype.transform=function(t,o,H,G,Ne,Le){this.permute(Le,t,o,H,G,Ne);for(var ti=1;ti<Ne;ti<<=1)for(var Ie=ti<<1,s=Math.cos(2*Math.PI/Ie),Y=Math.sin(2*Math.PI/Ie),li=0;li<Ne;li+=Ie)for(var un=s,pn=Y,di=0;di<ti;di++){var An=H[li+di],$i=G[li+di],fn=H[li+di+ti],cn=G[li+di+ti],ci=un*fn-pn*cn;cn=un*cn+pn*fn,fn=ci,H[li+di]=An+fn,G[li+di]=$i+cn,H[li+di+ti]=An-fn,G[li+di+ti]=$i-cn,di!==Ie&&(ci=s*un-Y*pn,pn=s*pn+Y*un,un=ci)}},nn.prototype.guessLen13b=function(t,o){var H=Math.max(o,t)|1,G=H&1,Ne=0;for(H=H/2|0;H;H=H>>>1)Ne++;return 1<<Ne+1+G},nn.prototype.conjugate=function(t,o,H){if(!(H<=1))for(var G=0;G<H/2;G++){var Ne=t[G];t[G]=t[H-G-1],t[H-G-1]=Ne,Ne=o[G],o[G]=-o[H-G-1],o[H-G-1]=-Ne}},nn.prototype.normalize13b=function(t,o){for(var H=0,G=0;G<o/2;G++){var Ne=Math.round(t[2*G+1]/o)*8192+Math.round(t[2*G]/o)+H;t[G]=Ne&67108863,Ne<67108864?H=0:H=Ne/67108864|0}return t},nn.prototype.convert13b=function(t,o,H,G){for(var Ne=0,Le=0;Le<o;Le++)Ne=Ne+(t[Le]|0),H[2*Le]=Ne&8191,Ne=Ne>>>13,H[2*Le+1]=Ne&8191,Ne=Ne>>>13;for(Le=2*o;Le<G;++Le)H[Le]=0;P(Ne===0),P((Ne&-8192)===0)},nn.prototype.stub=function(t){for(var o=new Array(t),H=0;H<t;H++)o[H]=0;return o},nn.prototype.mulp=function(t,o,H){var G=2*this.guessLen13b(t.length,o.length),Ne=this.makeRBT(G),Le=this.stub(G),ti=new Array(G),Ie=new Array(G),s=new Array(G),Y=new Array(G),li=new Array(G),un=new Array(G),pn=H.words;pn.length=G,this.convert13b(t.words,t.length,ti,G),this.convert13b(o.words,o.length,Y,G),this.transform(ti,Le,Ie,s,G,Ne),this.transform(Y,Le,li,un,G,Ne);for(var di=0;di<G;di++){var An=Ie[di]*li[di]-s[di]*un[di];s[di]=Ie[di]*un[di]+s[di]*li[di],Ie[di]=An}return this.conjugate(Ie,s,G),this.transform(Ie,s,pn,Le,G,Ne),this.conjugate(pn,Le,G),this.normalize13b(pn,G),H.negative=t.negative^o.negative,H.length=t.length+o.length,H.strip()},R.prototype.mul=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},R.prototype.mulf=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),hn(this,t,o)},R.prototype.imul=function(t){return this.clone().mulTo(t,this)},R.prototype.imuln=function(t){P(typeof t=="number"),P(t<67108864);for(var o=0,H=0;H<this.length;H++){var G=(this.words[H]|0)*t,Ne=(G&67108863)+(o&67108863);o>>=26,o+=G/67108864|0,o+=Ne>>>26,this.words[H]=Ne&67108863}return o!==0&&(this.words[H]=o,this.length++),this},R.prototype.muln=function(t){return this.clone().imuln(t)},R.prototype.sqr=function(){return this.mul(this)},R.prototype.isqr=function(){return this.imul(this.clone())},R.prototype.pow=function(t){var o=ai(t);if(o.length===0)return new R(1);for(var H=this,G=0;G<o.length&&o[G]===0;G++,H=H.sqr());if(++G<o.length)for(var Ne=H.sqr();G<o.length;G++,Ne=Ne.sqr())o[G]!==0&&(H=H.mul(Ne));return H},R.prototype.iushln=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=67108863>>>26-o<<26-o,Ne;if(o!==0){var Le=0;for(Ne=0;Ne<this.length;Ne++){var ti=this.words[Ne]&G,Ie=(this.words[Ne]|0)-ti<<o;this.words[Ne]=Ie|Le,Le=ti>>>26-o}Le&&(this.words[Ne]=Le,this.length++)}if(H!==0){for(Ne=this.length-1;Ne>=0;Ne--)this.words[Ne+H]=this.words[Ne];for(Ne=0;Ne<H;Ne++)this.words[Ne]=0;this.length+=H}return this.strip()},R.prototype.ishln=function(t){return P(this.negative===0),this.iushln(t)},R.prototype.iushrn=function(t,o,H){P(typeof t=="number"&&t>=0);var G;o?G=(o-o%26)/26:G=0;var Ne=t%26,Le=Math.min((t-Ne)/26,this.length),ti=67108863^67108863>>>Ne<<Ne,Ie=H;if(G-=Le,G=Math.max(0,G),Ie){for(var s=0;s<Le;s++)Ie.words[s]=this.words[s];Ie.length=Le}if(Le!==0)if(this.length>Le)for(this.length-=Le,s=0;s<this.length;s++)this.words[s]=this.words[s+Le];else this.words[0]=0,this.length=1;var Y=0;for(s=this.length-1;s>=0&&(Y!==0||s>=G);s--){var li=this.words[s]|0;this.words[s]=Y<<26-Ne|li>>>Ne,Y=li&ti}return Ie&&Y!==0&&(Ie.words[Ie.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},R.prototype.ishrn=function(t,o,H){return P(this.negative===0),this.iushrn(t,o,H)},R.prototype.shln=function(t){return this.clone().ishln(t)},R.prototype.ushln=function(t){return this.clone().iushln(t)},R.prototype.shrn=function(t){return this.clone().ishrn(t)},R.prototype.ushrn=function(t){return this.clone().iushrn(t)},R.prototype.testn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return!1;var Ne=this.words[H];return!!(Ne&G)},R.prototype.imaskn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=H)return this;if(o!==0&&H++,this.length=Math.min(H,this.length),o!==0){var G=67108863^67108863>>>o<<o;this.words[this.length-1]&=G}return this.strip()},R.prototype.maskn=function(t){return this.clone().imaskn(t)},R.prototype.iaddn=function(t){return P(typeof t=="number"),P(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},R.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},R.prototype.isubn=function(t){if(P(typeof t=="number"),P(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},R.prototype.addn=function(t){return this.clone().iaddn(t)},R.prototype.subn=function(t){return this.clone().isubn(t)},R.prototype.iabs=function(){return this.negative=0,this},R.prototype.abs=function(){return this.clone().iabs()},R.prototype._ishlnsubmul=function(t,o,H){var G=t.length+H,Ne;this._expand(G);var Le,ti=0;for(Ne=0;Ne<t.length;Ne++){Le=(this.words[Ne+H]|0)+ti;var Ie=(t.words[Ne]|0)*o;Le-=Ie&67108863,ti=(Le>>26)-(Ie/67108864|0),this.words[Ne+H]=Le&67108863}for(;Ne<this.length-H;Ne++)Le=(this.words[Ne+H]|0)+ti,ti=Le>>26,this.words[Ne+H]=Le&67108863;if(ti===0)return this.strip();for(P(ti===-1),ti=0,Ne=0;Ne<this.length;Ne++)Le=-(this.words[Ne]|0)+ti,ti=Le>>26,this.words[Ne]=Le&67108863;return this.negative=1,this.strip()},R.prototype._wordDiv=function(t,o){var H=this.length-t.length,G=this.clone(),Ne=t,Le=Ne.words[Ne.length-1]|0,ti=this._countBits(Le);H=26-ti,H!==0&&(Ne=Ne.ushln(H),G.iushln(H),Le=Ne.words[Ne.length-1]|0);var Ie=G.length-Ne.length,s;if(o!=="mod"){s=new R(null),s.length=Ie+1,s.words=new Array(s.length);for(var Y=0;Y<s.length;Y++)s.words[Y]=0}var li=G.clone()._ishlnsubmul(Ne,1,Ie);li.negative===0&&(G=li,s&&(s.words[Ie]=1));for(var un=Ie-1;un>=0;un--){var pn=(G.words[Ne.length+un]|0)*67108864+(G.words[Ne.length+un-1]|0);for(pn=Math.min(pn/Le|0,67108863),G._ishlnsubmul(Ne,pn,un);G.negative!==0;)pn--,G.negative=0,G._ishlnsubmul(Ne,1,un),G.isZero()||(G.negative^=1);s&&(s.words[un]=pn)}return s&&s.strip(),G.strip(),o!=="div"&&H!==0&&G.iushrn(H),{div:s||null,mod:G}},R.prototype.divmod=function(t,o,H){if(P(!t.isZero()),this.isZero())return{div:new R(0),mod:new R(0)};var G,Ne,Le;return this.negative!==0&&t.negative===0?(Le=this.neg().divmod(t,o),o!=="mod"&&(G=Le.div.neg()),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.iadd(t)),{div:G,mod:Ne}):this.negative===0&&t.negative!==0?(Le=this.divmod(t.neg(),o),o!=="mod"&&(G=Le.div.neg()),{div:G,mod:Le.mod}):this.negative&t.negative?(Le=this.neg().divmod(t.neg(),o),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.isub(t)),{div:Le.div,mod:Ne}):t.length>this.length||this.cmp(t)<0?{div:new R(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new R(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new R(this.modn(t.words[0]))}:this._wordDiv(t,o)},R.prototype.div=function(t){return this.divmod(t,"div",!1).div},R.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},R.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},R.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var H=o.div.negative!==0?o.mod.isub(t):o.mod,G=t.ushrn(1),Ne=t.andln(1),Le=H.cmp(G);return Le<0||Ne===1&&Le===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},R.prototype.modn=function(t){P(t<=67108863);for(var o=(1<<26)%t,H=0,G=this.length-1;G>=0;G--)H=(o*H+(this.words[G]|0))%t;return H},R.prototype.idivn=function(t){P(t<=67108863);for(var o=0,H=this.length-1;H>=0;H--){var G=(this.words[H]|0)+o*67108864;this.words[H]=G/t|0,o=G%t}return this.strip()},R.prototype.divn=function(t){return this.clone().idivn(t)},R.prototype.egcd=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=new R(0),ti=new R(1),Ie=0;o.isEven()&&H.isEven();)o.iushrn(1),H.iushrn(1),++Ie;for(var s=H.clone(),Y=o.clone();!o.isZero();){for(var li=0,un=1;!(o.words[0]&un)&&li<26;++li,un<<=1);if(li>0)for(o.iushrn(li);li-- >0;)(G.isOdd()||Ne.isOdd())&&(G.iadd(s),Ne.isub(Y)),G.iushrn(1),Ne.iushrn(1);for(var pn=0,di=1;!(H.words[0]&di)&&pn<26;++pn,di<<=1);if(pn>0)for(H.iushrn(pn);pn-- >0;)(Le.isOdd()||ti.isOdd())&&(Le.iadd(s),ti.isub(Y)),Le.iushrn(1),ti.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Le),Ne.isub(ti)):(H.isub(o),Le.isub(G),ti.isub(Ne))}return{a:Le,b:ti,gcd:H.iushln(Ie)}},R.prototype._invmp=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=H.clone();o.cmpn(1)>0&&H.cmpn(1)>0;){for(var ti=0,Ie=1;!(o.words[0]&Ie)&&ti<26;++ti,Ie<<=1);if(ti>0)for(o.iushrn(ti);ti-- >0;)G.isOdd()&&G.iadd(Le),G.iushrn(1);for(var s=0,Y=1;!(H.words[0]&Y)&&s<26;++s,Y<<=1);if(s>0)for(H.iushrn(s);s-- >0;)Ne.isOdd()&&Ne.iadd(Le),Ne.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Ne)):(H.isub(o),Ne.isub(G))}var li;return o.cmpn(1)===0?li=G:li=Ne,li.cmpn(0)<0&&li.iadd(t),li},R.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),H=t.clone();o.negative=0,H.negative=0;for(var G=0;o.isEven()&&H.isEven();G++)o.iushrn(1),H.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;H.isEven();)H.iushrn(1);var Ne=o.cmp(H);if(Ne<0){var Le=o;o=H,H=Le}else if(Ne===0||H.cmpn(1)===0)break;o.isub(H)}while(!0);return H.iushln(G)},R.prototype.invm=function(t){return this.egcd(t).a.umod(t)},R.prototype.isEven=function(){return(this.words[0]&1)===0},R.prototype.isOdd=function(){return(this.words[0]&1)===1},R.prototype.andln=function(t){return this.words[0]&t},R.prototype.bincn=function(t){P(typeof t=="number");var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return this._expand(H+1),this.words[H]|=G,this;for(var Ne=G,Le=H;Ne!==0&&Le<this.length;Le++){var ti=this.words[Le]|0;ti+=Ne,Ne=ti>>>26,ti&=67108863,this.words[Le]=ti}return Ne!==0&&(this.words[Le]=Ne,this.length++),this},R.prototype.isZero=function(){return this.length===1&&this.words[0]===0},R.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var H;if(this.length>1)H=1;else{o&&(t=-t),P(t<=67108863,"Number is too big");var G=this.words[0]|0;H=G===t?0:G<t?-1:1}return this.negative!==0?-H|0:H},R.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},R.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,H=this.length-1;H>=0;H--){var G=this.words[H]|0,Ne=t.words[H]|0;if(G!==Ne){G<Ne?o=-1:G>Ne&&(o=1);break}}return o},R.prototype.gtn=function(t){return this.cmpn(t)===1},R.prototype.gt=function(t){return this.cmp(t)===1},R.prototype.gten=function(t){return this.cmpn(t)>=0},R.prototype.gte=function(t){return this.cmp(t)>=0},R.prototype.ltn=function(t){return this.cmpn(t)===-1},R.prototype.lt=function(t){return this.cmp(t)===-1},R.prototype.lten=function(t){return this.cmpn(t)<=0},R.prototype.lte=function(t){return this.cmp(t)<=0},R.prototype.eqn=function(t){return this.cmpn(t)===0},R.prototype.eq=function(t){return this.cmp(t)===0},R.red=function(t){return new Bn(t)},R.prototype.toRed=function(t){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},R.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},R.prototype._forceRed=function(t){return this.red=t,this},R.prototype.forceRed=function(t){return P(!this.red,"Already a number in reduction context"),this._forceRed(t)},R.prototype.redAdd=function(t){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},R.prototype.redIAdd=function(t){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},R.prototype.redSub=function(t){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},R.prototype.redISub=function(t){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},R.prototype.redShl=function(t){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},R.prototype.redMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},R.prototype.redIMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},R.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},R.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},R.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},R.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},R.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},R.prototype.redPow=function(t){return P(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var ln={k256:null,p224:null,p192:null,p25519:null};function on(ii,t){this.name=ii,this.p=new R(t,16),this.n=this.p.bitLength(),this.k=new R(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}on.prototype._tmp=function(){var t=new R(null);return t.words=new Array(Math.ceil(this.n/13)),t},on.prototype.ireduce=function(t){var o=t,H;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),H=o.bitLength();while(H>this.n);var G=H<this.n?-1:o.ucmp(this.p);return G===0?(o.words[0]=0,o.length=1):G>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},on.prototype.split=function(t,o){t.iushrn(this.n,0,o)},on.prototype.imulK=function(t){return t.imul(this.k)};function vn(){on.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}W(vn,on),vn.prototype.split=function(t,o){for(var H=4194303,G=Math.min(t.length,9),Ne=0;Ne<G;Ne++)o.words[Ne]=t.words[Ne];if(o.length=G,t.length<=9){t.words[0]=0,t.length=1;return}var Le=t.words[9];for(o.words[o.length++]=Le&H,Ne=10;Ne<t.length;Ne++){var ti=t.words[Ne]|0;t.words[Ne-10]=(ti&H)<<4|Le>>>22,Le=ti}Le>>>=22,t.words[Ne-10]=Le,Le===0&&t.length>10?t.length-=10:t.length-=9},vn.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,H=0;H<t.length;H++){var G=t.words[H]|0;o+=G*977,t.words[H]=o&67108863,o=G*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Mn(){on.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}W(Mn,on);function mi(){on.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}W(mi,on);function mn(){on.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}W(mn,on),mn.prototype.imulK=function(t){for(var o=0,H=0;H<t.length;H++){var G=(t.words[H]|0)*19+o,Ne=G&67108863;G>>>=26,t.words[H]=Ne,o=G}return o!==0&&(t.words[t.length++]=o),t},R._prime=function(t){if(ln[t])return ln[t];var o;if(t==="k256")o=new vn;else if(t==="p224")o=new Mn;else if(t==="p192")o=new mi;else if(t==="p25519")o=new mn;else throw new Error("Unknown prime "+t);return ln[t]=o,o};function Bn(ii){if(typeof ii=="string"){var t=R._prime(ii);this.m=t.p,this.prime=t}else P(ii.gtn(1),"modulus must be greater than 1"),this.m=ii,this.prime=null}Bn.prototype._verify1=function(t){P(t.negative===0,"red works only with positives"),P(t.red,"red works only with red numbers")},Bn.prototype._verify2=function(t,o){P((t.negative|o.negative)===0,"red works only with positives"),P(t.red&&t.red===o.red,"red works only with red numbers")},Bn.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Bn.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Bn.prototype.add=function(t,o){this._verify2(t,o);var H=t.add(o);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},Bn.prototype.iadd=function(t,o){this._verify2(t,o);var H=t.iadd(o);return H.cmp(this.m)>=0&&H.isub(this.m),H},Bn.prototype.sub=function(t,o){this._verify2(t,o);var H=t.sub(o);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},Bn.prototype.isub=function(t,o){this._verify2(t,o);var H=t.isub(o);return H.cmpn(0)<0&&H.iadd(this.m),H},Bn.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},Bn.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},Bn.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},Bn.prototype.isqr=function(t){return this.imul(t,t.clone())},Bn.prototype.sqr=function(t){return this.mul(t,t)},Bn.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(P(o%2===1),o===3){var H=this.m.add(new R(1)).iushrn(2);return this.pow(t,H)}for(var G=this.m.subn(1),Ne=0;!G.isZero()&&G.andln(1)===0;)Ne++,G.iushrn(1);P(!G.isZero());var Le=new R(1).toRed(this),ti=Le.redNeg(),Ie=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new R(2*s*s).toRed(this);this.pow(s,Ie).cmp(ti)!==0;)s.redIAdd(ti);for(var Y=this.pow(s,G),li=this.pow(t,G.addn(1).iushrn(1)),un=this.pow(t,G),pn=Ne;un.cmp(Le)!==0;){for(var di=un,An=0;di.cmp(Le)!==0;An++)di=di.redSqr();P(An<pn);var $i=this.pow(Y,new R(1).iushln(pn-An-1));li=li.redMul($i),Y=$i.redSqr(),un=un.redMul(Y),pn=An}return li},Bn.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},Bn.prototype.pow=function(t,o){if(o.isZero())return new R(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var H=4,G=new Array(1<<H);G[0]=new R(1).toRed(this),G[1]=t;for(var Ne=2;Ne<G.length;Ne++)G[Ne]=this.mul(G[Ne-1],t);var Le=G[0],ti=0,Ie=0,s=o.bitLength()%26;for(s===0&&(s=26),Ne=o.length-1;Ne>=0;Ne--){for(var Y=o.words[Ne],li=s-1;li>=0;li--){var un=Y>>li&1;if(Le!==G[0]&&(Le=this.sqr(Le)),un===0&&ti===0){Ie=0;continue}ti<<=1,ti|=un,Ie++,!(Ie!==H&&(Ne!==0||li!==0))&&(Le=this.mul(Le,G[ti]),Ie=0,ti=0)}s=26}return Le},Bn.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},Bn.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},R.mont=function(t){return new ko(t)};function ko(ii){Bn.call(this,ii),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new R(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}W(ko,Bn),ko.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},ko.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},ko.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var H=t.imul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new R(0)._forceRed(this);var H=t.mul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$6)),bn$6.exports}var bn$5={exports:{}};bn$5.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(r){(function(e,i){function P(ii,t){if(!ii)throw new Error(t||"Assertion failed")}function W(ii,t){ii.super_=t;var o=function(){};o.prototype=t.prototype,ii.prototype=new o,ii.prototype.constructor=ii}function R(ii,t,o){if(R.isBN(ii))return ii;this.negative=0,this.words=null,this.length=0,this.red=null,ii!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(ii||0,t||10,o||"be"))}typeof e=="object"?e.exports=R:i.BN=R,R.BN=R,R.wordSize=26;var Wr;try{typeof window<"u"&&typeof window.Buffer<"u"?Wr=window.Buffer:Wr=require$$0$6.Buffer}catch{}R.isBN=function(t){return t instanceof R?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===R.wordSize&&Array.isArray(t.words)},R.max=function(t,o){return t.cmp(o)>0?t:o},R.min=function(t,o){return t.cmp(o)<0?t:o},R.prototype._init=function(t,o,H){if(typeof t=="number")return this._initNumber(t,o,H);if(typeof t=="object")return this._initArray(t,o,H);o==="hex"&&(o=16),P(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var G=0;t[0]==="-"&&(G++,this.negative=1),G<t.length&&(o===16?this._parseHex(t,G,H):(this._parseBase(t,o,G),H==="le"&&this._initArray(this.toArray(),o,H)))},R.prototype._initNumber=function(t,o,H){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(P(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),H==="le"&&this._initArray(this.toArray(),o,H)},R.prototype._initArray=function(t,o,H){if(P(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne,Le,ti=0;if(H==="be")for(G=t.length-1,Ne=0;G>=0;G-=3)Le=t[G]|t[G-1]<<8|t[G-2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);else if(H==="le")for(G=0,Ne=0;G<t.length;G+=3)Le=t[G]|t[G+1]<<8|t[G+2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);return this.strip()};function ei(ii,t){var o=ii.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function ni(ii,t,o){var H=ei(ii,o);return o-1>=t&&(H|=ei(ii,o-1)<<4),H}R.prototype._parseHex=function(t,o,H){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne=0,Le=0,ti;if(H==="be")for(G=t.length-1;G>=o;G-=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8;else{var Ie=t.length-o;for(G=Ie%2===0?o+1:o;G<t.length;G+=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8}this.strip()};function Xr(ii,t,o,H){for(var G=0,Ne=Math.min(ii.length,o),Le=t;Le<Ne;Le++){var ti=ii.charCodeAt(Le)-48;G*=H,ti>=49?G+=ti-49+10:ti>=17?G+=ti-17+10:G+=ti}return G}R.prototype._parseBase=function(t,o,H){this.words=[0],this.length=1;for(var G=0,Ne=1;Ne<=67108863;Ne*=o)G++;G--,Ne=Ne/o|0;for(var Le=t.length-H,ti=Le%G,Ie=Math.min(Le,Le-ti)+H,s=0,Y=H;Y<Ie;Y+=G)s=Xr(t,Y,Y+G,o),this.imuln(Ne),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(ti!==0){var li=1;for(s=Xr(t,Y,t.length,o),Y=0;Y<ti;Y++)li*=o;this.imuln(li),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},R.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},R.prototype.clone=function(){var t=new R(null);return this.copy(t),t},R.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},R.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},R.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},R.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Zr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],si=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],oi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];R.prototype.toString=function(t,o){t=t||10,o=o|0||1;var H;if(t===16||t==="hex"){H="";for(var G=0,Ne=0,Le=0;Le<this.length;Le++){var ti=this.words[Le],Ie=((ti<<G|Ne)&16777215).toString(16);Ne=ti>>>24-G&16777215,Ne!==0||Le!==this.length-1?H=Zr[6-Ie.length]+Ie+H:H=Ie+H,G+=2,G>=26&&(G-=26,Le--)}for(Ne!==0&&(H=Ne.toString(16)+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}if(t===(t|0)&&t>=2&&t<=36){var s=si[t],Y=oi[t];H="";var li=this.clone();for(li.negative=0;!li.isZero();){var un=li.modn(Y).toString(t);li=li.idivn(Y),li.isZero()?H=un+H:H=Zr[s-un.length]+un+H}for(this.isZero()&&(H="0"+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}P(!1,"Base should be between 2 and 36")},R.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},R.prototype.toJSON=function(){return this.toString(16)},R.prototype.toBuffer=function(t,o){return P(typeof Wr<"u"),this.toArrayLike(Wr,t,o)},R.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},R.prototype.toArrayLike=function(t,o,H){var G=this.byteLength(),Ne=H||Math.max(1,G);P(G<=Ne,"byte array longer than desired length"),P(Ne>0,"Requested array length <= 0"),this.strip();var Le=o==="le",ti=new t(Ne),Ie,s,Y=this.clone();if(Le){for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[s]=Ie;for(;s<Ne;s++)ti[s]=0}else{for(s=0;s<Ne-G;s++)ti[s]=0;for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[Ne-s-1]=Ie}return ti},Math.clz32?R.prototype._countBits=function(t){return 32-Math.clz32(t)}:R.prototype._countBits=function(t){var o=t,H=0;return o>=4096&&(H+=13,o>>>=13),o>=64&&(H+=7,o>>>=7),o>=8&&(H+=4,o>>>=4),o>=2&&(H+=2,o>>>=2),H+o},R.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,H=0;return o&8191||(H+=13,o>>>=13),o&127||(H+=7,o>>>=7),o&15||(H+=4,o>>>=4),o&3||(H+=2,o>>>=2),o&1||H++,H},R.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function ai(ii){for(var t=new Array(ii.bitLength()),o=0;o<t.length;o++){var H=o/26|0,G=o%26;t[o]=(ii.words[H]&1<<G)>>>G}return t}R.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var H=this._zeroBits(this.words[o]);if(t+=H,H!==26)break}return t},R.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},R.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},R.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},R.prototype.isNeg=function(){return this.negative!==0},R.prototype.neg=function(){return this.clone().ineg()},R.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},R.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},R.prototype.ior=function(t){return P((this.negative|t.negative)===0),this.iuor(t)},R.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},R.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},R.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var H=0;H<o.length;H++)this.words[H]=this.words[H]&t.words[H];return this.length=o.length,this.strip()},R.prototype.iand=function(t){return P((this.negative|t.negative)===0),this.iuand(t)},R.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},R.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},R.prototype.iuxor=function(t){var o,H;this.length>t.length?(o=this,H=t):(o=t,H=this);for(var G=0;G<H.length;G++)this.words[G]=o.words[G]^H.words[G];if(this!==o)for(;G<o.length;G++)this.words[G]=o.words[G];return this.length=o.length,this.strip()},R.prototype.ixor=function(t){return P((this.negative|t.negative)===0),this.iuxor(t)},R.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},R.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},R.prototype.inotn=function(t){P(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,H=t%26;this._expand(o),H>0&&o--;for(var G=0;G<o;G++)this.words[G]=~this.words[G]&67108863;return H>0&&(this.words[G]=~this.words[G]&67108863>>26-H),this.strip()},R.prototype.notn=function(t){return this.clone().inotn(t)},R.prototype.setn=function(t,o){P(typeof t=="number"&&t>=0);var H=t/26|0,G=t%26;return this._expand(H+1),o?this.words[H]=this.words[H]|1<<G:this.words[H]=this.words[H]&~(1<<G),this.strip()},R.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var H,G;this.length>t.length?(H=this,G=t):(H=t,G=this);for(var Ne=0,Le=0;Le<G.length;Le++)o=(H.words[Le]|0)+(G.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;for(;Ne!==0&&Le<H.length;Le++)o=(H.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;if(this.length=H.length,Ne!==0)this.words[this.length]=Ne,this.length++;else if(H!==this)for(;Le<H.length;Le++)this.words[Le]=H.words[Le];return this},R.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},R.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var H=this.cmp(t);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,Ne;H>0?(G=this,Ne=t):(G=t,Ne=this);for(var Le=0,ti=0;ti<Ne.length;ti++)o=(G.words[ti]|0)-(Ne.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;for(;Le!==0&&ti<G.length;ti++)o=(G.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;if(Le===0&&ti<G.length&&G!==this)for(;ti<G.length;ti++)this.words[ti]=G.words[ti];return this.length=Math.max(this.length,ti),G!==this&&(this.negative=1),this.strip()},R.prototype.sub=function(t){return this.clone().isub(t)};function fi(ii,t,o){o.negative=t.negative^ii.negative;var H=ii.length+t.length|0;o.length=H,H=H-1|0;var G=ii.words[0]|0,Ne=t.words[0]|0,Le=G*Ne,ti=Le&67108863,Ie=Le/67108864|0;o.words[0]=ti;for(var s=1;s<H;s++){for(var Y=Ie>>>26,li=Ie&67108863,un=Math.min(s,t.length-1),pn=Math.max(0,s-ii.length+1);pn<=un;pn++){var di=s-pn|0;G=ii.words[di]|0,Ne=t.words[pn]|0,Le=G*Ne+li,Y+=Le/67108864|0,li=Le&67108863}o.words[s]=li|0,Ie=Y|0}return Ie!==0?o.words[s]=Ie|0:o.length--,o.strip()}var ui=function(t,o,H){var G=t.words,Ne=o.words,Le=H.words,ti=0,Ie,s,Y,li=G[0]|0,un=li&8191,pn=li>>>13,di=G[1]|0,An=di&8191,$i=di>>>13,fn=G[2]|0,cn=fn&8191,ci=fn>>>13,Rn=G[3]|0,Zn=Rn&8191,ho=Rn>>>13,qh=G[4]|0,Lo=qh&8191,jo=qh>>>13,jh=G[5]|0,_h=jh&8191,tf=jh>>>13,zh=G[6]|0,Ko=zh&8191,Uo=zh>>>13,Uh=G[7]|0,Vo=Uh&8191,qo=Uh>>>13,Fh=G[8]|0,Zo=Fh&8191,Fo=Fh>>>13,Hh=G[9]|0,Vf=Hh&8191,Ho=Hh>>>13,Kh=Ne[0]|0,yh=Kh&8191,Yo=Kh>>>13,Vh=Ne[1]|0,Ih=Vh&8191,wh=Vh>>>13,uu=Ne[2]|0,Dh=uu&8191,Mh=uu>>>13,qu=Ne[3]|0,Bh=qu&8191,Xf=qu>>>13,Jh=Ne[4]|0,Eh=Jh&8191,ph=Jh>>>13,Qh=Ne[5]|0,xh=Qh&8191,mh=Qh>>>13,su=Ne[6]|0,Ah=su&8191,gh=su>>>13,Xh=Ne[7]|0,Sh=Xh&8191,vh=Xh>>>13,Wh=Ne[8]|0,Rh=Wh&8191,bh=Wh>>>13,Uu=Ne[9]|0,Ch=Uu&8191,$h=Uu>>>13;H.negative=t.negative^o.negative,H.length=19,Ie=Math.imul(un,yh),s=Math.imul(un,Yo),s=s+Math.imul(pn,yh)|0,Y=Math.imul(pn,Yo);var au=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(au>>>26)|0,au&=67108863,Ie=Math.imul(An,yh),s=Math.imul(An,Yo),s=s+Math.imul($i,yh)|0,Y=Math.imul($i,Yo),Ie=Ie+Math.imul(un,Ih)|0,s=s+Math.imul(un,wh)|0,s=s+Math.imul(pn,Ih)|0,Y=Y+Math.imul(pn,wh)|0;var f0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(f0>>>26)|0,f0&=67108863,Ie=Math.imul(cn,yh),s=Math.imul(cn,Yo),s=s+Math.imul(ci,yh)|0,Y=Math.imul(ci,Yo),Ie=Ie+Math.imul(An,Ih)|0,s=s+Math.imul(An,wh)|0,s=s+Math.imul($i,Ih)|0,Y=Y+Math.imul($i,wh)|0,Ie=Ie+Math.imul(un,Dh)|0,s=s+Math.imul(un,Mh)|0,s=s+Math.imul(pn,Dh)|0,Y=Y+Math.imul(pn,Mh)|0;var $0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+($0>>>26)|0,$0&=67108863,Ie=Math.imul(Zn,yh),s=Math.imul(Zn,Yo),s=s+Math.imul(ho,yh)|0,Y=Math.imul(ho,Yo),Ie=Ie+Math.imul(cn,Ih)|0,s=s+Math.imul(cn,wh)|0,s=s+Math.imul(ci,Ih)|0,Y=Y+Math.imul(ci,wh)|0,Ie=Ie+Math.imul(An,Dh)|0,s=s+Math.imul(An,Mh)|0,s=s+Math.imul($i,Dh)|0,Y=Y+Math.imul($i,Mh)|0,Ie=Ie+Math.imul(un,Bh)|0,s=s+Math.imul(un,Xf)|0,s=s+Math.imul(pn,Bh)|0,Y=Y+Math.imul(pn,Xf)|0;var D0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(D0>>>26)|0,D0&=67108863,Ie=Math.imul(Lo,yh),s=Math.imul(Lo,Yo),s=s+Math.imul(jo,yh)|0,Y=Math.imul(jo,Yo),Ie=Ie+Math.imul(Zn,Ih)|0,s=s+Math.imul(Zn,wh)|0,s=s+Math.imul(ho,Ih)|0,Y=Y+Math.imul(ho,wh)|0,Ie=Ie+Math.imul(cn,Dh)|0,s=s+Math.imul(cn,Mh)|0,s=s+Math.imul(ci,Dh)|0,Y=Y+Math.imul(ci,Mh)|0,Ie=Ie+Math.imul(An,Bh)|0,s=s+Math.imul(An,Xf)|0,s=s+Math.imul($i,Bh)|0,Y=Y+Math.imul($i,Xf)|0,Ie=Ie+Math.imul(un,Eh)|0,s=s+Math.imul(un,ph)|0,s=s+Math.imul(pn,Eh)|0,Y=Y+Math.imul(pn,ph)|0;var F0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(F0>>>26)|0,F0&=67108863,Ie=Math.imul(_h,yh),s=Math.imul(_h,Yo),s=s+Math.imul(tf,yh)|0,Y=Math.imul(tf,Yo),Ie=Ie+Math.imul(Lo,Ih)|0,s=s+Math.imul(Lo,wh)|0,s=s+Math.imul(jo,Ih)|0,Y=Y+Math.imul(jo,wh)|0,Ie=Ie+Math.imul(Zn,Dh)|0,s=s+Math.imul(Zn,Mh)|0,s=s+Math.imul(ho,Dh)|0,Y=Y+Math.imul(ho,Mh)|0,Ie=Ie+Math.imul(cn,Bh)|0,s=s+Math.imul(cn,Xf)|0,s=s+Math.imul(ci,Bh)|0,Y=Y+Math.imul(ci,Xf)|0,Ie=Ie+Math.imul(An,Eh)|0,s=s+Math.imul(An,ph)|0,s=s+Math.imul($i,Eh)|0,Y=Y+Math.imul($i,ph)|0,Ie=Ie+Math.imul(un,xh)|0,s=s+Math.imul(un,mh)|0,s=s+Math.imul(pn,xh)|0,Y=Y+Math.imul(pn,mh)|0;var tc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(tc>>>26)|0,tc&=67108863,Ie=Math.imul(Ko,yh),s=Math.imul(Ko,Yo),s=s+Math.imul(Uo,yh)|0,Y=Math.imul(Uo,Yo),Ie=Ie+Math.imul(_h,Ih)|0,s=s+Math.imul(_h,wh)|0,s=s+Math.imul(tf,Ih)|0,Y=Y+Math.imul(tf,wh)|0,Ie=Ie+Math.imul(Lo,Dh)|0,s=s+Math.imul(Lo,Mh)|0,s=s+Math.imul(jo,Dh)|0,Y=Y+Math.imul(jo,Mh)|0,Ie=Ie+Math.imul(Zn,Bh)|0,s=s+Math.imul(Zn,Xf)|0,s=s+Math.imul(ho,Bh)|0,Y=Y+Math.imul(ho,Xf)|0,Ie=Ie+Math.imul(cn,Eh)|0,s=s+Math.imul(cn,ph)|0,s=s+Math.imul(ci,Eh)|0,Y=Y+Math.imul(ci,ph)|0,Ie=Ie+Math.imul(An,xh)|0,s=s+Math.imul(An,mh)|0,s=s+Math.imul($i,xh)|0,Y=Y+Math.imul($i,mh)|0,Ie=Ie+Math.imul(un,Ah)|0,s=s+Math.imul(un,gh)|0,s=s+Math.imul(pn,Ah)|0,Y=Y+Math.imul(pn,gh)|0;var Ku=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,Ie=Math.imul(Vo,yh),s=Math.imul(Vo,Yo),s=s+Math.imul(qo,yh)|0,Y=Math.imul(qo,Yo),Ie=Ie+Math.imul(Ko,Ih)|0,s=s+Math.imul(Ko,wh)|0,s=s+Math.imul(Uo,Ih)|0,Y=Y+Math.imul(Uo,wh)|0,Ie=Ie+Math.imul(_h,Dh)|0,s=s+Math.imul(_h,Mh)|0,s=s+Math.imul(tf,Dh)|0,Y=Y+Math.imul(tf,Mh)|0,Ie=Ie+Math.imul(Lo,Bh)|0,s=s+Math.imul(Lo,Xf)|0,s=s+Math.imul(jo,Bh)|0,Y=Y+Math.imul(jo,Xf)|0,Ie=Ie+Math.imul(Zn,Eh)|0,s=s+Math.imul(Zn,ph)|0,s=s+Math.imul(ho,Eh)|0,Y=Y+Math.imul(ho,ph)|0,Ie=Ie+Math.imul(cn,xh)|0,s=s+Math.imul(cn,mh)|0,s=s+Math.imul(ci,xh)|0,Y=Y+Math.imul(ci,mh)|0,Ie=Ie+Math.imul(An,Ah)|0,s=s+Math.imul(An,gh)|0,s=s+Math.imul($i,Ah)|0,Y=Y+Math.imul($i,gh)|0,Ie=Ie+Math.imul(un,Sh)|0,s=s+Math.imul(un,vh)|0,s=s+Math.imul(pn,Sh)|0,Y=Y+Math.imul(pn,vh)|0;var sc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(sc>>>26)|0,sc&=67108863,Ie=Math.imul(Zo,yh),s=Math.imul(Zo,Yo),s=s+Math.imul(Fo,yh)|0,Y=Math.imul(Fo,Yo),Ie=Ie+Math.imul(Vo,Ih)|0,s=s+Math.imul(Vo,wh)|0,s=s+Math.imul(qo,Ih)|0,Y=Y+Math.imul(qo,wh)|0,Ie=Ie+Math.imul(Ko,Dh)|0,s=s+Math.imul(Ko,Mh)|0,s=s+Math.imul(Uo,Dh)|0,Y=Y+Math.imul(Uo,Mh)|0,Ie=Ie+Math.imul(_h,Bh)|0,s=s+Math.imul(_h,Xf)|0,s=s+Math.imul(tf,Bh)|0,Y=Y+Math.imul(tf,Xf)|0,Ie=Ie+Math.imul(Lo,Eh)|0,s=s+Math.imul(Lo,ph)|0,s=s+Math.imul(jo,Eh)|0,Y=Y+Math.imul(jo,ph)|0,Ie=Ie+Math.imul(Zn,xh)|0,s=s+Math.imul(Zn,mh)|0,s=s+Math.imul(ho,xh)|0,Y=Y+Math.imul(ho,mh)|0,Ie=Ie+Math.imul(cn,Ah)|0,s=s+Math.imul(cn,gh)|0,s=s+Math.imul(ci,Ah)|0,Y=Y+Math.imul(ci,gh)|0,Ie=Ie+Math.imul(An,Sh)|0,s=s+Math.imul(An,vh)|0,s=s+Math.imul($i,Sh)|0,Y=Y+Math.imul($i,vh)|0,Ie=Ie+Math.imul(un,Rh)|0,s=s+Math.imul(un,bh)|0,s=s+Math.imul(pn,Rh)|0,Y=Y+Math.imul(pn,bh)|0;var uc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(uc>>>26)|0,uc&=67108863,Ie=Math.imul(Vf,yh),s=Math.imul(Vf,Yo),s=s+Math.imul(Ho,yh)|0,Y=Math.imul(Ho,Yo),Ie=Ie+Math.imul(Zo,Ih)|0,s=s+Math.imul(Zo,wh)|0,s=s+Math.imul(Fo,Ih)|0,Y=Y+Math.imul(Fo,wh)|0,Ie=Ie+Math.imul(Vo,Dh)|0,s=s+Math.imul(Vo,Mh)|0,s=s+Math.imul(qo,Dh)|0,Y=Y+Math.imul(qo,Mh)|0,Ie=Ie+Math.imul(Ko,Bh)|0,s=s+Math.imul(Ko,Xf)|0,s=s+Math.imul(Uo,Bh)|0,Y=Y+Math.imul(Uo,Xf)|0,Ie=Ie+Math.imul(_h,Eh)|0,s=s+Math.imul(_h,ph)|0,s=s+Math.imul(tf,Eh)|0,Y=Y+Math.imul(tf,ph)|0,Ie=Ie+Math.imul(Lo,xh)|0,s=s+Math.imul(Lo,mh)|0,s=s+Math.imul(jo,xh)|0,Y=Y+Math.imul(jo,mh)|0,Ie=Ie+Math.imul(Zn,Ah)|0,s=s+Math.imul(Zn,gh)|0,s=s+Math.imul(ho,Ah)|0,Y=Y+Math.imul(ho,gh)|0,Ie=Ie+Math.imul(cn,Sh)|0,s=s+Math.imul(cn,vh)|0,s=s+Math.imul(ci,Sh)|0,Y=Y+Math.imul(ci,vh)|0,Ie=Ie+Math.imul(An,Rh)|0,s=s+Math.imul(An,bh)|0,s=s+Math.imul($i,Rh)|0,Y=Y+Math.imul($i,bh)|0,Ie=Ie+Math.imul(un,Ch)|0,s=s+Math.imul(un,$h)|0,s=s+Math.imul(pn,Ch)|0,Y=Y+Math.imul(pn,$h)|0;var ac=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(ac>>>26)|0,ac&=67108863,Ie=Math.imul(Vf,Ih),s=Math.imul(Vf,wh),s=s+Math.imul(Ho,Ih)|0,Y=Math.imul(Ho,wh),Ie=Ie+Math.imul(Zo,Dh)|0,s=s+Math.imul(Zo,Mh)|0,s=s+Math.imul(Fo,Dh)|0,Y=Y+Math.imul(Fo,Mh)|0,Ie=Ie+Math.imul(Vo,Bh)|0,s=s+Math.imul(Vo,Xf)|0,s=s+Math.imul(qo,Bh)|0,Y=Y+Math.imul(qo,Xf)|0,Ie=Ie+Math.imul(Ko,Eh)|0,s=s+Math.imul(Ko,ph)|0,s=s+Math.imul(Uo,Eh)|0,Y=Y+Math.imul(Uo,ph)|0,Ie=Ie+Math.imul(_h,xh)|0,s=s+Math.imul(_h,mh)|0,s=s+Math.imul(tf,xh)|0,Y=Y+Math.imul(tf,mh)|0,Ie=Ie+Math.imul(Lo,Ah)|0,s=s+Math.imul(Lo,gh)|0,s=s+Math.imul(jo,Ah)|0,Y=Y+Math.imul(jo,gh)|0,Ie=Ie+Math.imul(Zn,Sh)|0,s=s+Math.imul(Zn,vh)|0,s=s+Math.imul(ho,Sh)|0,Y=Y+Math.imul(ho,vh)|0,Ie=Ie+Math.imul(cn,Rh)|0,s=s+Math.imul(cn,bh)|0,s=s+Math.imul(ci,Rh)|0,Y=Y+Math.imul(ci,bh)|0,Ie=Ie+Math.imul(An,Ch)|0,s=s+Math.imul(An,$h)|0,s=s+Math.imul($i,Ch)|0,Y=Y+Math.imul($i,$h)|0;var cc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(cc>>>26)|0,cc&=67108863,Ie=Math.imul(Vf,Dh),s=Math.imul(Vf,Mh),s=s+Math.imul(Ho,Dh)|0,Y=Math.imul(Ho,Mh),Ie=Ie+Math.imul(Zo,Bh)|0,s=s+Math.imul(Zo,Xf)|0,s=s+Math.imul(Fo,Bh)|0,Y=Y+Math.imul(Fo,Xf)|0,Ie=Ie+Math.imul(Vo,Eh)|0,s=s+Math.imul(Vo,ph)|0,s=s+Math.imul(qo,Eh)|0,Y=Y+Math.imul(qo,ph)|0,Ie=Ie+Math.imul(Ko,xh)|0,s=s+Math.imul(Ko,mh)|0,s=s+Math.imul(Uo,xh)|0,Y=Y+Math.imul(Uo,mh)|0,Ie=Ie+Math.imul(_h,Ah)|0,s=s+Math.imul(_h,gh)|0,s=s+Math.imul(tf,Ah)|0,Y=Y+Math.imul(tf,gh)|0,Ie=Ie+Math.imul(Lo,Sh)|0,s=s+Math.imul(Lo,vh)|0,s=s+Math.imul(jo,Sh)|0,Y=Y+Math.imul(jo,vh)|0,Ie=Ie+Math.imul(Zn,Rh)|0,s=s+Math.imul(Zn,bh)|0,s=s+Math.imul(ho,Rh)|0,Y=Y+Math.imul(ho,bh)|0,Ie=Ie+Math.imul(cn,Ch)|0,s=s+Math.imul(cn,$h)|0,s=s+Math.imul(ci,Ch)|0,Y=Y+Math.imul(ci,$h)|0;var lc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(lc>>>26)|0,lc&=67108863,Ie=Math.imul(Vf,Bh),s=Math.imul(Vf,Xf),s=s+Math.imul(Ho,Bh)|0,Y=Math.imul(Ho,Xf),Ie=Ie+Math.imul(Zo,Eh)|0,s=s+Math.imul(Zo,ph)|0,s=s+Math.imul(Fo,Eh)|0,Y=Y+Math.imul(Fo,ph)|0,Ie=Ie+Math.imul(Vo,xh)|0,s=s+Math.imul(Vo,mh)|0,s=s+Math.imul(qo,xh)|0,Y=Y+Math.imul(qo,mh)|0,Ie=Ie+Math.imul(Ko,Ah)|0,s=s+Math.imul(Ko,gh)|0,s=s+Math.imul(Uo,Ah)|0,Y=Y+Math.imul(Uo,gh)|0,Ie=Ie+Math.imul(_h,Sh)|0,s=s+Math.imul(_h,vh)|0,s=s+Math.imul(tf,Sh)|0,Y=Y+Math.imul(tf,vh)|0,Ie=Ie+Math.imul(Lo,Rh)|0,s=s+Math.imul(Lo,bh)|0,s=s+Math.imul(jo,Rh)|0,Y=Y+Math.imul(jo,bh)|0,Ie=Ie+Math.imul(Zn,Ch)|0,s=s+Math.imul(Zn,$h)|0,s=s+Math.imul(ho,Ch)|0,Y=Y+Math.imul(ho,$h)|0;var oc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(oc>>>26)|0,oc&=67108863,Ie=Math.imul(Vf,Eh),s=Math.imul(Vf,ph),s=s+Math.imul(Ho,Eh)|0,Y=Math.imul(Ho,ph),Ie=Ie+Math.imul(Zo,xh)|0,s=s+Math.imul(Zo,mh)|0,s=s+Math.imul(Fo,xh)|0,Y=Y+Math.imul(Fo,mh)|0,Ie=Ie+Math.imul(Vo,Ah)|0,s=s+Math.imul(Vo,gh)|0,s=s+Math.imul(qo,Ah)|0,Y=Y+Math.imul(qo,gh)|0,Ie=Ie+Math.imul(Ko,Sh)|0,s=s+Math.imul(Ko,vh)|0,s=s+Math.imul(Uo,Sh)|0,Y=Y+Math.imul(Uo,vh)|0,Ie=Ie+Math.imul(_h,Rh)|0,s=s+Math.imul(_h,bh)|0,s=s+Math.imul(tf,Rh)|0,Y=Y+Math.imul(tf,bh)|0,Ie=Ie+Math.imul(Lo,Ch)|0,s=s+Math.imul(Lo,$h)|0,s=s+Math.imul(jo,Ch)|0,Y=Y+Math.imul(jo,$h)|0;var fc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(fc>>>26)|0,fc&=67108863,Ie=Math.imul(Vf,xh),s=Math.imul(Vf,mh),s=s+Math.imul(Ho,xh)|0,Y=Math.imul(Ho,mh),Ie=Ie+Math.imul(Zo,Ah)|0,s=s+Math.imul(Zo,gh)|0,s=s+Math.imul(Fo,Ah)|0,Y=Y+Math.imul(Fo,gh)|0,Ie=Ie+Math.imul(Vo,Sh)|0,s=s+Math.imul(Vo,vh)|0,s=s+Math.imul(qo,Sh)|0,Y=Y+Math.imul(qo,vh)|0,Ie=Ie+Math.imul(Ko,Rh)|0,s=s+Math.imul(Ko,bh)|0,s=s+Math.imul(Uo,Rh)|0,Y=Y+Math.imul(Uo,bh)|0,Ie=Ie+Math.imul(_h,Ch)|0,s=s+Math.imul(_h,$h)|0,s=s+Math.imul(tf,Ch)|0,Y=Y+Math.imul(tf,$h)|0;var hc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(hc>>>26)|0,hc&=67108863,Ie=Math.imul(Vf,Ah),s=Math.imul(Vf,gh),s=s+Math.imul(Ho,Ah)|0,Y=Math.imul(Ho,gh),Ie=Ie+Math.imul(Zo,Sh)|0,s=s+Math.imul(Zo,vh)|0,s=s+Math.imul(Fo,Sh)|0,Y=Y+Math.imul(Fo,vh)|0,Ie=Ie+Math.imul(Vo,Rh)|0,s=s+Math.imul(Vo,bh)|0,s=s+Math.imul(qo,Rh)|0,Y=Y+Math.imul(qo,bh)|0,Ie=Ie+Math.imul(Ko,Ch)|0,s=s+Math.imul(Ko,$h)|0,s=s+Math.imul(Uo,Ch)|0,Y=Y+Math.imul(Uo,$h)|0;var r0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(r0>>>26)|0,r0&=67108863,Ie=Math.imul(Vf,Sh),s=Math.imul(Vf,vh),s=s+Math.imul(Ho,Sh)|0,Y=Math.imul(Ho,vh),Ie=Ie+Math.imul(Zo,Rh)|0,s=s+Math.imul(Zo,bh)|0,s=s+Math.imul(Fo,Rh)|0,Y=Y+Math.imul(Fo,bh)|0,Ie=Ie+Math.imul(Vo,Ch)|0,s=s+Math.imul(Vo,$h)|0,s=s+Math.imul(qo,Ch)|0,Y=Y+Math.imul(qo,$h)|0;var dc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(dc>>>26)|0,dc&=67108863,Ie=Math.imul(Vf,Rh),s=Math.imul(Vf,bh),s=s+Math.imul(Ho,Rh)|0,Y=Math.imul(Ho,bh),Ie=Ie+Math.imul(Zo,Ch)|0,s=s+Math.imul(Zo,$h)|0,s=s+Math.imul(Fo,Ch)|0,Y=Y+Math.imul(Fo,$h)|0;var pc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(pc>>>26)|0,pc&=67108863,Ie=Math.imul(Vf,Ch),s=Math.imul(Vf,$h),s=s+Math.imul(Ho,Ch)|0,Y=Math.imul(Ho,$h);var vc=(ti+Ie|0)+((s&8191)<<13)|0;return ti=(Y+(s>>>13)|0)+(vc>>>26)|0,vc&=67108863,Le[0]=au,Le[1]=f0,Le[2]=$0,Le[3]=D0,Le[4]=F0,Le[5]=tc,Le[6]=Ku,Le[7]=sc,Le[8]=uc,Le[9]=ac,Le[10]=cc,Le[11]=lc,Le[12]=oc,Le[13]=fc,Le[14]=hc,Le[15]=r0,Le[16]=dc,Le[17]=pc,Le[18]=vc,ti!==0&&(Le[19]=ti,H.length++),H};Math.imul||(ui=fi);function sn(ii,t,o){o.negative=t.negative^ii.negative,o.length=ii.length+t.length;for(var H=0,G=0,Ne=0;Ne<o.length-1;Ne++){var Le=G;G=0;for(var ti=H&67108863,Ie=Math.min(Ne,t.length-1),s=Math.max(0,Ne-ii.length+1);s<=Ie;s++){var Y=Ne-s,li=ii.words[Y]|0,un=t.words[s]|0,pn=li*un,di=pn&67108863;Le=Le+(pn/67108864|0)|0,di=di+ti|0,ti=di&67108863,Le=Le+(di>>>26)|0,G+=Le>>>26,Le&=67108863}o.words[Ne]=ti,H=Le,Le=G}return H!==0?o.words[Ne]=H:o.length--,o.strip()}function hn(ii,t,o){var H=new nn;return H.mulp(ii,t,o)}R.prototype.mulTo=function(t,o){var H,G=this.length+t.length;return this.length===10&&t.length===10?H=ui(this,t,o):G<63?H=fi(this,t,o):G<1024?H=sn(this,t,o):H=hn(this,t,o),H};function nn(ii,t){this.x=ii,this.y=t}nn.prototype.makeRBT=function(t){for(var o=new Array(t),H=R.prototype._countBits(t)-1,G=0;G<t;G++)o[G]=this.revBin(G,H,t);return o},nn.prototype.revBin=function(t,o,H){if(t===0||t===H-1)return t;for(var G=0,Ne=0;Ne<o;Ne++)G|=(t&1)<<o-Ne-1,t>>=1;return G},nn.prototype.permute=function(t,o,H,G,Ne,Le){for(var ti=0;ti<Le;ti++)G[ti]=o[t[ti]],Ne[ti]=H[t[ti]]},nn.prototype.transform=function(t,o,H,G,Ne,Le){this.permute(Le,t,o,H,G,Ne);for(var ti=1;ti<Ne;ti<<=1)for(var Ie=ti<<1,s=Math.cos(2*Math.PI/Ie),Y=Math.sin(2*Math.PI/Ie),li=0;li<Ne;li+=Ie)for(var un=s,pn=Y,di=0;di<ti;di++){var An=H[li+di],$i=G[li+di],fn=H[li+di+ti],cn=G[li+di+ti],ci=un*fn-pn*cn;cn=un*cn+pn*fn,fn=ci,H[li+di]=An+fn,G[li+di]=$i+cn,H[li+di+ti]=An-fn,G[li+di+ti]=$i-cn,di!==Ie&&(ci=s*un-Y*pn,pn=s*pn+Y*un,un=ci)}},nn.prototype.guessLen13b=function(t,o){var H=Math.max(o,t)|1,G=H&1,Ne=0;for(H=H/2|0;H;H=H>>>1)Ne++;return 1<<Ne+1+G},nn.prototype.conjugate=function(t,o,H){if(!(H<=1))for(var G=0;G<H/2;G++){var Ne=t[G];t[G]=t[H-G-1],t[H-G-1]=Ne,Ne=o[G],o[G]=-o[H-G-1],o[H-G-1]=-Ne}},nn.prototype.normalize13b=function(t,o){for(var H=0,G=0;G<o/2;G++){var Ne=Math.round(t[2*G+1]/o)*8192+Math.round(t[2*G]/o)+H;t[G]=Ne&67108863,Ne<67108864?H=0:H=Ne/67108864|0}return t},nn.prototype.convert13b=function(t,o,H,G){for(var Ne=0,Le=0;Le<o;Le++)Ne=Ne+(t[Le]|0),H[2*Le]=Ne&8191,Ne=Ne>>>13,H[2*Le+1]=Ne&8191,Ne=Ne>>>13;for(Le=2*o;Le<G;++Le)H[Le]=0;P(Ne===0),P((Ne&-8192)===0)},nn.prototype.stub=function(t){for(var o=new Array(t),H=0;H<t;H++)o[H]=0;return o},nn.prototype.mulp=function(t,o,H){var G=2*this.guessLen13b(t.length,o.length),Ne=this.makeRBT(G),Le=this.stub(G),ti=new Array(G),Ie=new Array(G),s=new Array(G),Y=new Array(G),li=new Array(G),un=new Array(G),pn=H.words;pn.length=G,this.convert13b(t.words,t.length,ti,G),this.convert13b(o.words,o.length,Y,G),this.transform(ti,Le,Ie,s,G,Ne),this.transform(Y,Le,li,un,G,Ne);for(var di=0;di<G;di++){var An=Ie[di]*li[di]-s[di]*un[di];s[di]=Ie[di]*un[di]+s[di]*li[di],Ie[di]=An}return this.conjugate(Ie,s,G),this.transform(Ie,s,pn,Le,G,Ne),this.conjugate(pn,Le,G),this.normalize13b(pn,G),H.negative=t.negative^o.negative,H.length=t.length+o.length,H.strip()},R.prototype.mul=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},R.prototype.mulf=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),hn(this,t,o)},R.prototype.imul=function(t){return this.clone().mulTo(t,this)},R.prototype.imuln=function(t){P(typeof t=="number"),P(t<67108864);for(var o=0,H=0;H<this.length;H++){var G=(this.words[H]|0)*t,Ne=(G&67108863)+(o&67108863);o>>=26,o+=G/67108864|0,o+=Ne>>>26,this.words[H]=Ne&67108863}return o!==0&&(this.words[H]=o,this.length++),this},R.prototype.muln=function(t){return this.clone().imuln(t)},R.prototype.sqr=function(){return this.mul(this)},R.prototype.isqr=function(){return this.imul(this.clone())},R.prototype.pow=function(t){var o=ai(t);if(o.length===0)return new R(1);for(var H=this,G=0;G<o.length&&o[G]===0;G++,H=H.sqr());if(++G<o.length)for(var Ne=H.sqr();G<o.length;G++,Ne=Ne.sqr())o[G]!==0&&(H=H.mul(Ne));return H},R.prototype.iushln=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=67108863>>>26-o<<26-o,Ne;if(o!==0){var Le=0;for(Ne=0;Ne<this.length;Ne++){var ti=this.words[Ne]&G,Ie=(this.words[Ne]|0)-ti<<o;this.words[Ne]=Ie|Le,Le=ti>>>26-o}Le&&(this.words[Ne]=Le,this.length++)}if(H!==0){for(Ne=this.length-1;Ne>=0;Ne--)this.words[Ne+H]=this.words[Ne];for(Ne=0;Ne<H;Ne++)this.words[Ne]=0;this.length+=H}return this.strip()},R.prototype.ishln=function(t){return P(this.negative===0),this.iushln(t)},R.prototype.iushrn=function(t,o,H){P(typeof t=="number"&&t>=0);var G;o?G=(o-o%26)/26:G=0;var Ne=t%26,Le=Math.min((t-Ne)/26,this.length),ti=67108863^67108863>>>Ne<<Ne,Ie=H;if(G-=Le,G=Math.max(0,G),Ie){for(var s=0;s<Le;s++)Ie.words[s]=this.words[s];Ie.length=Le}if(Le!==0)if(this.length>Le)for(this.length-=Le,s=0;s<this.length;s++)this.words[s]=this.words[s+Le];else this.words[0]=0,this.length=1;var Y=0;for(s=this.length-1;s>=0&&(Y!==0||s>=G);s--){var li=this.words[s]|0;this.words[s]=Y<<26-Ne|li>>>Ne,Y=li&ti}return Ie&&Y!==0&&(Ie.words[Ie.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},R.prototype.ishrn=function(t,o,H){return P(this.negative===0),this.iushrn(t,o,H)},R.prototype.shln=function(t){return this.clone().ishln(t)},R.prototype.ushln=function(t){return this.clone().iushln(t)},R.prototype.shrn=function(t){return this.clone().ishrn(t)},R.prototype.ushrn=function(t){return this.clone().iushrn(t)},R.prototype.testn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return!1;var Ne=this.words[H];return!!(Ne&G)},R.prototype.imaskn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=H)return this;if(o!==0&&H++,this.length=Math.min(H,this.length),o!==0){var G=67108863^67108863>>>o<<o;this.words[this.length-1]&=G}return this.strip()},R.prototype.maskn=function(t){return this.clone().imaskn(t)},R.prototype.iaddn=function(t){return P(typeof t=="number"),P(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},R.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},R.prototype.isubn=function(t){if(P(typeof t=="number"),P(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},R.prototype.addn=function(t){return this.clone().iaddn(t)},R.prototype.subn=function(t){return this.clone().isubn(t)},R.prototype.iabs=function(){return this.negative=0,this},R.prototype.abs=function(){return this.clone().iabs()},R.prototype._ishlnsubmul=function(t,o,H){var G=t.length+H,Ne;this._expand(G);var Le,ti=0;for(Ne=0;Ne<t.length;Ne++){Le=(this.words[Ne+H]|0)+ti;var Ie=(t.words[Ne]|0)*o;Le-=Ie&67108863,ti=(Le>>26)-(Ie/67108864|0),this.words[Ne+H]=Le&67108863}for(;Ne<this.length-H;Ne++)Le=(this.words[Ne+H]|0)+ti,ti=Le>>26,this.words[Ne+H]=Le&67108863;if(ti===0)return this.strip();for(P(ti===-1),ti=0,Ne=0;Ne<this.length;Ne++)Le=-(this.words[Ne]|0)+ti,ti=Le>>26,this.words[Ne]=Le&67108863;return this.negative=1,this.strip()},R.prototype._wordDiv=function(t,o){var H=this.length-t.length,G=this.clone(),Ne=t,Le=Ne.words[Ne.length-1]|0,ti=this._countBits(Le);H=26-ti,H!==0&&(Ne=Ne.ushln(H),G.iushln(H),Le=Ne.words[Ne.length-1]|0);var Ie=G.length-Ne.length,s;if(o!=="mod"){s=new R(null),s.length=Ie+1,s.words=new Array(s.length);for(var Y=0;Y<s.length;Y++)s.words[Y]=0}var li=G.clone()._ishlnsubmul(Ne,1,Ie);li.negative===0&&(G=li,s&&(s.words[Ie]=1));for(var un=Ie-1;un>=0;un--){var pn=(G.words[Ne.length+un]|0)*67108864+(G.words[Ne.length+un-1]|0);for(pn=Math.min(pn/Le|0,67108863),G._ishlnsubmul(Ne,pn,un);G.negative!==0;)pn--,G.negative=0,G._ishlnsubmul(Ne,1,un),G.isZero()||(G.negative^=1);s&&(s.words[un]=pn)}return s&&s.strip(),G.strip(),o!=="div"&&H!==0&&G.iushrn(H),{div:s||null,mod:G}},R.prototype.divmod=function(t,o,H){if(P(!t.isZero()),this.isZero())return{div:new R(0),mod:new R(0)};var G,Ne,Le;return this.negative!==0&&t.negative===0?(Le=this.neg().divmod(t,o),o!=="mod"&&(G=Le.div.neg()),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.iadd(t)),{div:G,mod:Ne}):this.negative===0&&t.negative!==0?(Le=this.divmod(t.neg(),o),o!=="mod"&&(G=Le.div.neg()),{div:G,mod:Le.mod}):this.negative&t.negative?(Le=this.neg().divmod(t.neg(),o),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.isub(t)),{div:Le.div,mod:Ne}):t.length>this.length||this.cmp(t)<0?{div:new R(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new R(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new R(this.modn(t.words[0]))}:this._wordDiv(t,o)},R.prototype.div=function(t){return this.divmod(t,"div",!1).div},R.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},R.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},R.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var H=o.div.negative!==0?o.mod.isub(t):o.mod,G=t.ushrn(1),Ne=t.andln(1),Le=H.cmp(G);return Le<0||Ne===1&&Le===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},R.prototype.modn=function(t){P(t<=67108863);for(var o=(1<<26)%t,H=0,G=this.length-1;G>=0;G--)H=(o*H+(this.words[G]|0))%t;return H},R.prototype.idivn=function(t){P(t<=67108863);for(var o=0,H=this.length-1;H>=0;H--){var G=(this.words[H]|0)+o*67108864;this.words[H]=G/t|0,o=G%t}return this.strip()},R.prototype.divn=function(t){return this.clone().idivn(t)},R.prototype.egcd=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=new R(0),ti=new R(1),Ie=0;o.isEven()&&H.isEven();)o.iushrn(1),H.iushrn(1),++Ie;for(var s=H.clone(),Y=o.clone();!o.isZero();){for(var li=0,un=1;!(o.words[0]&un)&&li<26;++li,un<<=1);if(li>0)for(o.iushrn(li);li-- >0;)(G.isOdd()||Ne.isOdd())&&(G.iadd(s),Ne.isub(Y)),G.iushrn(1),Ne.iushrn(1);for(var pn=0,di=1;!(H.words[0]&di)&&pn<26;++pn,di<<=1);if(pn>0)for(H.iushrn(pn);pn-- >0;)(Le.isOdd()||ti.isOdd())&&(Le.iadd(s),ti.isub(Y)),Le.iushrn(1),ti.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Le),Ne.isub(ti)):(H.isub(o),Le.isub(G),ti.isub(Ne))}return{a:Le,b:ti,gcd:H.iushln(Ie)}},R.prototype._invmp=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=H.clone();o.cmpn(1)>0&&H.cmpn(1)>0;){for(var ti=0,Ie=1;!(o.words[0]&Ie)&&ti<26;++ti,Ie<<=1);if(ti>0)for(o.iushrn(ti);ti-- >0;)G.isOdd()&&G.iadd(Le),G.iushrn(1);for(var s=0,Y=1;!(H.words[0]&Y)&&s<26;++s,Y<<=1);if(s>0)for(H.iushrn(s);s-- >0;)Ne.isOdd()&&Ne.iadd(Le),Ne.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Ne)):(H.isub(o),Ne.isub(G))}var li;return o.cmpn(1)===0?li=G:li=Ne,li.cmpn(0)<0&&li.iadd(t),li},R.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),H=t.clone();o.negative=0,H.negative=0;for(var G=0;o.isEven()&&H.isEven();G++)o.iushrn(1),H.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;H.isEven();)H.iushrn(1);var Ne=o.cmp(H);if(Ne<0){var Le=o;o=H,H=Le}else if(Ne===0||H.cmpn(1)===0)break;o.isub(H)}while(!0);return H.iushln(G)},R.prototype.invm=function(t){return this.egcd(t).a.umod(t)},R.prototype.isEven=function(){return(this.words[0]&1)===0},R.prototype.isOdd=function(){return(this.words[0]&1)===1},R.prototype.andln=function(t){return this.words[0]&t},R.prototype.bincn=function(t){P(typeof t=="number");var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return this._expand(H+1),this.words[H]|=G,this;for(var Ne=G,Le=H;Ne!==0&&Le<this.length;Le++){var ti=this.words[Le]|0;ti+=Ne,Ne=ti>>>26,ti&=67108863,this.words[Le]=ti}return Ne!==0&&(this.words[Le]=Ne,this.length++),this},R.prototype.isZero=function(){return this.length===1&&this.words[0]===0},R.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var H;if(this.length>1)H=1;else{o&&(t=-t),P(t<=67108863,"Number is too big");var G=this.words[0]|0;H=G===t?0:G<t?-1:1}return this.negative!==0?-H|0:H},R.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},R.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,H=this.length-1;H>=0;H--){var G=this.words[H]|0,Ne=t.words[H]|0;if(G!==Ne){G<Ne?o=-1:G>Ne&&(o=1);break}}return o},R.prototype.gtn=function(t){return this.cmpn(t)===1},R.prototype.gt=function(t){return this.cmp(t)===1},R.prototype.gten=function(t){return this.cmpn(t)>=0},R.prototype.gte=function(t){return this.cmp(t)>=0},R.prototype.ltn=function(t){return this.cmpn(t)===-1},R.prototype.lt=function(t){return this.cmp(t)===-1},R.prototype.lten=function(t){return this.cmpn(t)<=0},R.prototype.lte=function(t){return this.cmp(t)<=0},R.prototype.eqn=function(t){return this.cmpn(t)===0},R.prototype.eq=function(t){return this.cmp(t)===0},R.red=function(t){return new Bn(t)},R.prototype.toRed=function(t){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},R.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},R.prototype._forceRed=function(t){return this.red=t,this},R.prototype.forceRed=function(t){return P(!this.red,"Already a number in reduction context"),this._forceRed(t)},R.prototype.redAdd=function(t){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},R.prototype.redIAdd=function(t){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},R.prototype.redSub=function(t){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},R.prototype.redISub=function(t){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},R.prototype.redShl=function(t){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},R.prototype.redMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},R.prototype.redIMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},R.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},R.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},R.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},R.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},R.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},R.prototype.redPow=function(t){return P(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var ln={k256:null,p224:null,p192:null,p25519:null};function on(ii,t){this.name=ii,this.p=new R(t,16),this.n=this.p.bitLength(),this.k=new R(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}on.prototype._tmp=function(){var t=new R(null);return t.words=new Array(Math.ceil(this.n/13)),t},on.prototype.ireduce=function(t){var o=t,H;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),H=o.bitLength();while(H>this.n);var G=H<this.n?-1:o.ucmp(this.p);return G===0?(o.words[0]=0,o.length=1):G>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},on.prototype.split=function(t,o){t.iushrn(this.n,0,o)},on.prototype.imulK=function(t){return t.imul(this.k)};function vn(){on.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}W(vn,on),vn.prototype.split=function(t,o){for(var H=4194303,G=Math.min(t.length,9),Ne=0;Ne<G;Ne++)o.words[Ne]=t.words[Ne];if(o.length=G,t.length<=9){t.words[0]=0,t.length=1;return}var Le=t.words[9];for(o.words[o.length++]=Le&H,Ne=10;Ne<t.length;Ne++){var ti=t.words[Ne]|0;t.words[Ne-10]=(ti&H)<<4|Le>>>22,Le=ti}Le>>>=22,t.words[Ne-10]=Le,Le===0&&t.length>10?t.length-=10:t.length-=9},vn.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,H=0;H<t.length;H++){var G=t.words[H]|0;o+=G*977,t.words[H]=o&67108863,o=G*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Mn(){on.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}W(Mn,on);function mi(){on.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}W(mi,on);function mn(){on.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}W(mn,on),mn.prototype.imulK=function(t){for(var o=0,H=0;H<t.length;H++){var G=(t.words[H]|0)*19+o,Ne=G&67108863;G>>>=26,t.words[H]=Ne,o=G}return o!==0&&(t.words[t.length++]=o),t},R._prime=function(t){if(ln[t])return ln[t];var o;if(t==="k256")o=new vn;else if(t==="p224")o=new Mn;else if(t==="p192")o=new mi;else if(t==="p25519")o=new mn;else throw new Error("Unknown prime "+t);return ln[t]=o,o};function Bn(ii){if(typeof ii=="string"){var t=R._prime(ii);this.m=t.p,this.prime=t}else P(ii.gtn(1),"modulus must be greater than 1"),this.m=ii,this.prime=null}Bn.prototype._verify1=function(t){P(t.negative===0,"red works only with positives"),P(t.red,"red works only with red numbers")},Bn.prototype._verify2=function(t,o){P((t.negative|o.negative)===0,"red works only with positives"),P(t.red&&t.red===o.red,"red works only with red numbers")},Bn.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Bn.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Bn.prototype.add=function(t,o){this._verify2(t,o);var H=t.add(o);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},Bn.prototype.iadd=function(t,o){this._verify2(t,o);var H=t.iadd(o);return H.cmp(this.m)>=0&&H.isub(this.m),H},Bn.prototype.sub=function(t,o){this._verify2(t,o);var H=t.sub(o);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},Bn.prototype.isub=function(t,o){this._verify2(t,o);var H=t.isub(o);return H.cmpn(0)<0&&H.iadd(this.m),H},Bn.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},Bn.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},Bn.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},Bn.prototype.isqr=function(t){return this.imul(t,t.clone())},Bn.prototype.sqr=function(t){return this.mul(t,t)},Bn.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(P(o%2===1),o===3){var H=this.m.add(new R(1)).iushrn(2);return this.pow(t,H)}for(var G=this.m.subn(1),Ne=0;!G.isZero()&&G.andln(1)===0;)Ne++,G.iushrn(1);P(!G.isZero());var Le=new R(1).toRed(this),ti=Le.redNeg(),Ie=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new R(2*s*s).toRed(this);this.pow(s,Ie).cmp(ti)!==0;)s.redIAdd(ti);for(var Y=this.pow(s,G),li=this.pow(t,G.addn(1).iushrn(1)),un=this.pow(t,G),pn=Ne;un.cmp(Le)!==0;){for(var di=un,An=0;di.cmp(Le)!==0;An++)di=di.redSqr();P(An<pn);var $i=this.pow(Y,new R(1).iushln(pn-An-1));li=li.redMul($i),Y=$i.redSqr(),un=un.redMul(Y),pn=An}return li},Bn.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},Bn.prototype.pow=function(t,o){if(o.isZero())return new R(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var H=4,G=new Array(1<<H);G[0]=new R(1).toRed(this),G[1]=t;for(var Ne=2;Ne<G.length;Ne++)G[Ne]=this.mul(G[Ne-1],t);var Le=G[0],ti=0,Ie=0,s=o.bitLength()%26;for(s===0&&(s=26),Ne=o.length-1;Ne>=0;Ne--){for(var Y=o.words[Ne],li=s-1;li>=0;li--){var un=Y>>li&1;if(Le!==G[0]&&(Le=this.sqr(Le)),un===0&&ti===0){Ie=0;continue}ti<<=1,ti|=un,Ie++,!(Ie!==H&&(Ne!==0||li!==0))&&(Le=this.mul(Le,G[ti]),Ie=0,ti=0)}s=26}return Le},Bn.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},Bn.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},R.mont=function(t){return new ko(t)};function ko(ii){Bn.call(this,ii),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new R(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}W(ko,Bn),ko.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},ko.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},ko.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var H=t.imul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new R(0)._forceRed(this);var H=t.mul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var r;brorand.exports=function(W){return r||(r=new e(null)),r.generate(W)};function e(P){this.rand=P}if(brorand.exports.Rand=e,e.prototype.generate=function(W){return this._rand(W)},e.prototype._rand=function(W){if(this.rand.getBytes)return this.rand.getBytes(W);for(var R=new Uint8Array(W),Wr=0;Wr<R.length;Wr++)R[Wr]=this.rand.getByte();return R},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(W){var R=new Uint8Array(W);return self.crypto.getRandomValues(R),R}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(W){var R=new Uint8Array(W);return self.msCrypto.getRandomValues(R),R}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=requireCryptoBrowserify();if(typeof i.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(W){return i.randomBytes(W)}}catch{}return brorand.exports}var mr$2,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$2;hasRequiredMr=1;var r=requireBn$4(),e=requireBrorand();function i(P){this.rand=P||new e.Rand}return mr$2=i,i.create=function(W){return new i(W)},i.prototype._randbelow=function(W){var R=W.bitLength(),Wr=Math.ceil(R/8);do var ei=new r(this.rand.generate(Wr));while(ei.cmp(W)>=0);return ei},i.prototype._randrange=function(W,R){var Wr=R.sub(W);return W.add(this._randbelow(Wr))},i.prototype.test=function(W,R,Wr){var ei=W.bitLength(),ni=r.mont(W),Xr=new r(1).toRed(ni);R||(R=Math.max(1,ei/48|0));for(var Zr=W.subn(1),si=0;!Zr.testn(si);si++);for(var oi=W.shrn(si),ai=Zr.toRed(ni),fi=!0;R>0;R--){var ui=this._randrange(new r(2),Zr);Wr&&Wr(ui);var sn=ui.toRed(ni).redPow(oi);if(!(sn.cmp(Xr)===0||sn.cmp(ai)===0)){for(var hn=1;hn<si;hn++){if(sn=sn.redSqr(),sn.cmp(Xr)===0)return!1;if(sn.cmp(ai)===0)break}if(hn===si)return!1}}return fi},i.prototype.getDivisor=function(W,R){var Wr=W.bitLength(),ei=r.mont(W),ni=new r(1).toRed(ei);R||(R=Math.max(1,Wr/48|0));for(var Xr=W.subn(1),Zr=0;!Xr.testn(Zr);Zr++);for(var si=W.shrn(Zr),oi=Xr.toRed(ei);R>0;R--){var ai=this._randrange(new r(2),Xr),fi=W.gcd(ai);if(fi.cmpn(1)!==0)return fi;var ui=ai.toRed(ei).redPow(si);if(!(ui.cmp(ni)===0||ui.cmp(oi)===0)){for(var sn=1;sn<Zr;sn++){if(ui=ui.redSqr(),ui.cmp(ni)===0)return ui.fromRed().subn(1).gcd(W);if(ui.cmp(oi)===0)break}if(sn===Zr)return ui=ui.redSqr(),ui.fromRed().subn(1).gcd(W)}}return!1},mr$2}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var r=requireBrowser$a();generatePrime=sn,sn.simpleSieve=fi,sn.fermatTest=ui;var e=requireBn$5(),i=new e(24),P=requireMr(),W=new P,R=new e(1),Wr=new e(2),ei=new e(5);new e(16),new e(8);var ni=new e(10),Xr=new e(3);new e(7);var Zr=new e(11),si=new e(4);new e(12);var oi=null;function ai(){if(oi!==null)return oi;var hn=1048576,nn=[];nn[0]=2;for(var ln=1,on=3;on<hn;on+=2){for(var vn=Math.ceil(Math.sqrt(on)),Mn=0;Mn<ln&&nn[Mn]<=vn&&on%nn[Mn]!==0;Mn++);ln!==Mn&&nn[Mn]<=vn||(nn[ln++]=on)}return oi=nn,nn}function fi(hn){for(var nn=ai(),ln=0;ln<nn.length;ln++)if(hn.modn(nn[ln])===0)return hn.cmpn(nn[ln])===0;return!0}function ui(hn){var nn=e.mont(hn);return Wr.toRed(nn).redPow(hn.subn(1)).fromRed().cmpn(1)===0}function sn(hn,nn){if(hn<16)return nn===2||nn===5?new e([140,123]):new e([140,39]);nn=new e(nn);for(var ln,on;;){for(ln=new e(r(Math.ceil(hn/8)));ln.bitLength()>hn;)ln.ishrn(1);if(ln.isEven()&&ln.iadd(R),ln.testn(1)||ln.iadd(Wr),nn.cmp(Wr)){if(!nn.cmp(ei))for(;ln.mod(ni).cmp(Xr);)ln.iadd(si)}else for(;ln.mod(i).cmp(Zr);)ln.iadd(si);if(on=ln.shrn(1),fi(on)&&fi(ln)&&ui(on)&&ui(ln)&&W.test(on)&&W.test(ln))return ln}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var r=requireBn$5(),e=requireMr(),i=new e,P=new r(24),W=new r(11),R=new r(10),Wr=new r(3),ei=new r(7),ni=requireGeneratePrime(),Xr=requireBrowser$a();dh=fi;function Zr(sn,hn){return hn=hn||"utf8",Buffer.isBuffer(sn)||(sn=new Buffer(sn,hn)),this._pub=new r(sn),this}function si(sn,hn){return hn=hn||"utf8",Buffer.isBuffer(sn)||(sn=new Buffer(sn,hn)),this._priv=new r(sn),this}var oi={};function ai(sn,hn){var nn=hn.toString("hex"),ln=[nn,sn.toString(16)].join("_");if(ln in oi)return oi[ln];var on=0;if(sn.isEven()||!ni.simpleSieve||!ni.fermatTest(sn)||!i.test(sn))return on+=1,nn==="02"||nn==="05"?on+=8:on+=4,oi[ln]=on,on;i.test(sn.shrn(1))||(on+=2);var vn;switch(nn){case"02":sn.mod(P).cmp(W)&&(on+=8);break;case"05":vn=sn.mod(R),vn.cmp(Wr)&&vn.cmp(ei)&&(on+=8);break;default:on+=4}return oi[ln]=on,on}function fi(sn,hn,nn){this.setGenerator(hn),this.__prime=new r(sn),this._prime=r.mont(this.__prime),this._primeLen=sn.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,nn?(this.setPublicKey=Zr,this.setPrivateKey=si):this._primeCode=8}Object.defineProperty(fi.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=ai(this.__prime,this.__gen)),this._primeCode}}),fi.prototype.generateKeys=function(){return this._priv||(this._priv=new r(Xr(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},fi.prototype.computeSecret=function(sn){sn=new r(sn),sn=sn.toRed(this._prime);var hn=sn.redPow(this._priv).fromRed(),nn=new Buffer(hn.toArray()),ln=this.getPrime();if(nn.length<ln.length){var on=new Buffer(ln.length-nn.length);on.fill(0),nn=Buffer.concat([on,nn])}return nn},fi.prototype.getPublicKey=function(hn){return ui(this._pub,hn)},fi.prototype.getPrivateKey=function(hn){return ui(this._priv,hn)},fi.prototype.getPrime=function(sn){return ui(this.__prime,sn)},fi.prototype.getGenerator=function(sn){return ui(this._gen,sn)},fi.prototype.setGenerator=function(sn,hn){return hn=hn||"utf8",Buffer.isBuffer(sn)||(sn=new Buffer(sn,hn)),this.__gen=sn,this._gen=new r(sn),this};function ui(sn,hn){var nn=new Buffer(sn.toArray());return hn?nn.toString(hn):nn}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$6;hasRequiredBrowser$4=1;var r=requireGeneratePrime(),e=require$$1$1,i=requireDh();function P(Wr){var ei=new Buffer(e[Wr].prime,"hex"),ni=new Buffer(e[Wr].gen,"hex");return new i(ei,ni)}var W={binary:!0,hex:!0,base64:!0};function R(Wr,ei,ni,Xr){return Buffer.isBuffer(ei)||W[ei]===void 0?R(Wr,"binary",ei,ni):(ei=ei||"binary",Xr=Xr||"binary",ni=ni||new Buffer([2]),Buffer.isBuffer(ni)||(ni=new Buffer(ni,Xr)),typeof Wr=="number"?new i(r(Wr,ni),ni,!0):(Buffer.isBuffer(Wr)||(Wr=new Buffer(Wr,ei)),new i(Wr,ni,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=P,browser$6.createDiffieHellman=browser$6.DiffieHellman=R,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:r}:processNextickArgs.exports=process$1;function r(e,i,P,W){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var R=arguments.length,Wr,ei;switch(R){case 0:case 1:return process$1.nextTick(e);case 2:return process$1.nextTick(function(){e.call(null,i)});case 3:return process$1.nextTick(function(){e.call(null,i,P)});case 4:return process$1.nextTick(function(){e.call(null,i,P,W)});default:for(Wr=new Array(R-1),ei=0;ei<Wr.length;)Wr[ei++]=arguments[ei];return process$1.nextTick(function(){e.apply(null,Wr)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var r={}.toString;return isarray=Array.isArray||function(e){return r.call(e)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(r,e){var i=require$$0$6,P=i.Buffer;function W(Wr,ei){for(var ni in Wr)ei[ni]=Wr[ni]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?r.exports=i:(W(i,e),e.Buffer=R);function R(Wr,ei,ni){return P(Wr,ei,ni)}W(P,R),R.from=function(Wr,ei,ni){if(typeof Wr=="number")throw new TypeError("Argument must not be a number");return P(Wr,ei,ni)},R.alloc=function(Wr,ei,ni){if(typeof Wr!="number")throw new TypeError("Argument must be a number");var Xr=P(Wr);return ei!==void 0?typeof ni=="string"?Xr.fill(ei,ni):Xr.fill(ei):Xr.fill(0),Xr},R.allocUnsafe=function(Wr){if(typeof Wr!="number")throw new TypeError("Argument must be a number");return P(Wr)},R.allocUnsafeSlow=function(Wr){if(typeof Wr!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(Wr)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function r(ui){return Array.isArray?Array.isArray(ui):fi(ui)==="[object Array]"}util.isArray=r;function e(ui){return typeof ui=="boolean"}util.isBoolean=e;function i(ui){return ui===null}util.isNull=i;function P(ui){return ui==null}util.isNullOrUndefined=P;function W(ui){return typeof ui=="number"}util.isNumber=W;function R(ui){return typeof ui=="string"}util.isString=R;function Wr(ui){return typeof ui=="symbol"}util.isSymbol=Wr;function ei(ui){return ui===void 0}util.isUndefined=ei;function ni(ui){return fi(ui)==="[object RegExp]"}util.isRegExp=ni;function Xr(ui){return typeof ui=="object"&&ui!==null}util.isObject=Xr;function Zr(ui){return fi(ui)==="[object Date]"}util.isDate=Zr;function si(ui){return fi(ui)==="[object Error]"||ui instanceof Error}util.isError=si;function oi(ui){return typeof ui=="function"}util.isFunction=oi;function ai(ui){return ui===null||typeof ui=="boolean"||typeof ui=="number"||typeof ui=="string"||typeof ui=="symbol"||typeof ui>"u"}util.isPrimitive=ai,util.isBuffer=require$$0$6.Buffer.isBuffer;function fi(ui){return Object.prototype.toString.call(ui)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(r){function e(R,Wr){if(!(R instanceof Wr))throw new TypeError("Cannot call a class as a function")}var i=requireSafeBuffer().Buffer,P=requireUtil$1();function W(R,Wr,ei){R.copy(Wr,ei)}r.exports=function(){function R(){e(this,R),this.head=null,this.tail=null,this.length=0}return R.prototype.push=function(ei){var ni={data:ei,next:null};this.length>0?this.tail.next=ni:this.head=ni,this.tail=ni,++this.length},R.prototype.unshift=function(ei){var ni={data:ei,next:this.head};this.length===0&&(this.tail=ni),this.head=ni,++this.length},R.prototype.shift=function(){if(this.length!==0){var ei=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ei}},R.prototype.clear=function(){this.head=this.tail=null,this.length=0},R.prototype.join=function(ei){if(this.length===0)return"";for(var ni=this.head,Xr=""+ni.data;ni=ni.next;)Xr+=ei+ni.data;return Xr},R.prototype.concat=function(ei){if(this.length===0)return i.alloc(0);for(var ni=i.allocUnsafe(ei>>>0),Xr=this.head,Zr=0;Xr;)W(Xr.data,ni,Zr),Zr+=Xr.data.length,Xr=Xr.next;return ni},R}(),P&&P.inspect&&P.inspect.custom&&(r.exports.prototype[P.inspect.custom]=function(){var R=P.inspect({length:this.length});return this.constructor.name+" "+R})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var r=requireProcessNextickArgs();function e(W,R){var Wr=this,ei=this._readableState&&this._readableState.destroyed,ni=this._writableState&&this._writableState.destroyed;return ei||ni?(R?R(W):W&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(P,this,W)):r.nextTick(P,this,W)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(W||null,function(Xr){!R&&Xr?Wr._writableState?Wr._writableState.errorEmitted||(Wr._writableState.errorEmitted=!0,r.nextTick(P,Wr,Xr)):r.nextTick(P,Wr,Xr):R&&R(Xr)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function P(W,R){W.emit("error",R)}return destroy_1={destroy:e,undestroy:i},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var r=requireProcessNextickArgs();_stream_writable=ui;function e(Le){var ti=this;this.next=null,this.entry=null,this.finish=function(){Ne(ti,Le)}}var i=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:r.nextTick,P;ui.WritableState=ai;var W=Object.create(requireUtil());W.inherits=inherits_browserExports;var R={deprecate:requireBrowser$b()},Wr=requireStreamBrowser(),ei=requireSafeBuffer().Buffer,ni=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Xr(Le){return ei.from(Le)}function Zr(Le){return ei.isBuffer(Le)||Le instanceof ni}var si=requireDestroy();W.inherits(ui,Wr);function oi(){}function ai(Le,ti){P=P||require_stream_duplex(),Le=Le||{};var Ie=ti instanceof P;this.objectMode=!!Le.objectMode,Ie&&(this.objectMode=this.objectMode||!!Le.writableObjectMode);var s=Le.highWaterMark,Y=Le.writableHighWaterMark,li=this.objectMode?16:16*1024;s||s===0?this.highWaterMark=s:Ie&&(Y||Y===0)?this.highWaterMark=Y:this.highWaterMark=li,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var un=Le.decodeStrings===!1;this.decodeStrings=!un,this.defaultEncoding=Le.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(pn){mi(ti,pn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}ai.prototype.getBuffer=function(){for(var ti=this.bufferedRequest,Ie=[];ti;)Ie.push(ti),ti=ti.next;return Ie},function(){try{Object.defineProperty(ai.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var fi;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(fi=Function.prototype[Symbol.hasInstance],Object.defineProperty(ui,Symbol.hasInstance,{value:function(Le){return fi.call(this,Le)?!0:this!==ui?!1:Le&&Le._writableState instanceof ai}})):fi=function(Le){return Le instanceof this};function ui(Le){if(P=P||require_stream_duplex(),!fi.call(ui,this)&&!(this instanceof P))return new ui(Le);this._writableState=new ai(Le,this),this.writable=!0,Le&&(typeof Le.write=="function"&&(this._write=Le.write),typeof Le.writev=="function"&&(this._writev=Le.writev),typeof Le.destroy=="function"&&(this._destroy=Le.destroy),typeof Le.final=="function"&&(this._final=Le.final)),Wr.call(this)}ui.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function sn(Le,ti){var Ie=new Error("write after end");Le.emit("error",Ie),r.nextTick(ti,Ie)}function hn(Le,ti,Ie,s){var Y=!0,li=!1;return Ie===null?li=new TypeError("May not write null values to stream"):typeof Ie!="string"&&Ie!==void 0&&!ti.objectMode&&(li=new TypeError("Invalid non-string/buffer chunk")),li&&(Le.emit("error",li),r.nextTick(s,li),Y=!1),Y}ui.prototype.write=function(Le,ti,Ie){var s=this._writableState,Y=!1,li=!s.objectMode&&Zr(Le);return li&&!ei.isBuffer(Le)&&(Le=Xr(Le)),typeof ti=="function"&&(Ie=ti,ti=null),li?ti="buffer":ti||(ti=s.defaultEncoding),typeof Ie!="function"&&(Ie=oi),s.ended?sn(this,Ie):(li||hn(this,s,Le,Ie))&&(s.pendingcb++,Y=ln(this,s,li,Le,ti,Ie)),Y},ui.prototype.cork=function(){var Le=this._writableState;Le.corked++},ui.prototype.uncork=function(){var Le=this._writableState;Le.corked&&(Le.corked--,!Le.writing&&!Le.corked&&!Le.bufferProcessing&&Le.bufferedRequest&&ko(this,Le))},ui.prototype.setDefaultEncoding=function(ti){if(typeof ti=="string"&&(ti=ti.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ti+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ti);return this._writableState.defaultEncoding=ti,this};function nn(Le,ti,Ie){return!Le.objectMode&&Le.decodeStrings!==!1&&typeof ti=="string"&&(ti=ei.from(ti,Ie)),ti}Object.defineProperty(ui.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ln(Le,ti,Ie,s,Y,li){if(!Ie){var un=nn(ti,s,Y);s!==un&&(Ie=!0,Y="buffer",s=un)}var pn=ti.objectMode?1:s.length;ti.length+=pn;var di=ti.length<ti.highWaterMark;if(di||(ti.needDrain=!0),ti.writing||ti.corked){var An=ti.lastBufferedRequest;ti.lastBufferedRequest={chunk:s,encoding:Y,isBuf:Ie,callback:li,next:null},An?An.next=ti.lastBufferedRequest:ti.bufferedRequest=ti.lastBufferedRequest,ti.bufferedRequestCount+=1}else on(Le,ti,!1,pn,s,Y,li);return di}function on(Le,ti,Ie,s,Y,li,un){ti.writelen=s,ti.writecb=un,ti.writing=!0,ti.sync=!0,Ie?Le._writev(Y,ti.onwrite):Le._write(Y,li,ti.onwrite),ti.sync=!1}function vn(Le,ti,Ie,s,Y){--ti.pendingcb,Ie?(r.nextTick(Y,s),r.nextTick(H,Le,ti),Le._writableState.errorEmitted=!0,Le.emit("error",s)):(Y(s),Le._writableState.errorEmitted=!0,Le.emit("error",s),H(Le,ti))}function Mn(Le){Le.writing=!1,Le.writecb=null,Le.length-=Le.writelen,Le.writelen=0}function mi(Le,ti){var Ie=Le._writableState,s=Ie.sync,Y=Ie.writecb;if(Mn(Ie),ti)vn(Le,Ie,s,ti,Y);else{var li=ii(Ie);!li&&!Ie.corked&&!Ie.bufferProcessing&&Ie.bufferedRequest&&ko(Le,Ie),s?i(mn,Le,Ie,li,Y):mn(Le,Ie,li,Y)}}function mn(Le,ti,Ie,s){Ie||Bn(Le,ti),ti.pendingcb--,s(),H(Le,ti)}function Bn(Le,ti){ti.length===0&&ti.needDrain&&(ti.needDrain=!1,Le.emit("drain"))}function ko(Le,ti){ti.bufferProcessing=!0;var Ie=ti.bufferedRequest;if(Le._writev&&Ie&&Ie.next){var s=ti.bufferedRequestCount,Y=new Array(s),li=ti.corkedRequestsFree;li.entry=Ie;for(var un=0,pn=!0;Ie;)Y[un]=Ie,Ie.isBuf||(pn=!1),Ie=Ie.next,un+=1;Y.allBuffers=pn,on(Le,ti,!0,ti.length,Y,"",li.finish),ti.pendingcb++,ti.lastBufferedRequest=null,li.next?(ti.corkedRequestsFree=li.next,li.next=null):ti.corkedRequestsFree=new e(ti),ti.bufferedRequestCount=0}else{for(;Ie;){var di=Ie.chunk,An=Ie.encoding,$i=Ie.callback,fn=ti.objectMode?1:di.length;if(on(Le,ti,!1,fn,di,An,$i),Ie=Ie.next,ti.bufferedRequestCount--,ti.writing)break}Ie===null&&(ti.lastBufferedRequest=null)}ti.bufferedRequest=Ie,ti.bufferProcessing=!1}ui.prototype._write=function(Le,ti,Ie){Ie(new Error("_write() is not implemented"))},ui.prototype._writev=null,ui.prototype.end=function(Le,ti,Ie){var s=this._writableState;typeof Le=="function"?(Ie=Le,Le=null,ti=null):typeof ti=="function"&&(Ie=ti,ti=null),Le!=null&&this.write(Le,ti),s.corked&&(s.corked=1,this.uncork()),s.ending||G(this,s,Ie)};function ii(Le){return Le.ending&&Le.length===0&&Le.bufferedRequest===null&&!Le.finished&&!Le.writing}function t(Le,ti){Le._final(function(Ie){ti.pendingcb--,Ie&&Le.emit("error",Ie),ti.prefinished=!0,Le.emit("prefinish"),H(Le,ti)})}function o(Le,ti){!ti.prefinished&&!ti.finalCalled&&(typeof Le._final=="function"?(ti.pendingcb++,ti.finalCalled=!0,r.nextTick(t,Le,ti)):(ti.prefinished=!0,Le.emit("prefinish")))}function H(Le,ti){var Ie=ii(ti);return Ie&&(o(Le,ti),ti.pendingcb===0&&(ti.finished=!0,Le.emit("finish"))),Ie}function G(Le,ti,Ie){ti.ending=!0,H(Le,ti),Ie&&(ti.finished?r.nextTick(Ie):Le.once("finish",Ie)),ti.ended=!0,Le.writable=!1}function Ne(Le,ti,Ie){var s=Le.entry;for(Le.entry=null;s;){var Y=s.callback;ti.pendingcb--,Y(Ie),s=s.next}ti.corkedRequestsFree.next=Le}return Object.defineProperty(ui.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Le){this._writableState&&(this._writableState.destroyed=Le)}}),ui.prototype.destroy=si.destroy,ui.prototype._undestroy=si.undestroy,ui.prototype._destroy=function(Le,ti){this.end(),ti(Le)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var r=requireProcessNextickArgs(),e=Object.keys||function(si){var oi=[];for(var ai in si)oi.push(ai);return oi};_stream_duplex=ni;var i=Object.create(requireUtil());i.inherits=inherits_browserExports;var P=require_stream_readable(),W=require_stream_writable();i.inherits(ni,P);for(var R=e(W.prototype),Wr=0;Wr<R.length;Wr++){var ei=R[Wr];ni.prototype[ei]||(ni.prototype[ei]=W.prototype[ei])}function ni(si){if(!(this instanceof ni))return new ni(si);P.call(this,si),W.call(this,si),si&&si.readable===!1&&(this.readable=!1),si&&si.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,si&&si.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Xr)}Object.defineProperty(ni.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Xr(){this.allowHalfOpen||this._writableState.ended||r.nextTick(Zr,this)}function Zr(si){si.end()}return Object.defineProperty(ni.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(si){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=si,this._writableState.destroyed=si)}}),ni.prototype._destroy=function(si,oi){this.push(null),this.end(),r.nextTick(oi,si)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var r=requireProcessNextickArgs();_stream_readable=nn;var e=requireIsarray(),i;nn.ReadableState=hn,eventsExports.EventEmitter;var P=function($i,fn){return $i.listeners(fn).length},W=requireStreamBrowser(),R=requireSafeBuffer().Buffer,Wr=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ei($i){return R.from($i)}function ni($i){return R.isBuffer($i)||$i instanceof Wr}var Xr=Object.create(requireUtil());Xr.inherits=inherits_browserExports;var Zr=requireUtil$1(),si=void 0;Zr&&Zr.debuglog?si=Zr.debuglog("stream"):si=function(){};var oi=requireBufferList(),ai=requireDestroy(),fi;Xr.inherits(nn,W);var ui=["error","close","destroy","pause","resume"];function sn($i,fn,cn){if(typeof $i.prependListener=="function")return $i.prependListener(fn,cn);!$i._events||!$i._events[fn]?$i.on(fn,cn):e($i._events[fn])?$i._events[fn].unshift(cn):$i._events[fn]=[cn,$i._events[fn]]}function hn($i,fn){i=i||require_stream_duplex(),$i=$i||{};var cn=fn instanceof i;this.objectMode=!!$i.objectMode,cn&&(this.objectMode=this.objectMode||!!$i.readableObjectMode);var ci=$i.highWaterMark,Rn=$i.readableHighWaterMark,Zn=this.objectMode?16:16*1024;ci||ci===0?this.highWaterMark=ci:cn&&(Rn||Rn===0)?this.highWaterMark=Rn:this.highWaterMark=Zn,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new oi,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=$i.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$i.encoding&&(fi||(fi=requireString_decoder().StringDecoder),this.decoder=new fi($i.encoding),this.encoding=$i.encoding)}function nn($i){if(i=i||require_stream_duplex(),!(this instanceof nn))return new nn($i);this._readableState=new hn($i,this),this.readable=!0,$i&&(typeof $i.read=="function"&&(this._read=$i.read),typeof $i.destroy=="function"&&(this._destroy=$i.destroy)),W.call(this)}Object.defineProperty(nn.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($i){this._readableState&&(this._readableState.destroyed=$i)}}),nn.prototype.destroy=ai.destroy,nn.prototype._undestroy=ai.undestroy,nn.prototype._destroy=function($i,fn){this.push(null),fn($i)},nn.prototype.push=function($i,fn){var cn=this._readableState,ci;return cn.objectMode?ci=!0:typeof $i=="string"&&(fn=fn||cn.defaultEncoding,fn!==cn.encoding&&($i=R.from($i,fn),fn=""),ci=!0),ln(this,$i,fn,!1,ci)},nn.prototype.unshift=function($i){return ln(this,$i,null,!0,!1)};function ln($i,fn,cn,ci,Rn){var Zn=$i._readableState;if(fn===null)Zn.reading=!1,ko($i,Zn);else{var ho;Rn||(ho=vn(Zn,fn)),ho?$i.emit("error",ho):Zn.objectMode||fn&&fn.length>0?(typeof fn!="string"&&!Zn.objectMode&&Object.getPrototypeOf(fn)!==R.prototype&&(fn=ei(fn)),ci?Zn.endEmitted?$i.emit("error",new Error("stream.unshift() after end event")):on($i,Zn,fn,!0):Zn.ended?$i.emit("error",new Error("stream.push() after EOF")):(Zn.reading=!1,Zn.decoder&&!cn?(fn=Zn.decoder.write(fn),Zn.objectMode||fn.length!==0?on($i,Zn,fn,!1):o($i,Zn)):on($i,Zn,fn,!1))):ci||(Zn.reading=!1)}return Mn(Zn)}function on($i,fn,cn,ci){fn.flowing&&fn.length===0&&!fn.sync?($i.emit("data",cn),$i.read(0)):(fn.length+=fn.objectMode?1:cn.length,ci?fn.buffer.unshift(cn):fn.buffer.push(cn),fn.needReadable&&ii($i)),o($i,fn)}function vn($i,fn){var cn;return!ni(fn)&&typeof fn!="string"&&fn!==void 0&&!$i.objectMode&&(cn=new TypeError("Invalid non-string/buffer chunk")),cn}function Mn($i){return!$i.ended&&($i.needReadable||$i.length<$i.highWaterMark||$i.length===0)}nn.prototype.isPaused=function(){return this._readableState.flowing===!1},nn.prototype.setEncoding=function($i){return fi||(fi=requireString_decoder().StringDecoder),this._readableState.decoder=new fi($i),this._readableState.encoding=$i,this};var mi=8388608;function mn($i){return $i>=mi?$i=mi:($i--,$i|=$i>>>1,$i|=$i>>>2,$i|=$i>>>4,$i|=$i>>>8,$i|=$i>>>16,$i++),$i}function Bn($i,fn){return $i<=0||fn.length===0&&fn.ended?0:fn.objectMode?1:$i!==$i?fn.flowing&&fn.length?fn.buffer.head.data.length:fn.length:($i>fn.highWaterMark&&(fn.highWaterMark=mn($i)),$i<=fn.length?$i:fn.ended?fn.length:(fn.needReadable=!0,0))}nn.prototype.read=function($i){si("read",$i),$i=parseInt($i,10);var fn=this._readableState,cn=$i;if($i!==0&&(fn.emittedReadable=!1),$i===0&&fn.needReadable&&(fn.length>=fn.highWaterMark||fn.ended))return si("read: emitReadable",fn.length,fn.ended),fn.length===0&&fn.ended?pn(this):ii(this),null;if($i=Bn($i,fn),$i===0&&fn.ended)return fn.length===0&&pn(this),null;var ci=fn.needReadable;si("need readable",ci),(fn.length===0||fn.length-$i<fn.highWaterMark)&&(ci=!0,si("length less than watermark",ci)),fn.ended||fn.reading?(ci=!1,si("reading or ended",ci)):ci&&(si("do read"),fn.reading=!0,fn.sync=!0,fn.length===0&&(fn.needReadable=!0),this._read(fn.highWaterMark),fn.sync=!1,fn.reading||($i=Bn(cn,fn)));var Rn;return $i>0?Rn=s($i,fn):Rn=null,Rn===null?(fn.needReadable=!0,$i=0):fn.length-=$i,fn.length===0&&(fn.ended||(fn.needReadable=!0),cn!==$i&&fn.ended&&pn(this)),Rn!==null&&this.emit("data",Rn),Rn};function ko($i,fn){if(!fn.ended){if(fn.decoder){var cn=fn.decoder.end();cn&&cn.length&&(fn.buffer.push(cn),fn.length+=fn.objectMode?1:cn.length)}fn.ended=!0,ii($i)}}function ii($i){var fn=$i._readableState;fn.needReadable=!1,fn.emittedReadable||(si("emitReadable",fn.flowing),fn.emittedReadable=!0,fn.sync?r.nextTick(t,$i):t($i))}function t($i){si("emit readable"),$i.emit("readable"),Ie($i)}function o($i,fn){fn.readingMore||(fn.readingMore=!0,r.nextTick(H,$i,fn))}function H($i,fn){for(var cn=fn.length;!fn.reading&&!fn.flowing&&!fn.ended&&fn.length<fn.highWaterMark&&(si("maybeReadMore read 0"),$i.read(0),cn!==fn.length);)cn=fn.length;fn.readingMore=!1}nn.prototype._read=function($i){this.emit("error",new Error("_read() is not implemented"))},nn.prototype.pipe=function($i,fn){var cn=this,ci=this._readableState;switch(ci.pipesCount){case 0:ci.pipes=$i;break;case 1:ci.pipes=[ci.pipes,$i];break;default:ci.pipes.push($i);break}ci.pipesCount+=1,si("pipe count=%d opts=%j",ci.pipesCount,fn);var Rn=(!fn||fn.end!==!1)&&$i!==process$1.stdout&&$i!==process$1.stderr,Zn=Rn?qh:Uh;ci.endEmitted?r.nextTick(Zn):cn.once("end",Zn),$i.on("unpipe",ho);function ho(Vo,qo){si("onunpipe"),Vo===cn&&qo&&qo.hasUnpiped===!1&&(qo.hasUnpiped=!0,jh())}function qh(){si("onend"),$i.end()}var Lo=G(cn);$i.on("drain",Lo);var jo=!1;function jh(){si("cleanup"),$i.removeListener("close",Ko),$i.removeListener("finish",Uo),$i.removeListener("drain",Lo),$i.removeListener("error",zh),$i.removeListener("unpipe",ho),cn.removeListener("end",qh),cn.removeListener("end",Uh),cn.removeListener("data",tf),jo=!0,ci.awaitDrain&&(!$i._writableState||$i._writableState.needDrain)&&Lo()}var _h=!1;cn.on("data",tf);function tf(Vo){si("ondata"),_h=!1;var qo=$i.write(Vo);qo===!1&&!_h&&((ci.pipesCount===1&&ci.pipes===$i||ci.pipesCount>1&&An(ci.pipes,$i)!==-1)&&!jo&&(si("false write response, pause",ci.awaitDrain),ci.awaitDrain++,_h=!0),cn.pause())}function zh(Vo){si("onerror",Vo),Uh(),$i.removeListener("error",zh),P($i,"error")===0&&$i.emit("error",Vo)}sn($i,"error",zh);function Ko(){$i.removeListener("finish",Uo),Uh()}$i.once("close",Ko);function Uo(){si("onfinish"),$i.removeListener("close",Ko),Uh()}$i.once("finish",Uo);function Uh(){si("unpipe"),cn.unpipe($i)}return $i.emit("pipe",cn),ci.flowing||(si("pipe resume"),cn.resume()),$i};function G($i){return function(){var fn=$i._readableState;si("pipeOnDrain",fn.awaitDrain),fn.awaitDrain&&fn.awaitDrain--,fn.awaitDrain===0&&P($i,"data")&&(fn.flowing=!0,Ie($i))}}nn.prototype.unpipe=function($i){var fn=this._readableState,cn={hasUnpiped:!1};if(fn.pipesCount===0)return this;if(fn.pipesCount===1)return $i&&$i!==fn.pipes?this:($i||($i=fn.pipes),fn.pipes=null,fn.pipesCount=0,fn.flowing=!1,$i&&$i.emit("unpipe",this,cn),this);if(!$i){var ci=fn.pipes,Rn=fn.pipesCount;fn.pipes=null,fn.pipesCount=0,fn.flowing=!1;for(var Zn=0;Zn<Rn;Zn++)ci[Zn].emit("unpipe",this,{hasUnpiped:!1});return this}var ho=An(fn.pipes,$i);return ho===-1?this:(fn.pipes.splice(ho,1),fn.pipesCount-=1,fn.pipesCount===1&&(fn.pipes=fn.pipes[0]),$i.emit("unpipe",this,cn),this)},nn.prototype.on=function($i,fn){var cn=W.prototype.on.call(this,$i,fn);if($i==="data")this._readableState.flowing!==!1&&this.resume();else if($i==="readable"){var ci=this._readableState;!ci.endEmitted&&!ci.readableListening&&(ci.readableListening=ci.needReadable=!0,ci.emittedReadable=!1,ci.reading?ci.length&&ii(this):r.nextTick(Ne,this))}return cn},nn.prototype.addListener=nn.prototype.on;function Ne($i){si("readable nexttick read 0"),$i.read(0)}nn.prototype.resume=function(){var $i=this._readableState;return $i.flowing||(si("resume"),$i.flowing=!0,Le(this,$i)),this};function Le($i,fn){fn.resumeScheduled||(fn.resumeScheduled=!0,r.nextTick(ti,$i,fn))}function ti($i,fn){fn.reading||(si("resume read 0"),$i.read(0)),fn.resumeScheduled=!1,fn.awaitDrain=0,$i.emit("resume"),Ie($i),fn.flowing&&!fn.reading&&$i.read(0)}nn.prototype.pause=function(){return si("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(si("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Ie($i){var fn=$i._readableState;for(si("flow",fn.flowing);fn.flowing&&$i.read()!==null;);}nn.prototype.wrap=function($i){var fn=this,cn=this._readableState,ci=!1;$i.on("end",function(){if(si("wrapped end"),cn.decoder&&!cn.ended){var ho=cn.decoder.end();ho&&ho.length&&fn.push(ho)}fn.push(null)}),$i.on("data",function(ho){if(si("wrapped data"),cn.decoder&&(ho=cn.decoder.write(ho)),!(cn.objectMode&&ho==null)&&!(!cn.objectMode&&(!ho||!ho.length))){var qh=fn.push(ho);qh||(ci=!0,$i.pause())}});for(var Rn in $i)this[Rn]===void 0&&typeof $i[Rn]=="function"&&(this[Rn]=function(ho){return function(){return $i[ho].apply($i,arguments)}}(Rn));for(var Zn=0;Zn<ui.length;Zn++)$i.on(ui[Zn],this.emit.bind(this,ui[Zn]));return this._read=function(ho){si("wrapped _read",ho),ci&&(ci=!1,$i.resume())},this},Object.defineProperty(nn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),nn._fromList=s;function s($i,fn){if(fn.length===0)return null;var cn;return fn.objectMode?cn=fn.buffer.shift():!$i||$i>=fn.length?(fn.decoder?cn=fn.buffer.join(""):fn.buffer.length===1?cn=fn.buffer.head.data:cn=fn.buffer.concat(fn.length),fn.buffer.clear()):cn=Y($i,fn.buffer,fn.decoder),cn}function Y($i,fn,cn){var ci;return $i<fn.head.data.length?(ci=fn.head.data.slice(0,$i),fn.head.data=fn.head.data.slice($i)):$i===fn.head.data.length?ci=fn.shift():ci=cn?li($i,fn):un($i,fn),ci}function li($i,fn){var cn=fn.head,ci=1,Rn=cn.data;for($i-=Rn.length;cn=cn.next;){var Zn=cn.data,ho=$i>Zn.length?Zn.length:$i;if(ho===Zn.length?Rn+=Zn:Rn+=Zn.slice(0,$i),$i-=ho,$i===0){ho===Zn.length?(++ci,cn.next?fn.head=cn.next:fn.head=fn.tail=null):(fn.head=cn,cn.data=Zn.slice(ho));break}++ci}return fn.length-=ci,Rn}function un($i,fn){var cn=R.allocUnsafe($i),ci=fn.head,Rn=1;for(ci.data.copy(cn),$i-=ci.data.length;ci=ci.next;){var Zn=ci.data,ho=$i>Zn.length?Zn.length:$i;if(Zn.copy(cn,cn.length-$i,0,ho),$i-=ho,$i===0){ho===Zn.length?(++Rn,ci.next?fn.head=ci.next:fn.head=fn.tail=null):(fn.head=ci,ci.data=Zn.slice(ho));break}++Rn}return fn.length-=Rn,cn}function pn($i){var fn=$i._readableState;if(fn.length>0)throw new Error('"endReadable()" called on non-empty stream');fn.endEmitted||(fn.ended=!0,r.nextTick(di,fn,$i))}function di($i,fn){!$i.endEmitted&&$i.length===0&&($i.endEmitted=!0,fn.readable=!1,fn.emit("end"))}function An($i,fn){for(var cn=0,ci=$i.length;cn<ci;cn++)if($i[cn]===fn)return cn;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=P;var r=require_stream_duplex(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(P,r);function i(Wr,ei){var ni=this._transformState;ni.transforming=!1;var Xr=ni.writecb;if(!Xr)return this.emit("error",new Error("write callback called multiple times"));ni.writechunk=null,ni.writecb=null,ei!=null&&this.push(ei),Xr(Wr);var Zr=this._readableState;Zr.reading=!1,(Zr.needReadable||Zr.length<Zr.highWaterMark)&&this._read(Zr.highWaterMark)}function P(Wr){if(!(this instanceof P))return new P(Wr);r.call(this,Wr),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Wr&&(typeof Wr.transform=="function"&&(this._transform=Wr.transform),typeof Wr.flush=="function"&&(this._flush=Wr.flush)),this.on("prefinish",W)}function W(){var Wr=this;typeof this._flush=="function"?this._flush(function(ei,ni){R(Wr,ei,ni)}):R(this,null,null)}P.prototype.push=function(Wr,ei){return this._transformState.needTransform=!1,r.prototype.push.call(this,Wr,ei)},P.prototype._transform=function(Wr,ei,ni){throw new Error("_transform() is not implemented")},P.prototype._write=function(Wr,ei,ni){var Xr=this._transformState;if(Xr.writecb=ni,Xr.writechunk=Wr,Xr.writeencoding=ei,!Xr.transforming){var Zr=this._readableState;(Xr.needTransform||Zr.needReadable||Zr.length<Zr.highWaterMark)&&this._read(Zr.highWaterMark)}},P.prototype._read=function(Wr){var ei=this._transformState;ei.writechunk!==null&&ei.writecb&&!ei.transforming?(ei.transforming=!0,this._transform(ei.writechunk,ei.writeencoding,ei.afterTransform)):ei.needTransform=!0},P.prototype._destroy=function(Wr,ei){var ni=this;r.prototype._destroy.call(this,Wr,function(Xr){ei(Xr),ni.emit("close")})};function R(Wr,ei,ni){if(ei)return Wr.emit("error",ei);if(ni!=null&&Wr.push(ni),Wr._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(Wr._transformState.transforming)throw new Error("Calling transform done when still transforming");return Wr.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=i;var r=require_stream_transform(),e=Object.create(requireUtil());e.inherits=inherits_browserExports,e.inherits(i,r);function i(P){if(!(this instanceof i))return new i(P);r.call(this,P)}return i.prototype._transform=function(P,W,R){R(null,P)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(r,e){e=r.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var r=bnExports,e=requireBrowser$a();function i(R){var Wr=P(R),ei=Wr.toRed(r.mont(R.modulus)).redPow(new r(R.publicExponent)).fromRed();return{blinder:ei,unblinder:Wr.invm(R.modulus)}}function P(R){var Wr=R.modulus.byteLength(),ei;do ei=new r(e(Wr));while(ei.cmp(R.modulus)>=0||!ei.umod(R.prime1)||!ei.umod(R.prime2));return ei}function W(R,Wr){var ei=i(Wr),ni=Wr.modulus.byteLength(),Xr=new r(R).mul(ei.blinder).umod(Wr.modulus),Zr=Xr.toRed(r.mont(Wr.prime1)),si=Xr.toRed(r.mont(Wr.prime2)),oi=Wr.coefficient,ai=Wr.prime1,fi=Wr.prime2,ui=Zr.redPow(Wr.exponent1).fromRed(),sn=si.redPow(Wr.exponent2).fromRed(),hn=ui.isub(sn).imul(oi).umod(ai).imul(fi);return sn.iadd(hn).imul(ei.unblinder).umod(Wr.modulus).toArrayLike(Buffer,"be",ni)}return W.getr=P,browserifyRsa=W,browserifyRsa}var elliptic={};const name="elliptic",version="6.5.5",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$4={name,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$2={},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(r){(function(e,i){function P(ii,t){if(!ii)throw new Error(t||"Assertion failed")}function W(ii,t){ii.super_=t;var o=function(){};o.prototype=t.prototype,ii.prototype=new o,ii.prototype.constructor=ii}function R(ii,t,o){if(R.isBN(ii))return ii;this.negative=0,this.words=null,this.length=0,this.red=null,ii!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(ii||0,t||10,o||"be"))}typeof e=="object"?e.exports=R:i.BN=R,R.BN=R,R.wordSize=26;var Wr;try{typeof window<"u"&&typeof window.Buffer<"u"?Wr=window.Buffer:Wr=require$$0$6.Buffer}catch{}R.isBN=function(t){return t instanceof R?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===R.wordSize&&Array.isArray(t.words)},R.max=function(t,o){return t.cmp(o)>0?t:o},R.min=function(t,o){return t.cmp(o)<0?t:o},R.prototype._init=function(t,o,H){if(typeof t=="number")return this._initNumber(t,o,H);if(typeof t=="object")return this._initArray(t,o,H);o==="hex"&&(o=16),P(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var G=0;t[0]==="-"&&(G++,this.negative=1),G<t.length&&(o===16?this._parseHex(t,G,H):(this._parseBase(t,o,G),H==="le"&&this._initArray(this.toArray(),o,H)))},R.prototype._initNumber=function(t,o,H){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(P(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),H==="le"&&this._initArray(this.toArray(),o,H)},R.prototype._initArray=function(t,o,H){if(P(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne,Le,ti=0;if(H==="be")for(G=t.length-1,Ne=0;G>=0;G-=3)Le=t[G]|t[G-1]<<8|t[G-2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);else if(H==="le")for(G=0,Ne=0;G<t.length;G+=3)Le=t[G]|t[G+1]<<8|t[G+2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);return this.strip()};function ei(ii,t){var o=ii.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function ni(ii,t,o){var H=ei(ii,o);return o-1>=t&&(H|=ei(ii,o-1)<<4),H}R.prototype._parseHex=function(t,o,H){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne=0,Le=0,ti;if(H==="be")for(G=t.length-1;G>=o;G-=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8;else{var Ie=t.length-o;for(G=Ie%2===0?o+1:o;G<t.length;G+=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8}this.strip()};function Xr(ii,t,o,H){for(var G=0,Ne=Math.min(ii.length,o),Le=t;Le<Ne;Le++){var ti=ii.charCodeAt(Le)-48;G*=H,ti>=49?G+=ti-49+10:ti>=17?G+=ti-17+10:G+=ti}return G}R.prototype._parseBase=function(t,o,H){this.words=[0],this.length=1;for(var G=0,Ne=1;Ne<=67108863;Ne*=o)G++;G--,Ne=Ne/o|0;for(var Le=t.length-H,ti=Le%G,Ie=Math.min(Le,Le-ti)+H,s=0,Y=H;Y<Ie;Y+=G)s=Xr(t,Y,Y+G,o),this.imuln(Ne),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(ti!==0){var li=1;for(s=Xr(t,Y,t.length,o),Y=0;Y<ti;Y++)li*=o;this.imuln(li),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},R.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},R.prototype.clone=function(){var t=new R(null);return this.copy(t),t},R.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},R.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},R.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},R.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Zr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],si=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],oi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];R.prototype.toString=function(t,o){t=t||10,o=o|0||1;var H;if(t===16||t==="hex"){H="";for(var G=0,Ne=0,Le=0;Le<this.length;Le++){var ti=this.words[Le],Ie=((ti<<G|Ne)&16777215).toString(16);Ne=ti>>>24-G&16777215,Ne!==0||Le!==this.length-1?H=Zr[6-Ie.length]+Ie+H:H=Ie+H,G+=2,G>=26&&(G-=26,Le--)}for(Ne!==0&&(H=Ne.toString(16)+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}if(t===(t|0)&&t>=2&&t<=36){var s=si[t],Y=oi[t];H="";var li=this.clone();for(li.negative=0;!li.isZero();){var un=li.modn(Y).toString(t);li=li.idivn(Y),li.isZero()?H=un+H:H=Zr[s-un.length]+un+H}for(this.isZero()&&(H="0"+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}P(!1,"Base should be between 2 and 36")},R.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},R.prototype.toJSON=function(){return this.toString(16)},R.prototype.toBuffer=function(t,o){return P(typeof Wr<"u"),this.toArrayLike(Wr,t,o)},R.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},R.prototype.toArrayLike=function(t,o,H){var G=this.byteLength(),Ne=H||Math.max(1,G);P(G<=Ne,"byte array longer than desired length"),P(Ne>0,"Requested array length <= 0"),this.strip();var Le=o==="le",ti=new t(Ne),Ie,s,Y=this.clone();if(Le){for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[s]=Ie;for(;s<Ne;s++)ti[s]=0}else{for(s=0;s<Ne-G;s++)ti[s]=0;for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[Ne-s-1]=Ie}return ti},Math.clz32?R.prototype._countBits=function(t){return 32-Math.clz32(t)}:R.prototype._countBits=function(t){var o=t,H=0;return o>=4096&&(H+=13,o>>>=13),o>=64&&(H+=7,o>>>=7),o>=8&&(H+=4,o>>>=4),o>=2&&(H+=2,o>>>=2),H+o},R.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,H=0;return o&8191||(H+=13,o>>>=13),o&127||(H+=7,o>>>=7),o&15||(H+=4,o>>>=4),o&3||(H+=2,o>>>=2),o&1||H++,H},R.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function ai(ii){for(var t=new Array(ii.bitLength()),o=0;o<t.length;o++){var H=o/26|0,G=o%26;t[o]=(ii.words[H]&1<<G)>>>G}return t}R.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var H=this._zeroBits(this.words[o]);if(t+=H,H!==26)break}return t},R.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},R.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},R.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},R.prototype.isNeg=function(){return this.negative!==0},R.prototype.neg=function(){return this.clone().ineg()},R.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},R.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},R.prototype.ior=function(t){return P((this.negative|t.negative)===0),this.iuor(t)},R.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},R.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},R.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var H=0;H<o.length;H++)this.words[H]=this.words[H]&t.words[H];return this.length=o.length,this.strip()},R.prototype.iand=function(t){return P((this.negative|t.negative)===0),this.iuand(t)},R.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},R.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},R.prototype.iuxor=function(t){var o,H;this.length>t.length?(o=this,H=t):(o=t,H=this);for(var G=0;G<H.length;G++)this.words[G]=o.words[G]^H.words[G];if(this!==o)for(;G<o.length;G++)this.words[G]=o.words[G];return this.length=o.length,this.strip()},R.prototype.ixor=function(t){return P((this.negative|t.negative)===0),this.iuxor(t)},R.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},R.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},R.prototype.inotn=function(t){P(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,H=t%26;this._expand(o),H>0&&o--;for(var G=0;G<o;G++)this.words[G]=~this.words[G]&67108863;return H>0&&(this.words[G]=~this.words[G]&67108863>>26-H),this.strip()},R.prototype.notn=function(t){return this.clone().inotn(t)},R.prototype.setn=function(t,o){P(typeof t=="number"&&t>=0);var H=t/26|0,G=t%26;return this._expand(H+1),o?this.words[H]=this.words[H]|1<<G:this.words[H]=this.words[H]&~(1<<G),this.strip()},R.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var H,G;this.length>t.length?(H=this,G=t):(H=t,G=this);for(var Ne=0,Le=0;Le<G.length;Le++)o=(H.words[Le]|0)+(G.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;for(;Ne!==0&&Le<H.length;Le++)o=(H.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;if(this.length=H.length,Ne!==0)this.words[this.length]=Ne,this.length++;else if(H!==this)for(;Le<H.length;Le++)this.words[Le]=H.words[Le];return this},R.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},R.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var H=this.cmp(t);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,Ne;H>0?(G=this,Ne=t):(G=t,Ne=this);for(var Le=0,ti=0;ti<Ne.length;ti++)o=(G.words[ti]|0)-(Ne.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;for(;Le!==0&&ti<G.length;ti++)o=(G.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;if(Le===0&&ti<G.length&&G!==this)for(;ti<G.length;ti++)this.words[ti]=G.words[ti];return this.length=Math.max(this.length,ti),G!==this&&(this.negative=1),this.strip()},R.prototype.sub=function(t){return this.clone().isub(t)};function fi(ii,t,o){o.negative=t.negative^ii.negative;var H=ii.length+t.length|0;o.length=H,H=H-1|0;var G=ii.words[0]|0,Ne=t.words[0]|0,Le=G*Ne,ti=Le&67108863,Ie=Le/67108864|0;o.words[0]=ti;for(var s=1;s<H;s++){for(var Y=Ie>>>26,li=Ie&67108863,un=Math.min(s,t.length-1),pn=Math.max(0,s-ii.length+1);pn<=un;pn++){var di=s-pn|0;G=ii.words[di]|0,Ne=t.words[pn]|0,Le=G*Ne+li,Y+=Le/67108864|0,li=Le&67108863}o.words[s]=li|0,Ie=Y|0}return Ie!==0?o.words[s]=Ie|0:o.length--,o.strip()}var ui=function(t,o,H){var G=t.words,Ne=o.words,Le=H.words,ti=0,Ie,s,Y,li=G[0]|0,un=li&8191,pn=li>>>13,di=G[1]|0,An=di&8191,$i=di>>>13,fn=G[2]|0,cn=fn&8191,ci=fn>>>13,Rn=G[3]|0,Zn=Rn&8191,ho=Rn>>>13,qh=G[4]|0,Lo=qh&8191,jo=qh>>>13,jh=G[5]|0,_h=jh&8191,tf=jh>>>13,zh=G[6]|0,Ko=zh&8191,Uo=zh>>>13,Uh=G[7]|0,Vo=Uh&8191,qo=Uh>>>13,Fh=G[8]|0,Zo=Fh&8191,Fo=Fh>>>13,Hh=G[9]|0,Vf=Hh&8191,Ho=Hh>>>13,Kh=Ne[0]|0,yh=Kh&8191,Yo=Kh>>>13,Vh=Ne[1]|0,Ih=Vh&8191,wh=Vh>>>13,uu=Ne[2]|0,Dh=uu&8191,Mh=uu>>>13,qu=Ne[3]|0,Bh=qu&8191,Xf=qu>>>13,Jh=Ne[4]|0,Eh=Jh&8191,ph=Jh>>>13,Qh=Ne[5]|0,xh=Qh&8191,mh=Qh>>>13,su=Ne[6]|0,Ah=su&8191,gh=su>>>13,Xh=Ne[7]|0,Sh=Xh&8191,vh=Xh>>>13,Wh=Ne[8]|0,Rh=Wh&8191,bh=Wh>>>13,Uu=Ne[9]|0,Ch=Uu&8191,$h=Uu>>>13;H.negative=t.negative^o.negative,H.length=19,Ie=Math.imul(un,yh),s=Math.imul(un,Yo),s=s+Math.imul(pn,yh)|0,Y=Math.imul(pn,Yo);var au=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(au>>>26)|0,au&=67108863,Ie=Math.imul(An,yh),s=Math.imul(An,Yo),s=s+Math.imul($i,yh)|0,Y=Math.imul($i,Yo),Ie=Ie+Math.imul(un,Ih)|0,s=s+Math.imul(un,wh)|0,s=s+Math.imul(pn,Ih)|0,Y=Y+Math.imul(pn,wh)|0;var f0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(f0>>>26)|0,f0&=67108863,Ie=Math.imul(cn,yh),s=Math.imul(cn,Yo),s=s+Math.imul(ci,yh)|0,Y=Math.imul(ci,Yo),Ie=Ie+Math.imul(An,Ih)|0,s=s+Math.imul(An,wh)|0,s=s+Math.imul($i,Ih)|0,Y=Y+Math.imul($i,wh)|0,Ie=Ie+Math.imul(un,Dh)|0,s=s+Math.imul(un,Mh)|0,s=s+Math.imul(pn,Dh)|0,Y=Y+Math.imul(pn,Mh)|0;var $0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+($0>>>26)|0,$0&=67108863,Ie=Math.imul(Zn,yh),s=Math.imul(Zn,Yo),s=s+Math.imul(ho,yh)|0,Y=Math.imul(ho,Yo),Ie=Ie+Math.imul(cn,Ih)|0,s=s+Math.imul(cn,wh)|0,s=s+Math.imul(ci,Ih)|0,Y=Y+Math.imul(ci,wh)|0,Ie=Ie+Math.imul(An,Dh)|0,s=s+Math.imul(An,Mh)|0,s=s+Math.imul($i,Dh)|0,Y=Y+Math.imul($i,Mh)|0,Ie=Ie+Math.imul(un,Bh)|0,s=s+Math.imul(un,Xf)|0,s=s+Math.imul(pn,Bh)|0,Y=Y+Math.imul(pn,Xf)|0;var D0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(D0>>>26)|0,D0&=67108863,Ie=Math.imul(Lo,yh),s=Math.imul(Lo,Yo),s=s+Math.imul(jo,yh)|0,Y=Math.imul(jo,Yo),Ie=Ie+Math.imul(Zn,Ih)|0,s=s+Math.imul(Zn,wh)|0,s=s+Math.imul(ho,Ih)|0,Y=Y+Math.imul(ho,wh)|0,Ie=Ie+Math.imul(cn,Dh)|0,s=s+Math.imul(cn,Mh)|0,s=s+Math.imul(ci,Dh)|0,Y=Y+Math.imul(ci,Mh)|0,Ie=Ie+Math.imul(An,Bh)|0,s=s+Math.imul(An,Xf)|0,s=s+Math.imul($i,Bh)|0,Y=Y+Math.imul($i,Xf)|0,Ie=Ie+Math.imul(un,Eh)|0,s=s+Math.imul(un,ph)|0,s=s+Math.imul(pn,Eh)|0,Y=Y+Math.imul(pn,ph)|0;var F0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(F0>>>26)|0,F0&=67108863,Ie=Math.imul(_h,yh),s=Math.imul(_h,Yo),s=s+Math.imul(tf,yh)|0,Y=Math.imul(tf,Yo),Ie=Ie+Math.imul(Lo,Ih)|0,s=s+Math.imul(Lo,wh)|0,s=s+Math.imul(jo,Ih)|0,Y=Y+Math.imul(jo,wh)|0,Ie=Ie+Math.imul(Zn,Dh)|0,s=s+Math.imul(Zn,Mh)|0,s=s+Math.imul(ho,Dh)|0,Y=Y+Math.imul(ho,Mh)|0,Ie=Ie+Math.imul(cn,Bh)|0,s=s+Math.imul(cn,Xf)|0,s=s+Math.imul(ci,Bh)|0,Y=Y+Math.imul(ci,Xf)|0,Ie=Ie+Math.imul(An,Eh)|0,s=s+Math.imul(An,ph)|0,s=s+Math.imul($i,Eh)|0,Y=Y+Math.imul($i,ph)|0,Ie=Ie+Math.imul(un,xh)|0,s=s+Math.imul(un,mh)|0,s=s+Math.imul(pn,xh)|0,Y=Y+Math.imul(pn,mh)|0;var tc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(tc>>>26)|0,tc&=67108863,Ie=Math.imul(Ko,yh),s=Math.imul(Ko,Yo),s=s+Math.imul(Uo,yh)|0,Y=Math.imul(Uo,Yo),Ie=Ie+Math.imul(_h,Ih)|0,s=s+Math.imul(_h,wh)|0,s=s+Math.imul(tf,Ih)|0,Y=Y+Math.imul(tf,wh)|0,Ie=Ie+Math.imul(Lo,Dh)|0,s=s+Math.imul(Lo,Mh)|0,s=s+Math.imul(jo,Dh)|0,Y=Y+Math.imul(jo,Mh)|0,Ie=Ie+Math.imul(Zn,Bh)|0,s=s+Math.imul(Zn,Xf)|0,s=s+Math.imul(ho,Bh)|0,Y=Y+Math.imul(ho,Xf)|0,Ie=Ie+Math.imul(cn,Eh)|0,s=s+Math.imul(cn,ph)|0,s=s+Math.imul(ci,Eh)|0,Y=Y+Math.imul(ci,ph)|0,Ie=Ie+Math.imul(An,xh)|0,s=s+Math.imul(An,mh)|0,s=s+Math.imul($i,xh)|0,Y=Y+Math.imul($i,mh)|0,Ie=Ie+Math.imul(un,Ah)|0,s=s+Math.imul(un,gh)|0,s=s+Math.imul(pn,Ah)|0,Y=Y+Math.imul(pn,gh)|0;var Ku=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,Ie=Math.imul(Vo,yh),s=Math.imul(Vo,Yo),s=s+Math.imul(qo,yh)|0,Y=Math.imul(qo,Yo),Ie=Ie+Math.imul(Ko,Ih)|0,s=s+Math.imul(Ko,wh)|0,s=s+Math.imul(Uo,Ih)|0,Y=Y+Math.imul(Uo,wh)|0,Ie=Ie+Math.imul(_h,Dh)|0,s=s+Math.imul(_h,Mh)|0,s=s+Math.imul(tf,Dh)|0,Y=Y+Math.imul(tf,Mh)|0,Ie=Ie+Math.imul(Lo,Bh)|0,s=s+Math.imul(Lo,Xf)|0,s=s+Math.imul(jo,Bh)|0,Y=Y+Math.imul(jo,Xf)|0,Ie=Ie+Math.imul(Zn,Eh)|0,s=s+Math.imul(Zn,ph)|0,s=s+Math.imul(ho,Eh)|0,Y=Y+Math.imul(ho,ph)|0,Ie=Ie+Math.imul(cn,xh)|0,s=s+Math.imul(cn,mh)|0,s=s+Math.imul(ci,xh)|0,Y=Y+Math.imul(ci,mh)|0,Ie=Ie+Math.imul(An,Ah)|0,s=s+Math.imul(An,gh)|0,s=s+Math.imul($i,Ah)|0,Y=Y+Math.imul($i,gh)|0,Ie=Ie+Math.imul(un,Sh)|0,s=s+Math.imul(un,vh)|0,s=s+Math.imul(pn,Sh)|0,Y=Y+Math.imul(pn,vh)|0;var sc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(sc>>>26)|0,sc&=67108863,Ie=Math.imul(Zo,yh),s=Math.imul(Zo,Yo),s=s+Math.imul(Fo,yh)|0,Y=Math.imul(Fo,Yo),Ie=Ie+Math.imul(Vo,Ih)|0,s=s+Math.imul(Vo,wh)|0,s=s+Math.imul(qo,Ih)|0,Y=Y+Math.imul(qo,wh)|0,Ie=Ie+Math.imul(Ko,Dh)|0,s=s+Math.imul(Ko,Mh)|0,s=s+Math.imul(Uo,Dh)|0,Y=Y+Math.imul(Uo,Mh)|0,Ie=Ie+Math.imul(_h,Bh)|0,s=s+Math.imul(_h,Xf)|0,s=s+Math.imul(tf,Bh)|0,Y=Y+Math.imul(tf,Xf)|0,Ie=Ie+Math.imul(Lo,Eh)|0,s=s+Math.imul(Lo,ph)|0,s=s+Math.imul(jo,Eh)|0,Y=Y+Math.imul(jo,ph)|0,Ie=Ie+Math.imul(Zn,xh)|0,s=s+Math.imul(Zn,mh)|0,s=s+Math.imul(ho,xh)|0,Y=Y+Math.imul(ho,mh)|0,Ie=Ie+Math.imul(cn,Ah)|0,s=s+Math.imul(cn,gh)|0,s=s+Math.imul(ci,Ah)|0,Y=Y+Math.imul(ci,gh)|0,Ie=Ie+Math.imul(An,Sh)|0,s=s+Math.imul(An,vh)|0,s=s+Math.imul($i,Sh)|0,Y=Y+Math.imul($i,vh)|0,Ie=Ie+Math.imul(un,Rh)|0,s=s+Math.imul(un,bh)|0,s=s+Math.imul(pn,Rh)|0,Y=Y+Math.imul(pn,bh)|0;var uc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(uc>>>26)|0,uc&=67108863,Ie=Math.imul(Vf,yh),s=Math.imul(Vf,Yo),s=s+Math.imul(Ho,yh)|0,Y=Math.imul(Ho,Yo),Ie=Ie+Math.imul(Zo,Ih)|0,s=s+Math.imul(Zo,wh)|0,s=s+Math.imul(Fo,Ih)|0,Y=Y+Math.imul(Fo,wh)|0,Ie=Ie+Math.imul(Vo,Dh)|0,s=s+Math.imul(Vo,Mh)|0,s=s+Math.imul(qo,Dh)|0,Y=Y+Math.imul(qo,Mh)|0,Ie=Ie+Math.imul(Ko,Bh)|0,s=s+Math.imul(Ko,Xf)|0,s=s+Math.imul(Uo,Bh)|0,Y=Y+Math.imul(Uo,Xf)|0,Ie=Ie+Math.imul(_h,Eh)|0,s=s+Math.imul(_h,ph)|0,s=s+Math.imul(tf,Eh)|0,Y=Y+Math.imul(tf,ph)|0,Ie=Ie+Math.imul(Lo,xh)|0,s=s+Math.imul(Lo,mh)|0,s=s+Math.imul(jo,xh)|0,Y=Y+Math.imul(jo,mh)|0,Ie=Ie+Math.imul(Zn,Ah)|0,s=s+Math.imul(Zn,gh)|0,s=s+Math.imul(ho,Ah)|0,Y=Y+Math.imul(ho,gh)|0,Ie=Ie+Math.imul(cn,Sh)|0,s=s+Math.imul(cn,vh)|0,s=s+Math.imul(ci,Sh)|0,Y=Y+Math.imul(ci,vh)|0,Ie=Ie+Math.imul(An,Rh)|0,s=s+Math.imul(An,bh)|0,s=s+Math.imul($i,Rh)|0,Y=Y+Math.imul($i,bh)|0,Ie=Ie+Math.imul(un,Ch)|0,s=s+Math.imul(un,$h)|0,s=s+Math.imul(pn,Ch)|0,Y=Y+Math.imul(pn,$h)|0;var ac=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(ac>>>26)|0,ac&=67108863,Ie=Math.imul(Vf,Ih),s=Math.imul(Vf,wh),s=s+Math.imul(Ho,Ih)|0,Y=Math.imul(Ho,wh),Ie=Ie+Math.imul(Zo,Dh)|0,s=s+Math.imul(Zo,Mh)|0,s=s+Math.imul(Fo,Dh)|0,Y=Y+Math.imul(Fo,Mh)|0,Ie=Ie+Math.imul(Vo,Bh)|0,s=s+Math.imul(Vo,Xf)|0,s=s+Math.imul(qo,Bh)|0,Y=Y+Math.imul(qo,Xf)|0,Ie=Ie+Math.imul(Ko,Eh)|0,s=s+Math.imul(Ko,ph)|0,s=s+Math.imul(Uo,Eh)|0,Y=Y+Math.imul(Uo,ph)|0,Ie=Ie+Math.imul(_h,xh)|0,s=s+Math.imul(_h,mh)|0,s=s+Math.imul(tf,xh)|0,Y=Y+Math.imul(tf,mh)|0,Ie=Ie+Math.imul(Lo,Ah)|0,s=s+Math.imul(Lo,gh)|0,s=s+Math.imul(jo,Ah)|0,Y=Y+Math.imul(jo,gh)|0,Ie=Ie+Math.imul(Zn,Sh)|0,s=s+Math.imul(Zn,vh)|0,s=s+Math.imul(ho,Sh)|0,Y=Y+Math.imul(ho,vh)|0,Ie=Ie+Math.imul(cn,Rh)|0,s=s+Math.imul(cn,bh)|0,s=s+Math.imul(ci,Rh)|0,Y=Y+Math.imul(ci,bh)|0,Ie=Ie+Math.imul(An,Ch)|0,s=s+Math.imul(An,$h)|0,s=s+Math.imul($i,Ch)|0,Y=Y+Math.imul($i,$h)|0;var cc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(cc>>>26)|0,cc&=67108863,Ie=Math.imul(Vf,Dh),s=Math.imul(Vf,Mh),s=s+Math.imul(Ho,Dh)|0,Y=Math.imul(Ho,Mh),Ie=Ie+Math.imul(Zo,Bh)|0,s=s+Math.imul(Zo,Xf)|0,s=s+Math.imul(Fo,Bh)|0,Y=Y+Math.imul(Fo,Xf)|0,Ie=Ie+Math.imul(Vo,Eh)|0,s=s+Math.imul(Vo,ph)|0,s=s+Math.imul(qo,Eh)|0,Y=Y+Math.imul(qo,ph)|0,Ie=Ie+Math.imul(Ko,xh)|0,s=s+Math.imul(Ko,mh)|0,s=s+Math.imul(Uo,xh)|0,Y=Y+Math.imul(Uo,mh)|0,Ie=Ie+Math.imul(_h,Ah)|0,s=s+Math.imul(_h,gh)|0,s=s+Math.imul(tf,Ah)|0,Y=Y+Math.imul(tf,gh)|0,Ie=Ie+Math.imul(Lo,Sh)|0,s=s+Math.imul(Lo,vh)|0,s=s+Math.imul(jo,Sh)|0,Y=Y+Math.imul(jo,vh)|0,Ie=Ie+Math.imul(Zn,Rh)|0,s=s+Math.imul(Zn,bh)|0,s=s+Math.imul(ho,Rh)|0,Y=Y+Math.imul(ho,bh)|0,Ie=Ie+Math.imul(cn,Ch)|0,s=s+Math.imul(cn,$h)|0,s=s+Math.imul(ci,Ch)|0,Y=Y+Math.imul(ci,$h)|0;var lc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(lc>>>26)|0,lc&=67108863,Ie=Math.imul(Vf,Bh),s=Math.imul(Vf,Xf),s=s+Math.imul(Ho,Bh)|0,Y=Math.imul(Ho,Xf),Ie=Ie+Math.imul(Zo,Eh)|0,s=s+Math.imul(Zo,ph)|0,s=s+Math.imul(Fo,Eh)|0,Y=Y+Math.imul(Fo,ph)|0,Ie=Ie+Math.imul(Vo,xh)|0,s=s+Math.imul(Vo,mh)|0,s=s+Math.imul(qo,xh)|0,Y=Y+Math.imul(qo,mh)|0,Ie=Ie+Math.imul(Ko,Ah)|0,s=s+Math.imul(Ko,gh)|0,s=s+Math.imul(Uo,Ah)|0,Y=Y+Math.imul(Uo,gh)|0,Ie=Ie+Math.imul(_h,Sh)|0,s=s+Math.imul(_h,vh)|0,s=s+Math.imul(tf,Sh)|0,Y=Y+Math.imul(tf,vh)|0,Ie=Ie+Math.imul(Lo,Rh)|0,s=s+Math.imul(Lo,bh)|0,s=s+Math.imul(jo,Rh)|0,Y=Y+Math.imul(jo,bh)|0,Ie=Ie+Math.imul(Zn,Ch)|0,s=s+Math.imul(Zn,$h)|0,s=s+Math.imul(ho,Ch)|0,Y=Y+Math.imul(ho,$h)|0;var oc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(oc>>>26)|0,oc&=67108863,Ie=Math.imul(Vf,Eh),s=Math.imul(Vf,ph),s=s+Math.imul(Ho,Eh)|0,Y=Math.imul(Ho,ph),Ie=Ie+Math.imul(Zo,xh)|0,s=s+Math.imul(Zo,mh)|0,s=s+Math.imul(Fo,xh)|0,Y=Y+Math.imul(Fo,mh)|0,Ie=Ie+Math.imul(Vo,Ah)|0,s=s+Math.imul(Vo,gh)|0,s=s+Math.imul(qo,Ah)|0,Y=Y+Math.imul(qo,gh)|0,Ie=Ie+Math.imul(Ko,Sh)|0,s=s+Math.imul(Ko,vh)|0,s=s+Math.imul(Uo,Sh)|0,Y=Y+Math.imul(Uo,vh)|0,Ie=Ie+Math.imul(_h,Rh)|0,s=s+Math.imul(_h,bh)|0,s=s+Math.imul(tf,Rh)|0,Y=Y+Math.imul(tf,bh)|0,Ie=Ie+Math.imul(Lo,Ch)|0,s=s+Math.imul(Lo,$h)|0,s=s+Math.imul(jo,Ch)|0,Y=Y+Math.imul(jo,$h)|0;var fc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(fc>>>26)|0,fc&=67108863,Ie=Math.imul(Vf,xh),s=Math.imul(Vf,mh),s=s+Math.imul(Ho,xh)|0,Y=Math.imul(Ho,mh),Ie=Ie+Math.imul(Zo,Ah)|0,s=s+Math.imul(Zo,gh)|0,s=s+Math.imul(Fo,Ah)|0,Y=Y+Math.imul(Fo,gh)|0,Ie=Ie+Math.imul(Vo,Sh)|0,s=s+Math.imul(Vo,vh)|0,s=s+Math.imul(qo,Sh)|0,Y=Y+Math.imul(qo,vh)|0,Ie=Ie+Math.imul(Ko,Rh)|0,s=s+Math.imul(Ko,bh)|0,s=s+Math.imul(Uo,Rh)|0,Y=Y+Math.imul(Uo,bh)|0,Ie=Ie+Math.imul(_h,Ch)|0,s=s+Math.imul(_h,$h)|0,s=s+Math.imul(tf,Ch)|0,Y=Y+Math.imul(tf,$h)|0;var hc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(hc>>>26)|0,hc&=67108863,Ie=Math.imul(Vf,Ah),s=Math.imul(Vf,gh),s=s+Math.imul(Ho,Ah)|0,Y=Math.imul(Ho,gh),Ie=Ie+Math.imul(Zo,Sh)|0,s=s+Math.imul(Zo,vh)|0,s=s+Math.imul(Fo,Sh)|0,Y=Y+Math.imul(Fo,vh)|0,Ie=Ie+Math.imul(Vo,Rh)|0,s=s+Math.imul(Vo,bh)|0,s=s+Math.imul(qo,Rh)|0,Y=Y+Math.imul(qo,bh)|0,Ie=Ie+Math.imul(Ko,Ch)|0,s=s+Math.imul(Ko,$h)|0,s=s+Math.imul(Uo,Ch)|0,Y=Y+Math.imul(Uo,$h)|0;var r0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(r0>>>26)|0,r0&=67108863,Ie=Math.imul(Vf,Sh),s=Math.imul(Vf,vh),s=s+Math.imul(Ho,Sh)|0,Y=Math.imul(Ho,vh),Ie=Ie+Math.imul(Zo,Rh)|0,s=s+Math.imul(Zo,bh)|0,s=s+Math.imul(Fo,Rh)|0,Y=Y+Math.imul(Fo,bh)|0,Ie=Ie+Math.imul(Vo,Ch)|0,s=s+Math.imul(Vo,$h)|0,s=s+Math.imul(qo,Ch)|0,Y=Y+Math.imul(qo,$h)|0;var dc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(dc>>>26)|0,dc&=67108863,Ie=Math.imul(Vf,Rh),s=Math.imul(Vf,bh),s=s+Math.imul(Ho,Rh)|0,Y=Math.imul(Ho,bh),Ie=Ie+Math.imul(Zo,Ch)|0,s=s+Math.imul(Zo,$h)|0,s=s+Math.imul(Fo,Ch)|0,Y=Y+Math.imul(Fo,$h)|0;var pc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(pc>>>26)|0,pc&=67108863,Ie=Math.imul(Vf,Ch),s=Math.imul(Vf,$h),s=s+Math.imul(Ho,Ch)|0,Y=Math.imul(Ho,$h);var vc=(ti+Ie|0)+((s&8191)<<13)|0;return ti=(Y+(s>>>13)|0)+(vc>>>26)|0,vc&=67108863,Le[0]=au,Le[1]=f0,Le[2]=$0,Le[3]=D0,Le[4]=F0,Le[5]=tc,Le[6]=Ku,Le[7]=sc,Le[8]=uc,Le[9]=ac,Le[10]=cc,Le[11]=lc,Le[12]=oc,Le[13]=fc,Le[14]=hc,Le[15]=r0,Le[16]=dc,Le[17]=pc,Le[18]=vc,ti!==0&&(Le[19]=ti,H.length++),H};Math.imul||(ui=fi);function sn(ii,t,o){o.negative=t.negative^ii.negative,o.length=ii.length+t.length;for(var H=0,G=0,Ne=0;Ne<o.length-1;Ne++){var Le=G;G=0;for(var ti=H&67108863,Ie=Math.min(Ne,t.length-1),s=Math.max(0,Ne-ii.length+1);s<=Ie;s++){var Y=Ne-s,li=ii.words[Y]|0,un=t.words[s]|0,pn=li*un,di=pn&67108863;Le=Le+(pn/67108864|0)|0,di=di+ti|0,ti=di&67108863,Le=Le+(di>>>26)|0,G+=Le>>>26,Le&=67108863}o.words[Ne]=ti,H=Le,Le=G}return H!==0?o.words[Ne]=H:o.length--,o.strip()}function hn(ii,t,o){var H=new nn;return H.mulp(ii,t,o)}R.prototype.mulTo=function(t,o){var H,G=this.length+t.length;return this.length===10&&t.length===10?H=ui(this,t,o):G<63?H=fi(this,t,o):G<1024?H=sn(this,t,o):H=hn(this,t,o),H};function nn(ii,t){this.x=ii,this.y=t}nn.prototype.makeRBT=function(t){for(var o=new Array(t),H=R.prototype._countBits(t)-1,G=0;G<t;G++)o[G]=this.revBin(G,H,t);return o},nn.prototype.revBin=function(t,o,H){if(t===0||t===H-1)return t;for(var G=0,Ne=0;Ne<o;Ne++)G|=(t&1)<<o-Ne-1,t>>=1;return G},nn.prototype.permute=function(t,o,H,G,Ne,Le){for(var ti=0;ti<Le;ti++)G[ti]=o[t[ti]],Ne[ti]=H[t[ti]]},nn.prototype.transform=function(t,o,H,G,Ne,Le){this.permute(Le,t,o,H,G,Ne);for(var ti=1;ti<Ne;ti<<=1)for(var Ie=ti<<1,s=Math.cos(2*Math.PI/Ie),Y=Math.sin(2*Math.PI/Ie),li=0;li<Ne;li+=Ie)for(var un=s,pn=Y,di=0;di<ti;di++){var An=H[li+di],$i=G[li+di],fn=H[li+di+ti],cn=G[li+di+ti],ci=un*fn-pn*cn;cn=un*cn+pn*fn,fn=ci,H[li+di]=An+fn,G[li+di]=$i+cn,H[li+di+ti]=An-fn,G[li+di+ti]=$i-cn,di!==Ie&&(ci=s*un-Y*pn,pn=s*pn+Y*un,un=ci)}},nn.prototype.guessLen13b=function(t,o){var H=Math.max(o,t)|1,G=H&1,Ne=0;for(H=H/2|0;H;H=H>>>1)Ne++;return 1<<Ne+1+G},nn.prototype.conjugate=function(t,o,H){if(!(H<=1))for(var G=0;G<H/2;G++){var Ne=t[G];t[G]=t[H-G-1],t[H-G-1]=Ne,Ne=o[G],o[G]=-o[H-G-1],o[H-G-1]=-Ne}},nn.prototype.normalize13b=function(t,o){for(var H=0,G=0;G<o/2;G++){var Ne=Math.round(t[2*G+1]/o)*8192+Math.round(t[2*G]/o)+H;t[G]=Ne&67108863,Ne<67108864?H=0:H=Ne/67108864|0}return t},nn.prototype.convert13b=function(t,o,H,G){for(var Ne=0,Le=0;Le<o;Le++)Ne=Ne+(t[Le]|0),H[2*Le]=Ne&8191,Ne=Ne>>>13,H[2*Le+1]=Ne&8191,Ne=Ne>>>13;for(Le=2*o;Le<G;++Le)H[Le]=0;P(Ne===0),P((Ne&-8192)===0)},nn.prototype.stub=function(t){for(var o=new Array(t),H=0;H<t;H++)o[H]=0;return o},nn.prototype.mulp=function(t,o,H){var G=2*this.guessLen13b(t.length,o.length),Ne=this.makeRBT(G),Le=this.stub(G),ti=new Array(G),Ie=new Array(G),s=new Array(G),Y=new Array(G),li=new Array(G),un=new Array(G),pn=H.words;pn.length=G,this.convert13b(t.words,t.length,ti,G),this.convert13b(o.words,o.length,Y,G),this.transform(ti,Le,Ie,s,G,Ne),this.transform(Y,Le,li,un,G,Ne);for(var di=0;di<G;di++){var An=Ie[di]*li[di]-s[di]*un[di];s[di]=Ie[di]*un[di]+s[di]*li[di],Ie[di]=An}return this.conjugate(Ie,s,G),this.transform(Ie,s,pn,Le,G,Ne),this.conjugate(pn,Le,G),this.normalize13b(pn,G),H.negative=t.negative^o.negative,H.length=t.length+o.length,H.strip()},R.prototype.mul=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},R.prototype.mulf=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),hn(this,t,o)},R.prototype.imul=function(t){return this.clone().mulTo(t,this)},R.prototype.imuln=function(t){P(typeof t=="number"),P(t<67108864);for(var o=0,H=0;H<this.length;H++){var G=(this.words[H]|0)*t,Ne=(G&67108863)+(o&67108863);o>>=26,o+=G/67108864|0,o+=Ne>>>26,this.words[H]=Ne&67108863}return o!==0&&(this.words[H]=o,this.length++),this},R.prototype.muln=function(t){return this.clone().imuln(t)},R.prototype.sqr=function(){return this.mul(this)},R.prototype.isqr=function(){return this.imul(this.clone())},R.prototype.pow=function(t){var o=ai(t);if(o.length===0)return new R(1);for(var H=this,G=0;G<o.length&&o[G]===0;G++,H=H.sqr());if(++G<o.length)for(var Ne=H.sqr();G<o.length;G++,Ne=Ne.sqr())o[G]!==0&&(H=H.mul(Ne));return H},R.prototype.iushln=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=67108863>>>26-o<<26-o,Ne;if(o!==0){var Le=0;for(Ne=0;Ne<this.length;Ne++){var ti=this.words[Ne]&G,Ie=(this.words[Ne]|0)-ti<<o;this.words[Ne]=Ie|Le,Le=ti>>>26-o}Le&&(this.words[Ne]=Le,this.length++)}if(H!==0){for(Ne=this.length-1;Ne>=0;Ne--)this.words[Ne+H]=this.words[Ne];for(Ne=0;Ne<H;Ne++)this.words[Ne]=0;this.length+=H}return this.strip()},R.prototype.ishln=function(t){return P(this.negative===0),this.iushln(t)},R.prototype.iushrn=function(t,o,H){P(typeof t=="number"&&t>=0);var G;o?G=(o-o%26)/26:G=0;var Ne=t%26,Le=Math.min((t-Ne)/26,this.length),ti=67108863^67108863>>>Ne<<Ne,Ie=H;if(G-=Le,G=Math.max(0,G),Ie){for(var s=0;s<Le;s++)Ie.words[s]=this.words[s];Ie.length=Le}if(Le!==0)if(this.length>Le)for(this.length-=Le,s=0;s<this.length;s++)this.words[s]=this.words[s+Le];else this.words[0]=0,this.length=1;var Y=0;for(s=this.length-1;s>=0&&(Y!==0||s>=G);s--){var li=this.words[s]|0;this.words[s]=Y<<26-Ne|li>>>Ne,Y=li&ti}return Ie&&Y!==0&&(Ie.words[Ie.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},R.prototype.ishrn=function(t,o,H){return P(this.negative===0),this.iushrn(t,o,H)},R.prototype.shln=function(t){return this.clone().ishln(t)},R.prototype.ushln=function(t){return this.clone().iushln(t)},R.prototype.shrn=function(t){return this.clone().ishrn(t)},R.prototype.ushrn=function(t){return this.clone().iushrn(t)},R.prototype.testn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return!1;var Ne=this.words[H];return!!(Ne&G)},R.prototype.imaskn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=H)return this;if(o!==0&&H++,this.length=Math.min(H,this.length),o!==0){var G=67108863^67108863>>>o<<o;this.words[this.length-1]&=G}return this.strip()},R.prototype.maskn=function(t){return this.clone().imaskn(t)},R.prototype.iaddn=function(t){return P(typeof t=="number"),P(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},R.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},R.prototype.isubn=function(t){if(P(typeof t=="number"),P(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},R.prototype.addn=function(t){return this.clone().iaddn(t)},R.prototype.subn=function(t){return this.clone().isubn(t)},R.prototype.iabs=function(){return this.negative=0,this},R.prototype.abs=function(){return this.clone().iabs()},R.prototype._ishlnsubmul=function(t,o,H){var G=t.length+H,Ne;this._expand(G);var Le,ti=0;for(Ne=0;Ne<t.length;Ne++){Le=(this.words[Ne+H]|0)+ti;var Ie=(t.words[Ne]|0)*o;Le-=Ie&67108863,ti=(Le>>26)-(Ie/67108864|0),this.words[Ne+H]=Le&67108863}for(;Ne<this.length-H;Ne++)Le=(this.words[Ne+H]|0)+ti,ti=Le>>26,this.words[Ne+H]=Le&67108863;if(ti===0)return this.strip();for(P(ti===-1),ti=0,Ne=0;Ne<this.length;Ne++)Le=-(this.words[Ne]|0)+ti,ti=Le>>26,this.words[Ne]=Le&67108863;return this.negative=1,this.strip()},R.prototype._wordDiv=function(t,o){var H=this.length-t.length,G=this.clone(),Ne=t,Le=Ne.words[Ne.length-1]|0,ti=this._countBits(Le);H=26-ti,H!==0&&(Ne=Ne.ushln(H),G.iushln(H),Le=Ne.words[Ne.length-1]|0);var Ie=G.length-Ne.length,s;if(o!=="mod"){s=new R(null),s.length=Ie+1,s.words=new Array(s.length);for(var Y=0;Y<s.length;Y++)s.words[Y]=0}var li=G.clone()._ishlnsubmul(Ne,1,Ie);li.negative===0&&(G=li,s&&(s.words[Ie]=1));for(var un=Ie-1;un>=0;un--){var pn=(G.words[Ne.length+un]|0)*67108864+(G.words[Ne.length+un-1]|0);for(pn=Math.min(pn/Le|0,67108863),G._ishlnsubmul(Ne,pn,un);G.negative!==0;)pn--,G.negative=0,G._ishlnsubmul(Ne,1,un),G.isZero()||(G.negative^=1);s&&(s.words[un]=pn)}return s&&s.strip(),G.strip(),o!=="div"&&H!==0&&G.iushrn(H),{div:s||null,mod:G}},R.prototype.divmod=function(t,o,H){if(P(!t.isZero()),this.isZero())return{div:new R(0),mod:new R(0)};var G,Ne,Le;return this.negative!==0&&t.negative===0?(Le=this.neg().divmod(t,o),o!=="mod"&&(G=Le.div.neg()),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.iadd(t)),{div:G,mod:Ne}):this.negative===0&&t.negative!==0?(Le=this.divmod(t.neg(),o),o!=="mod"&&(G=Le.div.neg()),{div:G,mod:Le.mod}):this.negative&t.negative?(Le=this.neg().divmod(t.neg(),o),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.isub(t)),{div:Le.div,mod:Ne}):t.length>this.length||this.cmp(t)<0?{div:new R(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new R(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new R(this.modn(t.words[0]))}:this._wordDiv(t,o)},R.prototype.div=function(t){return this.divmod(t,"div",!1).div},R.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},R.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},R.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var H=o.div.negative!==0?o.mod.isub(t):o.mod,G=t.ushrn(1),Ne=t.andln(1),Le=H.cmp(G);return Le<0||Ne===1&&Le===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},R.prototype.modn=function(t){P(t<=67108863);for(var o=(1<<26)%t,H=0,G=this.length-1;G>=0;G--)H=(o*H+(this.words[G]|0))%t;return H},R.prototype.idivn=function(t){P(t<=67108863);for(var o=0,H=this.length-1;H>=0;H--){var G=(this.words[H]|0)+o*67108864;this.words[H]=G/t|0,o=G%t}return this.strip()},R.prototype.divn=function(t){return this.clone().idivn(t)},R.prototype.egcd=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=new R(0),ti=new R(1),Ie=0;o.isEven()&&H.isEven();)o.iushrn(1),H.iushrn(1),++Ie;for(var s=H.clone(),Y=o.clone();!o.isZero();){for(var li=0,un=1;!(o.words[0]&un)&&li<26;++li,un<<=1);if(li>0)for(o.iushrn(li);li-- >0;)(G.isOdd()||Ne.isOdd())&&(G.iadd(s),Ne.isub(Y)),G.iushrn(1),Ne.iushrn(1);for(var pn=0,di=1;!(H.words[0]&di)&&pn<26;++pn,di<<=1);if(pn>0)for(H.iushrn(pn);pn-- >0;)(Le.isOdd()||ti.isOdd())&&(Le.iadd(s),ti.isub(Y)),Le.iushrn(1),ti.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Le),Ne.isub(ti)):(H.isub(o),Le.isub(G),ti.isub(Ne))}return{a:Le,b:ti,gcd:H.iushln(Ie)}},R.prototype._invmp=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=H.clone();o.cmpn(1)>0&&H.cmpn(1)>0;){for(var ti=0,Ie=1;!(o.words[0]&Ie)&&ti<26;++ti,Ie<<=1);if(ti>0)for(o.iushrn(ti);ti-- >0;)G.isOdd()&&G.iadd(Le),G.iushrn(1);for(var s=0,Y=1;!(H.words[0]&Y)&&s<26;++s,Y<<=1);if(s>0)for(H.iushrn(s);s-- >0;)Ne.isOdd()&&Ne.iadd(Le),Ne.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Ne)):(H.isub(o),Ne.isub(G))}var li;return o.cmpn(1)===0?li=G:li=Ne,li.cmpn(0)<0&&li.iadd(t),li},R.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),H=t.clone();o.negative=0,H.negative=0;for(var G=0;o.isEven()&&H.isEven();G++)o.iushrn(1),H.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;H.isEven();)H.iushrn(1);var Ne=o.cmp(H);if(Ne<0){var Le=o;o=H,H=Le}else if(Ne===0||H.cmpn(1)===0)break;o.isub(H)}while(!0);return H.iushln(G)},R.prototype.invm=function(t){return this.egcd(t).a.umod(t)},R.prototype.isEven=function(){return(this.words[0]&1)===0},R.prototype.isOdd=function(){return(this.words[0]&1)===1},R.prototype.andln=function(t){return this.words[0]&t},R.prototype.bincn=function(t){P(typeof t=="number");var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return this._expand(H+1),this.words[H]|=G,this;for(var Ne=G,Le=H;Ne!==0&&Le<this.length;Le++){var ti=this.words[Le]|0;ti+=Ne,Ne=ti>>>26,ti&=67108863,this.words[Le]=ti}return Ne!==0&&(this.words[Le]=Ne,this.length++),this},R.prototype.isZero=function(){return this.length===1&&this.words[0]===0},R.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var H;if(this.length>1)H=1;else{o&&(t=-t),P(t<=67108863,"Number is too big");var G=this.words[0]|0;H=G===t?0:G<t?-1:1}return this.negative!==0?-H|0:H},R.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},R.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,H=this.length-1;H>=0;H--){var G=this.words[H]|0,Ne=t.words[H]|0;if(G!==Ne){G<Ne?o=-1:G>Ne&&(o=1);break}}return o},R.prototype.gtn=function(t){return this.cmpn(t)===1},R.prototype.gt=function(t){return this.cmp(t)===1},R.prototype.gten=function(t){return this.cmpn(t)>=0},R.prototype.gte=function(t){return this.cmp(t)>=0},R.prototype.ltn=function(t){return this.cmpn(t)===-1},R.prototype.lt=function(t){return this.cmp(t)===-1},R.prototype.lten=function(t){return this.cmpn(t)<=0},R.prototype.lte=function(t){return this.cmp(t)<=0},R.prototype.eqn=function(t){return this.cmpn(t)===0},R.prototype.eq=function(t){return this.cmp(t)===0},R.red=function(t){return new Bn(t)},R.prototype.toRed=function(t){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},R.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},R.prototype._forceRed=function(t){return this.red=t,this},R.prototype.forceRed=function(t){return P(!this.red,"Already a number in reduction context"),this._forceRed(t)},R.prototype.redAdd=function(t){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},R.prototype.redIAdd=function(t){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},R.prototype.redSub=function(t){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},R.prototype.redISub=function(t){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},R.prototype.redShl=function(t){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},R.prototype.redMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},R.prototype.redIMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},R.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},R.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},R.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},R.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},R.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},R.prototype.redPow=function(t){return P(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var ln={k256:null,p224:null,p192:null,p25519:null};function on(ii,t){this.name=ii,this.p=new R(t,16),this.n=this.p.bitLength(),this.k=new R(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}on.prototype._tmp=function(){var t=new R(null);return t.words=new Array(Math.ceil(this.n/13)),t},on.prototype.ireduce=function(t){var o=t,H;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),H=o.bitLength();while(H>this.n);var G=H<this.n?-1:o.ucmp(this.p);return G===0?(o.words[0]=0,o.length=1):G>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},on.prototype.split=function(t,o){t.iushrn(this.n,0,o)},on.prototype.imulK=function(t){return t.imul(this.k)};function vn(){on.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}W(vn,on),vn.prototype.split=function(t,o){for(var H=4194303,G=Math.min(t.length,9),Ne=0;Ne<G;Ne++)o.words[Ne]=t.words[Ne];if(o.length=G,t.length<=9){t.words[0]=0,t.length=1;return}var Le=t.words[9];for(o.words[o.length++]=Le&H,Ne=10;Ne<t.length;Ne++){var ti=t.words[Ne]|0;t.words[Ne-10]=(ti&H)<<4|Le>>>22,Le=ti}Le>>>=22,t.words[Ne-10]=Le,Le===0&&t.length>10?t.length-=10:t.length-=9},vn.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,H=0;H<t.length;H++){var G=t.words[H]|0;o+=G*977,t.words[H]=o&67108863,o=G*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Mn(){on.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}W(Mn,on);function mi(){on.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}W(mi,on);function mn(){on.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}W(mn,on),mn.prototype.imulK=function(t){for(var o=0,H=0;H<t.length;H++){var G=(t.words[H]|0)*19+o,Ne=G&67108863;G>>>=26,t.words[H]=Ne,o=G}return o!==0&&(t.words[t.length++]=o),t},R._prime=function(t){if(ln[t])return ln[t];var o;if(t==="k256")o=new vn;else if(t==="p224")o=new Mn;else if(t==="p192")o=new mi;else if(t==="p25519")o=new mn;else throw new Error("Unknown prime "+t);return ln[t]=o,o};function Bn(ii){if(typeof ii=="string"){var t=R._prime(ii);this.m=t.p,this.prime=t}else P(ii.gtn(1),"modulus must be greater than 1"),this.m=ii,this.prime=null}Bn.prototype._verify1=function(t){P(t.negative===0,"red works only with positives"),P(t.red,"red works only with red numbers")},Bn.prototype._verify2=function(t,o){P((t.negative|o.negative)===0,"red works only with positives"),P(t.red&&t.red===o.red,"red works only with red numbers")},Bn.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Bn.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Bn.prototype.add=function(t,o){this._verify2(t,o);var H=t.add(o);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},Bn.prototype.iadd=function(t,o){this._verify2(t,o);var H=t.iadd(o);return H.cmp(this.m)>=0&&H.isub(this.m),H},Bn.prototype.sub=function(t,o){this._verify2(t,o);var H=t.sub(o);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},Bn.prototype.isub=function(t,o){this._verify2(t,o);var H=t.isub(o);return H.cmpn(0)<0&&H.iadd(this.m),H},Bn.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},Bn.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},Bn.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},Bn.prototype.isqr=function(t){return this.imul(t,t.clone())},Bn.prototype.sqr=function(t){return this.mul(t,t)},Bn.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(P(o%2===1),o===3){var H=this.m.add(new R(1)).iushrn(2);return this.pow(t,H)}for(var G=this.m.subn(1),Ne=0;!G.isZero()&&G.andln(1)===0;)Ne++,G.iushrn(1);P(!G.isZero());var Le=new R(1).toRed(this),ti=Le.redNeg(),Ie=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new R(2*s*s).toRed(this);this.pow(s,Ie).cmp(ti)!==0;)s.redIAdd(ti);for(var Y=this.pow(s,G),li=this.pow(t,G.addn(1).iushrn(1)),un=this.pow(t,G),pn=Ne;un.cmp(Le)!==0;){for(var di=un,An=0;di.cmp(Le)!==0;An++)di=di.redSqr();P(An<pn);var $i=this.pow(Y,new R(1).iushln(pn-An-1));li=li.redMul($i),Y=$i.redSqr(),un=un.redMul(Y),pn=An}return li},Bn.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},Bn.prototype.pow=function(t,o){if(o.isZero())return new R(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var H=4,G=new Array(1<<H);G[0]=new R(1).toRed(this),G[1]=t;for(var Ne=2;Ne<G.length;Ne++)G[Ne]=this.mul(G[Ne-1],t);var Le=G[0],ti=0,Ie=0,s=o.bitLength()%26;for(s===0&&(s=26),Ne=o.length-1;Ne>=0;Ne--){for(var Y=o.words[Ne],li=s-1;li>=0;li--){var un=Y>>li&1;if(Le!==G[0]&&(Le=this.sqr(Le)),un===0&&ti===0){Ie=0;continue}ti<<=1,ti|=un,Ie++,!(Ie!==H&&(Ne!==0||li!==0))&&(Le=this.mul(Le,G[ti]),Ie=0,ti=0)}s=26}return Le},Bn.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},Bn.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},R.mont=function(t){return new ko(t)};function ko(ii){Bn.call(this,ii),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new R(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}W(ko,Bn),ko.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},ko.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},ko.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var H=t.imul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new R(0)._forceRed(this);var H=t.mul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$4)),bn$4.exports}var utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(r){var e=r;function i(R,Wr){if(Array.isArray(R))return R.slice();if(!R)return[];var ei=[];if(typeof R!="string"){for(var ni=0;ni<R.length;ni++)ei[ni]=R[ni]|0;return ei}if(Wr==="hex"){R=R.replace(/[^a-z0-9]+/ig,""),R.length%2!==0&&(R="0"+R);for(var ni=0;ni<R.length;ni+=2)ei.push(parseInt(R[ni]+R[ni+1],16))}else for(var ni=0;ni<R.length;ni++){var Xr=R.charCodeAt(ni),Zr=Xr>>8,si=Xr&255;Zr?ei.push(Zr,si):ei.push(si)}return ei}e.toArray=i;function P(R){return R.length===1?"0"+R:R}e.zero2=P;function W(R){for(var Wr="",ei=0;ei<R.length;ei++)Wr+=P(R[ei].toString(16));return Wr}e.toHex=W,e.encode=function(Wr,ei){return ei==="hex"?W(Wr):Wr}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(r){var e=r,i=requireBn$3(),P=requireMinimalisticAssert(),W=requireUtils$2();e.assert=P,e.toArray=W.toArray,e.zero2=W.zero2,e.toHex=W.toHex,e.encode=W.encode;function R(Zr,si,oi){var ai=new Array(Math.max(Zr.bitLength(),oi)+1),fi;for(fi=0;fi<ai.length;fi+=1)ai[fi]=0;var ui=1<<si+1,sn=Zr.clone();for(fi=0;fi<ai.length;fi++){var hn,nn=sn.andln(ui-1);sn.isOdd()?(nn>(ui>>1)-1?hn=(ui>>1)-nn:hn=nn,sn.isubn(hn)):hn=0,ai[fi]=hn,sn.iushrn(1)}return ai}e.getNAF=R;function Wr(Zr,si){var oi=[[],[]];Zr=Zr.clone(),si=si.clone();for(var ai=0,fi=0,ui;Zr.cmpn(-ai)>0||si.cmpn(-fi)>0;){var sn=Zr.andln(3)+ai&3,hn=si.andln(3)+fi&3;sn===3&&(sn=-1),hn===3&&(hn=-1);var nn;sn&1?(ui=Zr.andln(7)+ai&7,(ui===3||ui===5)&&hn===2?nn=-sn:nn=sn):nn=0,oi[0].push(nn);var ln;hn&1?(ui=si.andln(7)+fi&7,(ui===3||ui===5)&&sn===2?ln=-hn:ln=hn):ln=0,oi[1].push(ln),2*ai===nn+1&&(ai=1-ai),2*fi===ln+1&&(fi=1-fi),Zr.iushrn(1),si.iushrn(1)}return oi}e.getJSF=Wr;function ei(Zr,si,oi){var ai="_"+si;Zr.prototype[si]=function(){return this[ai]!==void 0?this[ai]:this[ai]=oi.call(this)}}e.cachedProperty=ei;function ni(Zr){return typeof Zr=="string"?e.toArray(Zr,"hex"):Zr}e.parseBytes=ni;function Xr(Zr){return new i(Zr,"hex","le")}e.intFromLE=Xr}(utils$2)),utils$2}var curve={},base$2,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$2;hasRequiredBase$1=1;var r=requireBn$3(),e=requireUtils$1(),i=e.getNAF,P=e.getJSF,W=e.assert;function R(ei,ni){this.type=ei,this.p=new r(ni.p,16),this.red=ni.prime?r.red(ni.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=ni.n&&new r(ni.n,16),this.g=ni.g&&this.pointFromJSON(ni.g,ni.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Xr=this.n&&this.p.div(this.n);!Xr||Xr.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$2=R,R.prototype.point=function(){throw new Error("Not implemented")},R.prototype.validate=function(){throw new Error("Not implemented")},R.prototype._fixedNafMul=function(ni,Xr){W(ni.precomputed);var Zr=ni._getDoubles(),si=i(Xr,1,this._bitLength),oi=(1<<Zr.step+1)-(Zr.step%2===0?2:1);oi/=3;var ai=[],fi,ui;for(fi=0;fi<si.length;fi+=Zr.step){ui=0;for(var sn=fi+Zr.step-1;sn>=fi;sn--)ui=(ui<<1)+si[sn];ai.push(ui)}for(var hn=this.jpoint(null,null,null),nn=this.jpoint(null,null,null),ln=oi;ln>0;ln--){for(fi=0;fi<ai.length;fi++)ui=ai[fi],ui===ln?nn=nn.mixedAdd(Zr.points[fi]):ui===-ln&&(nn=nn.mixedAdd(Zr.points[fi].neg()));hn=hn.add(nn)}return hn.toP()},R.prototype._wnafMul=function(ni,Xr){var Zr=4,si=ni._getNAFPoints(Zr);Zr=si.wnd;for(var oi=si.points,ai=i(Xr,Zr,this._bitLength),fi=this.jpoint(null,null,null),ui=ai.length-1;ui>=0;ui--){for(var sn=0;ui>=0&&ai[ui]===0;ui--)sn++;if(ui>=0&&sn++,fi=fi.dblp(sn),ui<0)break;var hn=ai[ui];W(hn!==0),ni.type==="affine"?hn>0?fi=fi.mixedAdd(oi[hn-1>>1]):fi=fi.mixedAdd(oi[-hn-1>>1].neg()):hn>0?fi=fi.add(oi[hn-1>>1]):fi=fi.add(oi[-hn-1>>1].neg())}return ni.type==="affine"?fi.toP():fi},R.prototype._wnafMulAdd=function(ni,Xr,Zr,si,oi){var ai=this._wnafT1,fi=this._wnafT2,ui=this._wnafT3,sn=0,hn,nn,ln;for(hn=0;hn<si;hn++){ln=Xr[hn];var on=ln._getNAFPoints(ni);ai[hn]=on.wnd,fi[hn]=on.points}for(hn=si-1;hn>=1;hn-=2){var vn=hn-1,Mn=hn;if(ai[vn]!==1||ai[Mn]!==1){ui[vn]=i(Zr[vn],ai[vn],this._bitLength),ui[Mn]=i(Zr[Mn],ai[Mn],this._bitLength),sn=Math.max(ui[vn].length,sn),sn=Math.max(ui[Mn].length,sn);continue}var mi=[Xr[vn],null,null,Xr[Mn]];Xr[vn].y.cmp(Xr[Mn].y)===0?(mi[1]=Xr[vn].add(Xr[Mn]),mi[2]=Xr[vn].toJ().mixedAdd(Xr[Mn].neg())):Xr[vn].y.cmp(Xr[Mn].y.redNeg())===0?(mi[1]=Xr[vn].toJ().mixedAdd(Xr[Mn]),mi[2]=Xr[vn].add(Xr[Mn].neg())):(mi[1]=Xr[vn].toJ().mixedAdd(Xr[Mn]),mi[2]=Xr[vn].toJ().mixedAdd(Xr[Mn].neg()));var mn=[-3,-1,-5,-7,0,7,5,1,3],Bn=P(Zr[vn],Zr[Mn]);for(sn=Math.max(Bn[0].length,sn),ui[vn]=new Array(sn),ui[Mn]=new Array(sn),nn=0;nn<sn;nn++){var ko=Bn[0][nn]|0,ii=Bn[1][nn]|0;ui[vn][nn]=mn[(ko+1)*3+(ii+1)],ui[Mn][nn]=0,fi[vn]=mi}}var t=this.jpoint(null,null,null),o=this._wnafT4;for(hn=sn;hn>=0;hn--){for(var H=0;hn>=0;){var G=!0;for(nn=0;nn<si;nn++)o[nn]=ui[nn][hn]|0,o[nn]!==0&&(G=!1);if(!G)break;H++,hn--}if(hn>=0&&H++,t=t.dblp(H),hn<0)break;for(nn=0;nn<si;nn++){var Ne=o[nn];Ne!==0&&(Ne>0?ln=fi[nn][Ne-1>>1]:Ne<0&&(ln=fi[nn][-Ne-1>>1].neg()),ln.type==="affine"?t=t.mixedAdd(ln):t=t.add(ln))}}for(hn=0;hn<si;hn++)fi[hn]=null;return oi?t:t.toP()};function Wr(ei,ni){this.curve=ei,this.type=ni,this.precomputed=null}return R.BasePoint=Wr,Wr.prototype.eq=function(){throw new Error("Not implemented")},Wr.prototype.validate=function(){return this.curve.validate(this)},R.prototype.decodePoint=function(ni,Xr){ni=e.toArray(ni,Xr);var Zr=this.p.byteLength();if((ni[0]===4||ni[0]===6||ni[0]===7)&&ni.length-1===2*Zr){ni[0]===6?W(ni[ni.length-1]%2===0):ni[0]===7&&W(ni[ni.length-1]%2===1);var si=this.point(ni.slice(1,1+Zr),ni.slice(1+Zr,1+2*Zr));return si}else if((ni[0]===2||ni[0]===3)&&ni.length-1===Zr)return this.pointFromX(ni.slice(1,1+Zr),ni[0]===3);throw new Error("Unknown point format")},Wr.prototype.encodeCompressed=function(ni){return this.encode(ni,!0)},Wr.prototype._encode=function(ni){var Xr=this.curve.p.byteLength(),Zr=this.getX().toArray("be",Xr);return ni?[this.getY().isEven()?2:3].concat(Zr):[4].concat(Zr,this.getY().toArray("be",Xr))},Wr.prototype.encode=function(ni,Xr){return e.encode(this._encode(Xr),ni)},Wr.prototype.precompute=function(ni){if(this.precomputed)return this;var Xr={doubles:null,naf:null,beta:null};return Xr.naf=this._getNAFPoints(8),Xr.doubles=this._getDoubles(4,ni),Xr.beta=this._getBeta(),this.precomputed=Xr,this},Wr.prototype._hasDoubles=function(ni){if(!this.precomputed)return!1;var Xr=this.precomputed.doubles;return Xr?Xr.points.length>=Math.ceil((ni.bitLength()+1)/Xr.step):!1},Wr.prototype._getDoubles=function(ni,Xr){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Zr=[this],si=this,oi=0;oi<Xr;oi+=ni){for(var ai=0;ai<ni;ai++)si=si.dbl();Zr.push(si)}return{step:ni,points:Zr}},Wr.prototype._getNAFPoints=function(ni){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Xr=[this],Zr=(1<<ni)-1,si=Zr===1?null:this.dbl(),oi=1;oi<Zr;oi++)Xr[oi]=Xr[oi-1].add(si);return{wnd:ni,points:Xr}},Wr.prototype._getBeta=function(){return null},Wr.prototype.dblp=function(ni){for(var Xr=this,Zr=0;Zr<ni;Zr++)Xr=Xr.dbl();return Xr},base$2}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var r=requireUtils$1(),e=requireBn$3(),i=inherits_browserExports,P=requireBase$1(),W=r.assert;function R(ni){P.call(this,"short",ni),this.a=new e(ni.a,16).toRed(this.red),this.b=new e(ni.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(ni),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}i(R,P),short=R,R.prototype._getEndomorphism=function(Xr){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Zr,si;if(Xr.beta)Zr=new e(Xr.beta,16).toRed(this.red);else{var oi=this._getEndoRoots(this.p);Zr=oi[0].cmp(oi[1])<0?oi[0]:oi[1],Zr=Zr.toRed(this.red)}if(Xr.lambda)si=new e(Xr.lambda,16);else{var ai=this._getEndoRoots(this.n);this.g.mul(ai[0]).x.cmp(this.g.x.redMul(Zr))===0?si=ai[0]:(si=ai[1],W(this.g.mul(si).x.cmp(this.g.x.redMul(Zr))===0))}var fi;return Xr.basis?fi=Xr.basis.map(function(ui){return{a:new e(ui.a,16),b:new e(ui.b,16)}}):fi=this._getEndoBasis(si),{beta:Zr,lambda:si,basis:fi}}},R.prototype._getEndoRoots=function(Xr){var Zr=Xr===this.p?this.red:e.mont(Xr),si=new e(2).toRed(Zr).redInvm(),oi=si.redNeg(),ai=new e(3).toRed(Zr).redNeg().redSqrt().redMul(si),fi=oi.redAdd(ai).fromRed(),ui=oi.redSub(ai).fromRed();return[fi,ui]},R.prototype._getEndoBasis=function(Xr){for(var Zr=this.n.ushrn(Math.floor(this.n.bitLength()/2)),si=Xr,oi=this.n.clone(),ai=new e(1),fi=new e(0),ui=new e(0),sn=new e(1),hn,nn,ln,on,vn,Mn,mi,mn=0,Bn,ko;si.cmpn(0)!==0;){var ii=oi.div(si);Bn=oi.sub(ii.mul(si)),ko=ui.sub(ii.mul(ai));var t=sn.sub(ii.mul(fi));if(!ln&&Bn.cmp(Zr)<0)hn=mi.neg(),nn=ai,ln=Bn.neg(),on=ko;else if(ln&&++mn===2)break;mi=Bn,oi=si,si=Bn,ui=ai,ai=ko,sn=fi,fi=t}vn=Bn.neg(),Mn=ko;var o=ln.sqr().add(on.sqr()),H=vn.sqr().add(Mn.sqr());return H.cmp(o)>=0&&(vn=hn,Mn=nn),ln.negative&&(ln=ln.neg(),on=on.neg()),vn.negative&&(vn=vn.neg(),Mn=Mn.neg()),[{a:ln,b:on},{a:vn,b:Mn}]},R.prototype._endoSplit=function(Xr){var Zr=this.endo.basis,si=Zr[0],oi=Zr[1],ai=oi.b.mul(Xr).divRound(this.n),fi=si.b.neg().mul(Xr).divRound(this.n),ui=ai.mul(si.a),sn=fi.mul(oi.a),hn=ai.mul(si.b),nn=fi.mul(oi.b),ln=Xr.sub(ui).sub(sn),on=hn.add(nn).neg();return{k1:ln,k2:on}},R.prototype.pointFromX=function(Xr,Zr){Xr=new e(Xr,16),Xr.red||(Xr=Xr.toRed(this.red));var si=Xr.redSqr().redMul(Xr).redIAdd(Xr.redMul(this.a)).redIAdd(this.b),oi=si.redSqrt();if(oi.redSqr().redSub(si).cmp(this.zero)!==0)throw new Error("invalid point");var ai=oi.fromRed().isOdd();return(Zr&&!ai||!Zr&&ai)&&(oi=oi.redNeg()),this.point(Xr,oi)},R.prototype.validate=function(Xr){if(Xr.inf)return!0;var Zr=Xr.x,si=Xr.y,oi=this.a.redMul(Zr),ai=Zr.redSqr().redMul(Zr).redIAdd(oi).redIAdd(this.b);return si.redSqr().redISub(ai).cmpn(0)===0},R.prototype._endoWnafMulAdd=function(Xr,Zr,si){for(var oi=this._endoWnafT1,ai=this._endoWnafT2,fi=0;fi<Xr.length;fi++){var ui=this._endoSplit(Zr[fi]),sn=Xr[fi],hn=sn._getBeta();ui.k1.negative&&(ui.k1.ineg(),sn=sn.neg(!0)),ui.k2.negative&&(ui.k2.ineg(),hn=hn.neg(!0)),oi[fi*2]=sn,oi[fi*2+1]=hn,ai[fi*2]=ui.k1,ai[fi*2+1]=ui.k2}for(var nn=this._wnafMulAdd(1,oi,ai,fi*2,si),ln=0;ln<fi*2;ln++)oi[ln]=null,ai[ln]=null;return nn};function Wr(ni,Xr,Zr,si){P.BasePoint.call(this,ni,"affine"),Xr===null&&Zr===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(Xr,16),this.y=new e(Zr,16),si&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}i(Wr,P.BasePoint),R.prototype.point=function(Xr,Zr,si){return new Wr(this,Xr,Zr,si)},R.prototype.pointFromJSON=function(Xr,Zr){return Wr.fromJSON(this,Xr,Zr)},Wr.prototype._getBeta=function(){if(this.curve.endo){var Xr=this.precomputed;if(Xr&&Xr.beta)return Xr.beta;var Zr=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Xr){var si=this.curve,oi=function(ai){return si.point(ai.x.redMul(si.endo.beta),ai.y)};Xr.beta=Zr,Zr.precomputed={beta:null,naf:Xr.naf&&{wnd:Xr.naf.wnd,points:Xr.naf.points.map(oi)},doubles:Xr.doubles&&{step:Xr.doubles.step,points:Xr.doubles.points.map(oi)}}}return Zr}},Wr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Wr.fromJSON=function(Xr,Zr,si){typeof Zr=="string"&&(Zr=JSON.parse(Zr));var oi=Xr.point(Zr[0],Zr[1],si);if(!Zr[2])return oi;function ai(ui){return Xr.point(ui[0],ui[1],si)}var fi=Zr[2];return oi.precomputed={beta:null,doubles:fi.doubles&&{step:fi.doubles.step,points:[oi].concat(fi.doubles.points.map(ai))},naf:fi.naf&&{wnd:fi.naf.wnd,points:[oi].concat(fi.naf.points.map(ai))}},oi},Wr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Wr.prototype.isInfinity=function(){return this.inf},Wr.prototype.add=function(Xr){if(this.inf)return Xr;if(Xr.inf)return this;if(this.eq(Xr))return this.dbl();if(this.neg().eq(Xr))return this.curve.point(null,null);if(this.x.cmp(Xr.x)===0)return this.curve.point(null,null);var Zr=this.y.redSub(Xr.y);Zr.cmpn(0)!==0&&(Zr=Zr.redMul(this.x.redSub(Xr.x).redInvm()));var si=Zr.redSqr().redISub(this.x).redISub(Xr.x),oi=Zr.redMul(this.x.redSub(si)).redISub(this.y);return this.curve.point(si,oi)},Wr.prototype.dbl=function(){if(this.inf)return this;var Xr=this.y.redAdd(this.y);if(Xr.cmpn(0)===0)return this.curve.point(null,null);var Zr=this.curve.a,si=this.x.redSqr(),oi=Xr.redInvm(),ai=si.redAdd(si).redIAdd(si).redIAdd(Zr).redMul(oi),fi=ai.redSqr().redISub(this.x.redAdd(this.x)),ui=ai.redMul(this.x.redSub(fi)).redISub(this.y);return this.curve.point(fi,ui)},Wr.prototype.getX=function(){return this.x.fromRed()},Wr.prototype.getY=function(){return this.y.fromRed()},Wr.prototype.mul=function(Xr){return Xr=new e(Xr,16),this.isInfinity()?this:this._hasDoubles(Xr)?this.curve._fixedNafMul(this,Xr):this.curve.endo?this.curve._endoWnafMulAdd([this],[Xr]):this.curve._wnafMul(this,Xr)},Wr.prototype.mulAdd=function(Xr,Zr,si){var oi=[this,Zr],ai=[Xr,si];return this.curve.endo?this.curve._endoWnafMulAdd(oi,ai):this.curve._wnafMulAdd(1,oi,ai,2)},Wr.prototype.jmulAdd=function(Xr,Zr,si){var oi=[this,Zr],ai=[Xr,si];return this.curve.endo?this.curve._endoWnafMulAdd(oi,ai,!0):this.curve._wnafMulAdd(1,oi,ai,2,!0)},Wr.prototype.eq=function(Xr){return this===Xr||this.inf===Xr.inf&&(this.inf||this.x.cmp(Xr.x)===0&&this.y.cmp(Xr.y)===0)},Wr.prototype.neg=function(Xr){if(this.inf)return this;var Zr=this.curve.point(this.x,this.y.redNeg());if(Xr&&this.precomputed){var si=this.precomputed,oi=function(ai){return ai.neg()};Zr.precomputed={naf:si.naf&&{wnd:si.naf.wnd,points:si.naf.points.map(oi)},doubles:si.doubles&&{step:si.doubles.step,points:si.doubles.points.map(oi)}}}return Zr},Wr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Xr=this.curve.jpoint(this.x,this.y,this.curve.one);return Xr};function ei(ni,Xr,Zr,si){P.BasePoint.call(this,ni,"jacobian"),Xr===null&&Zr===null&&si===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(Xr,16),this.y=new e(Zr,16),this.z=new e(si,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return i(ei,P.BasePoint),R.prototype.jpoint=function(Xr,Zr,si){return new ei(this,Xr,Zr,si)},ei.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Xr=this.z.redInvm(),Zr=Xr.redSqr(),si=this.x.redMul(Zr),oi=this.y.redMul(Zr).redMul(Xr);return this.curve.point(si,oi)},ei.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ei.prototype.add=function(Xr){if(this.isInfinity())return Xr;if(Xr.isInfinity())return this;var Zr=Xr.z.redSqr(),si=this.z.redSqr(),oi=this.x.redMul(Zr),ai=Xr.x.redMul(si),fi=this.y.redMul(Zr.redMul(Xr.z)),ui=Xr.y.redMul(si.redMul(this.z)),sn=oi.redSub(ai),hn=fi.redSub(ui);if(sn.cmpn(0)===0)return hn.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var nn=sn.redSqr(),ln=nn.redMul(sn),on=oi.redMul(nn),vn=hn.redSqr().redIAdd(ln).redISub(on).redISub(on),Mn=hn.redMul(on.redISub(vn)).redISub(fi.redMul(ln)),mi=this.z.redMul(Xr.z).redMul(sn);return this.curve.jpoint(vn,Mn,mi)},ei.prototype.mixedAdd=function(Xr){if(this.isInfinity())return Xr.toJ();if(Xr.isInfinity())return this;var Zr=this.z.redSqr(),si=this.x,oi=Xr.x.redMul(Zr),ai=this.y,fi=Xr.y.redMul(Zr).redMul(this.z),ui=si.redSub(oi),sn=ai.redSub(fi);if(ui.cmpn(0)===0)return sn.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var hn=ui.redSqr(),nn=hn.redMul(ui),ln=si.redMul(hn),on=sn.redSqr().redIAdd(nn).redISub(ln).redISub(ln),vn=sn.redMul(ln.redISub(on)).redISub(ai.redMul(nn)),Mn=this.z.redMul(ui);return this.curve.jpoint(on,vn,Mn)},ei.prototype.dblp=function(Xr){if(Xr===0)return this;if(this.isInfinity())return this;if(!Xr)return this.dbl();var Zr;if(this.curve.zeroA||this.curve.threeA){var si=this;for(Zr=0;Zr<Xr;Zr++)si=si.dbl();return si}var oi=this.curve.a,ai=this.curve.tinv,fi=this.x,ui=this.y,sn=this.z,hn=sn.redSqr().redSqr(),nn=ui.redAdd(ui);for(Zr=0;Zr<Xr;Zr++){var ln=fi.redSqr(),on=nn.redSqr(),vn=on.redSqr(),Mn=ln.redAdd(ln).redIAdd(ln).redIAdd(oi.redMul(hn)),mi=fi.redMul(on),mn=Mn.redSqr().redISub(mi.redAdd(mi)),Bn=mi.redISub(mn),ko=Mn.redMul(Bn);ko=ko.redIAdd(ko).redISub(vn);var ii=nn.redMul(sn);Zr+1<Xr&&(hn=hn.redMul(vn)),fi=mn,sn=ii,nn=ko}return this.curve.jpoint(fi,nn.redMul(ai),sn)},ei.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ei.prototype._zeroDbl=function(){var Xr,Zr,si;if(this.zOne){var oi=this.x.redSqr(),ai=this.y.redSqr(),fi=ai.redSqr(),ui=this.x.redAdd(ai).redSqr().redISub(oi).redISub(fi);ui=ui.redIAdd(ui);var sn=oi.redAdd(oi).redIAdd(oi),hn=sn.redSqr().redISub(ui).redISub(ui),nn=fi.redIAdd(fi);nn=nn.redIAdd(nn),nn=nn.redIAdd(nn),Xr=hn,Zr=sn.redMul(ui.redISub(hn)).redISub(nn),si=this.y.redAdd(this.y)}else{var ln=this.x.redSqr(),on=this.y.redSqr(),vn=on.redSqr(),Mn=this.x.redAdd(on).redSqr().redISub(ln).redISub(vn);Mn=Mn.redIAdd(Mn);var mi=ln.redAdd(ln).redIAdd(ln),mn=mi.redSqr(),Bn=vn.redIAdd(vn);Bn=Bn.redIAdd(Bn),Bn=Bn.redIAdd(Bn),Xr=mn.redISub(Mn).redISub(Mn),Zr=mi.redMul(Mn.redISub(Xr)).redISub(Bn),si=this.y.redMul(this.z),si=si.redIAdd(si)}return this.curve.jpoint(Xr,Zr,si)},ei.prototype._threeDbl=function(){var Xr,Zr,si;if(this.zOne){var oi=this.x.redSqr(),ai=this.y.redSqr(),fi=ai.redSqr(),ui=this.x.redAdd(ai).redSqr().redISub(oi).redISub(fi);ui=ui.redIAdd(ui);var sn=oi.redAdd(oi).redIAdd(oi).redIAdd(this.curve.a),hn=sn.redSqr().redISub(ui).redISub(ui);Xr=hn;var nn=fi.redIAdd(fi);nn=nn.redIAdd(nn),nn=nn.redIAdd(nn),Zr=sn.redMul(ui.redISub(hn)).redISub(nn),si=this.y.redAdd(this.y)}else{var ln=this.z.redSqr(),on=this.y.redSqr(),vn=this.x.redMul(on),Mn=this.x.redSub(ln).redMul(this.x.redAdd(ln));Mn=Mn.redAdd(Mn).redIAdd(Mn);var mi=vn.redIAdd(vn);mi=mi.redIAdd(mi);var mn=mi.redAdd(mi);Xr=Mn.redSqr().redISub(mn),si=this.y.redAdd(this.z).redSqr().redISub(on).redISub(ln);var Bn=on.redSqr();Bn=Bn.redIAdd(Bn),Bn=Bn.redIAdd(Bn),Bn=Bn.redIAdd(Bn),Zr=Mn.redMul(mi.redISub(Xr)).redISub(Bn)}return this.curve.jpoint(Xr,Zr,si)},ei.prototype._dbl=function(){var Xr=this.curve.a,Zr=this.x,si=this.y,oi=this.z,ai=oi.redSqr().redSqr(),fi=Zr.redSqr(),ui=si.redSqr(),sn=fi.redAdd(fi).redIAdd(fi).redIAdd(Xr.redMul(ai)),hn=Zr.redAdd(Zr);hn=hn.redIAdd(hn);var nn=hn.redMul(ui),ln=sn.redSqr().redISub(nn.redAdd(nn)),on=nn.redISub(ln),vn=ui.redSqr();vn=vn.redIAdd(vn),vn=vn.redIAdd(vn),vn=vn.redIAdd(vn);var Mn=sn.redMul(on).redISub(vn),mi=si.redAdd(si).redMul(oi);return this.curve.jpoint(ln,Mn,mi)},ei.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Xr=this.x.redSqr(),Zr=this.y.redSqr(),si=this.z.redSqr(),oi=Zr.redSqr(),ai=Xr.redAdd(Xr).redIAdd(Xr),fi=ai.redSqr(),ui=this.x.redAdd(Zr).redSqr().redISub(Xr).redISub(oi);ui=ui.redIAdd(ui),ui=ui.redAdd(ui).redIAdd(ui),ui=ui.redISub(fi);var sn=ui.redSqr(),hn=oi.redIAdd(oi);hn=hn.redIAdd(hn),hn=hn.redIAdd(hn),hn=hn.redIAdd(hn);var nn=ai.redIAdd(ui).redSqr().redISub(fi).redISub(sn).redISub(hn),ln=Zr.redMul(nn);ln=ln.redIAdd(ln),ln=ln.redIAdd(ln);var on=this.x.redMul(sn).redISub(ln);on=on.redIAdd(on),on=on.redIAdd(on);var vn=this.y.redMul(nn.redMul(hn.redISub(nn)).redISub(ui.redMul(sn)));vn=vn.redIAdd(vn),vn=vn.redIAdd(vn),vn=vn.redIAdd(vn);var Mn=this.z.redAdd(ui).redSqr().redISub(si).redISub(sn);return this.curve.jpoint(on,vn,Mn)},ei.prototype.mul=function(Xr,Zr){return Xr=new e(Xr,Zr),this.curve._wnafMul(this,Xr)},ei.prototype.eq=function(Xr){if(Xr.type==="affine")return this.eq(Xr.toJ());if(this===Xr)return!0;var Zr=this.z.redSqr(),si=Xr.z.redSqr();if(this.x.redMul(si).redISub(Xr.x.redMul(Zr)).cmpn(0)!==0)return!1;var oi=Zr.redMul(this.z),ai=si.redMul(Xr.z);return this.y.redMul(ai).redISub(Xr.y.redMul(oi)).cmpn(0)===0},ei.prototype.eqXToP=function(Xr){var Zr=this.z.redSqr(),si=Xr.toRed(this.curve.red).redMul(Zr);if(this.x.cmp(si)===0)return!0;for(var oi=Xr.clone(),ai=this.curve.redN.redMul(Zr);;){if(oi.iadd(this.curve.n),oi.cmp(this.curve.p)>=0)return!1;if(si.redIAdd(ai),this.x.cmp(si)===0)return!0}},ei.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ei.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var r=requireBn$3(),e=inherits_browserExports,i=requireBase$1(),P=requireUtils$1();function W(Wr){i.call(this,"mont",Wr),this.a=new r(Wr.a,16).toRed(this.red),this.b=new r(Wr.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(W,i),mont=W,W.prototype.validate=function(ei){var ni=ei.normalize().x,Xr=ni.redSqr(),Zr=Xr.redMul(ni).redAdd(Xr.redMul(this.a)).redAdd(ni),si=Zr.redSqrt();return si.redSqr().cmp(Zr)===0};function R(Wr,ei,ni){i.BasePoint.call(this,Wr,"projective"),ei===null&&ni===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(ei,16),this.z=new r(ni,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(R,i.BasePoint),W.prototype.decodePoint=function(ei,ni){return this.point(P.toArray(ei,ni),1)},W.prototype.point=function(ei,ni){return new R(this,ei,ni)},W.prototype.pointFromJSON=function(ei){return R.fromJSON(this,ei)},R.prototype.precompute=function(){},R.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},R.fromJSON=function(ei,ni){return new R(ei,ni[0],ni[1]||ei.one)},R.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},R.prototype.isInfinity=function(){return this.z.cmpn(0)===0},R.prototype.dbl=function(){var ei=this.x.redAdd(this.z),ni=ei.redSqr(),Xr=this.x.redSub(this.z),Zr=Xr.redSqr(),si=ni.redSub(Zr),oi=ni.redMul(Zr),ai=si.redMul(Zr.redAdd(this.curve.a24.redMul(si)));return this.curve.point(oi,ai)},R.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.diffAdd=function(ei,ni){var Xr=this.x.redAdd(this.z),Zr=this.x.redSub(this.z),si=ei.x.redAdd(ei.z),oi=ei.x.redSub(ei.z),ai=oi.redMul(Xr),fi=si.redMul(Zr),ui=ni.z.redMul(ai.redAdd(fi).redSqr()),sn=ni.x.redMul(ai.redISub(fi).redSqr());return this.curve.point(ui,sn)},R.prototype.mul=function(ei){for(var ni=ei.clone(),Xr=this,Zr=this.curve.point(null,null),si=this,oi=[];ni.cmpn(0)!==0;ni.iushrn(1))oi.push(ni.andln(1));for(var ai=oi.length-1;ai>=0;ai--)oi[ai]===0?(Xr=Xr.diffAdd(Zr,si),Zr=Zr.dbl()):(Zr=Xr.diffAdd(Zr,si),Xr=Xr.dbl());return Zr},R.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.eq=function(ei){return this.getX().cmp(ei.getX())===0},R.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},R.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var r=requireUtils$1(),e=requireBn$3(),i=inherits_browserExports,P=requireBase$1(),W=r.assert;function R(ei){this.twisted=(ei.a|0)!==1,this.mOneA=this.twisted&&(ei.a|0)===-1,this.extended=this.mOneA,P.call(this,"edwards",ei),this.a=new e(ei.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(ei.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(ei.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),W(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(ei.c|0)===1}i(R,P),edwards=R,R.prototype._mulA=function(ni){return this.mOneA?ni.redNeg():this.a.redMul(ni)},R.prototype._mulC=function(ni){return this.oneC?ni:this.c.redMul(ni)},R.prototype.jpoint=function(ni,Xr,Zr,si){return this.point(ni,Xr,Zr,si)},R.prototype.pointFromX=function(ni,Xr){ni=new e(ni,16),ni.red||(ni=ni.toRed(this.red));var Zr=ni.redSqr(),si=this.c2.redSub(this.a.redMul(Zr)),oi=this.one.redSub(this.c2.redMul(this.d).redMul(Zr)),ai=si.redMul(oi.redInvm()),fi=ai.redSqrt();if(fi.redSqr().redSub(ai).cmp(this.zero)!==0)throw new Error("invalid point");var ui=fi.fromRed().isOdd();return(Xr&&!ui||!Xr&&ui)&&(fi=fi.redNeg()),this.point(ni,fi)},R.prototype.pointFromY=function(ni,Xr){ni=new e(ni,16),ni.red||(ni=ni.toRed(this.red));var Zr=ni.redSqr(),si=Zr.redSub(this.c2),oi=Zr.redMul(this.d).redMul(this.c2).redSub(this.a),ai=si.redMul(oi.redInvm());if(ai.cmp(this.zero)===0){if(Xr)throw new Error("invalid point");return this.point(this.zero,ni)}var fi=ai.redSqrt();if(fi.redSqr().redSub(ai).cmp(this.zero)!==0)throw new Error("invalid point");return fi.fromRed().isOdd()!==Xr&&(fi=fi.redNeg()),this.point(fi,ni)},R.prototype.validate=function(ni){if(ni.isInfinity())return!0;ni.normalize();var Xr=ni.x.redSqr(),Zr=ni.y.redSqr(),si=Xr.redMul(this.a).redAdd(Zr),oi=this.c2.redMul(this.one.redAdd(this.d.redMul(Xr).redMul(Zr)));return si.cmp(oi)===0};function Wr(ei,ni,Xr,Zr,si){P.BasePoint.call(this,ei,"projective"),ni===null&&Xr===null&&Zr===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(ni,16),this.y=new e(Xr,16),this.z=Zr?new e(Zr,16):this.curve.one,this.t=si&&new e(si,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return i(Wr,P.BasePoint),R.prototype.pointFromJSON=function(ni){return Wr.fromJSON(this,ni)},R.prototype.point=function(ni,Xr,Zr,si){return new Wr(this,ni,Xr,Zr,si)},Wr.fromJSON=function(ni,Xr){return new Wr(ni,Xr[0],Xr[1],Xr[2])},Wr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Wr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},Wr.prototype._extDbl=function(){var ni=this.x.redSqr(),Xr=this.y.redSqr(),Zr=this.z.redSqr();Zr=Zr.redIAdd(Zr);var si=this.curve._mulA(ni),oi=this.x.redAdd(this.y).redSqr().redISub(ni).redISub(Xr),ai=si.redAdd(Xr),fi=ai.redSub(Zr),ui=si.redSub(Xr),sn=oi.redMul(fi),hn=ai.redMul(ui),nn=oi.redMul(ui),ln=fi.redMul(ai);return this.curve.point(sn,hn,ln,nn)},Wr.prototype._projDbl=function(){var ni=this.x.redAdd(this.y).redSqr(),Xr=this.x.redSqr(),Zr=this.y.redSqr(),si,oi,ai,fi,ui,sn;if(this.curve.twisted){fi=this.curve._mulA(Xr);var hn=fi.redAdd(Zr);this.zOne?(si=ni.redSub(Xr).redSub(Zr).redMul(hn.redSub(this.curve.two)),oi=hn.redMul(fi.redSub(Zr)),ai=hn.redSqr().redSub(hn).redSub(hn)):(ui=this.z.redSqr(),sn=hn.redSub(ui).redISub(ui),si=ni.redSub(Xr).redISub(Zr).redMul(sn),oi=hn.redMul(fi.redSub(Zr)),ai=hn.redMul(sn))}else fi=Xr.redAdd(Zr),ui=this.curve._mulC(this.z).redSqr(),sn=fi.redSub(ui).redSub(ui),si=this.curve._mulC(ni.redISub(fi)).redMul(sn),oi=this.curve._mulC(fi).redMul(Xr.redISub(Zr)),ai=fi.redMul(sn);return this.curve.point(si,oi,ai)},Wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Wr.prototype._extAdd=function(ni){var Xr=this.y.redSub(this.x).redMul(ni.y.redSub(ni.x)),Zr=this.y.redAdd(this.x).redMul(ni.y.redAdd(ni.x)),si=this.t.redMul(this.curve.dd).redMul(ni.t),oi=this.z.redMul(ni.z.redAdd(ni.z)),ai=Zr.redSub(Xr),fi=oi.redSub(si),ui=oi.redAdd(si),sn=Zr.redAdd(Xr),hn=ai.redMul(fi),nn=ui.redMul(sn),ln=ai.redMul(sn),on=fi.redMul(ui);return this.curve.point(hn,nn,on,ln)},Wr.prototype._projAdd=function(ni){var Xr=this.z.redMul(ni.z),Zr=Xr.redSqr(),si=this.x.redMul(ni.x),oi=this.y.redMul(ni.y),ai=this.curve.d.redMul(si).redMul(oi),fi=Zr.redSub(ai),ui=Zr.redAdd(ai),sn=this.x.redAdd(this.y).redMul(ni.x.redAdd(ni.y)).redISub(si).redISub(oi),hn=Xr.redMul(fi).redMul(sn),nn,ln;return this.curve.twisted?(nn=Xr.redMul(ui).redMul(oi.redSub(this.curve._mulA(si))),ln=fi.redMul(ui)):(nn=Xr.redMul(ui).redMul(oi.redSub(si)),ln=this.curve._mulC(fi).redMul(ui)),this.curve.point(hn,nn,ln)},Wr.prototype.add=function(ni){return this.isInfinity()?ni:ni.isInfinity()?this:this.curve.extended?this._extAdd(ni):this._projAdd(ni)},Wr.prototype.mul=function(ni){return this._hasDoubles(ni)?this.curve._fixedNafMul(this,ni):this.curve._wnafMul(this,ni)},Wr.prototype.mulAdd=function(ni,Xr,Zr){return this.curve._wnafMulAdd(1,[this,Xr],[ni,Zr],2,!1)},Wr.prototype.jmulAdd=function(ni,Xr,Zr){return this.curve._wnafMulAdd(1,[this,Xr],[ni,Zr],2,!0)},Wr.prototype.normalize=function(){if(this.zOne)return this;var ni=this.z.redInvm();return this.x=this.x.redMul(ni),this.y=this.y.redMul(ni),this.t&&(this.t=this.t.redMul(ni)),this.z=this.curve.one,this.zOne=!0,this},Wr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Wr.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Wr.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Wr.prototype.eq=function(ni){return this===ni||this.getX().cmp(ni.getX())===0&&this.getY().cmp(ni.getY())===0},Wr.prototype.eqXToP=function(ni){var Xr=ni.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Xr)===0)return!0;for(var Zr=ni.clone(),si=this.curve.redN.redMul(this.z);;){if(Zr.iadd(this.curve.n),Zr.cmp(this.curve.p)>=0)return!1;if(Xr.redIAdd(si),this.x.cmp(Xr)===0)return!0}},Wr.prototype.toP=Wr.prototype.normalize,Wr.prototype.mixedAdd=Wr.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(r){var e=r;e.base=requireBase$1(),e.short=requireShort(),e.mont=requireMont(),e.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var r=requireMinimalisticAssert(),e=inherits_browserExports;utils.inherits=e;function i(t,o){return(t.charCodeAt(o)&64512)!==55296||o<0||o+1>=t.length?!1:(t.charCodeAt(o+1)&64512)===56320}function P(t,o){if(Array.isArray(t))return t.slice();if(!t)return[];var H=[];if(typeof t=="string")if(o){if(o==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),Ne=0;Ne<t.length;Ne+=2)H.push(parseInt(t[Ne]+t[Ne+1],16))}else for(var G=0,Ne=0;Ne<t.length;Ne++){var Le=t.charCodeAt(Ne);Le<128?H[G++]=Le:Le<2048?(H[G++]=Le>>6|192,H[G++]=Le&63|128):i(t,Ne)?(Le=65536+((Le&1023)<<10)+(t.charCodeAt(++Ne)&1023),H[G++]=Le>>18|240,H[G++]=Le>>12&63|128,H[G++]=Le>>6&63|128,H[G++]=Le&63|128):(H[G++]=Le>>12|224,H[G++]=Le>>6&63|128,H[G++]=Le&63|128)}else for(Ne=0;Ne<t.length;Ne++)H[Ne]=t[Ne]|0;return H}utils.toArray=P;function W(t){for(var o="",H=0;H<t.length;H++)o+=ei(t[H].toString(16));return o}utils.toHex=W;function R(t){var o=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return o>>>0}utils.htonl=R;function Wr(t,o){for(var H="",G=0;G<t.length;G++){var Ne=t[G];o==="little"&&(Ne=R(Ne)),H+=ni(Ne.toString(16))}return H}utils.toHex32=Wr;function ei(t){return t.length===1?"0"+t:t}utils.zero2=ei;function ni(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}utils.zero8=ni;function Xr(t,o,H,G){var Ne=H-o;r(Ne%4===0);for(var Le=new Array(Ne/4),ti=0,Ie=o;ti<Le.length;ti++,Ie+=4){var s;G==="big"?s=t[Ie]<<24|t[Ie+1]<<16|t[Ie+2]<<8|t[Ie+3]:s=t[Ie+3]<<24|t[Ie+2]<<16|t[Ie+1]<<8|t[Ie],Le[ti]=s>>>0}return Le}utils.join32=Xr;function Zr(t,o){for(var H=new Array(t.length*4),G=0,Ne=0;G<t.length;G++,Ne+=4){var Le=t[G];o==="big"?(H[Ne]=Le>>>24,H[Ne+1]=Le>>>16&255,H[Ne+2]=Le>>>8&255,H[Ne+3]=Le&255):(H[Ne+3]=Le>>>24,H[Ne+2]=Le>>>16&255,H[Ne+1]=Le>>>8&255,H[Ne]=Le&255)}return H}utils.split32=Zr;function si(t,o){return t>>>o|t<<32-o}utils.rotr32=si;function oi(t,o){return t<<o|t>>>32-o}utils.rotl32=oi;function ai(t,o){return t+o>>>0}utils.sum32=ai;function fi(t,o,H){return t+o+H>>>0}utils.sum32_3=fi;function ui(t,o,H,G){return t+o+H+G>>>0}utils.sum32_4=ui;function sn(t,o,H,G,Ne){return t+o+H+G+Ne>>>0}utils.sum32_5=sn;function hn(t,o,H,G){var Ne=t[o],Le=t[o+1],ti=G+Le>>>0,Ie=(ti<G?1:0)+H+Ne;t[o]=Ie>>>0,t[o+1]=ti}utils.sum64=hn;function nn(t,o,H,G){var Ne=o+G>>>0,Le=(Ne<o?1:0)+t+H;return Le>>>0}utils.sum64_hi=nn;function ln(t,o,H,G){var Ne=o+G;return Ne>>>0}utils.sum64_lo=ln;function on(t,o,H,G,Ne,Le,ti,Ie){var s=0,Y=o;Y=Y+G>>>0,s+=Y<o?1:0,Y=Y+Le>>>0,s+=Y<Le?1:0,Y=Y+Ie>>>0,s+=Y<Ie?1:0;var li=t+H+Ne+ti+s;return li>>>0}utils.sum64_4_hi=on;function vn(t,o,H,G,Ne,Le,ti,Ie){var s=o+G+Le+Ie;return s>>>0}utils.sum64_4_lo=vn;function Mn(t,o,H,G,Ne,Le,ti,Ie,s,Y){var li=0,un=o;un=un+G>>>0,li+=un<o?1:0,un=un+Le>>>0,li+=un<Le?1:0,un=un+Ie>>>0,li+=un<Ie?1:0,un=un+Y>>>0,li+=un<Y?1:0;var pn=t+H+Ne+ti+s+li;return pn>>>0}utils.sum64_5_hi=Mn;function mi(t,o,H,G,Ne,Le,ti,Ie,s,Y){var li=o+G+Le+Ie+Y;return li>>>0}utils.sum64_5_lo=mi;function mn(t,o,H){var G=o<<32-H|t>>>H;return G>>>0}utils.rotr64_hi=mn;function Bn(t,o,H){var G=t<<32-H|o>>>H;return G>>>0}utils.rotr64_lo=Bn;function ko(t,o,H){return t>>>H}utils.shr64_hi=ko;function ii(t,o,H){var G=t<<32-H|o>>>H;return G>>>0}return utils.shr64_lo=ii,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var r=requireUtils(),e=requireMinimalisticAssert();function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=i,i.prototype.update=function(W,R){if(W=r.toArray(W,R),this.pending?this.pending=this.pending.concat(W):this.pending=W,this.pendingTotal+=W.length,this.pending.length>=this._delta8){W=this.pending;var Wr=W.length%this._delta8;this.pending=W.slice(W.length-Wr,W.length),this.pending.length===0&&(this.pending=null),W=r.join32(W,0,W.length-Wr,this.endian);for(var ei=0;ei<W.length;ei+=this._delta32)this._update(W,ei,ei+this._delta32)}return this},i.prototype.digest=function(W){return this.update(this._pad()),e(this.pending===null),this._digest(W)},i.prototype._pad=function(){var W=this.pendingTotal,R=this._delta8,Wr=R-(W+this.padLength)%R,ei=new Array(Wr+this.padLength);ei[0]=128;for(var ni=1;ni<Wr;ni++)ei[ni]=0;if(W<<=3,this.endian==="big"){for(var Xr=8;Xr<this.padLength;Xr++)ei[ni++]=0;ei[ni++]=0,ei[ni++]=0,ei[ni++]=0,ei[ni++]=0,ei[ni++]=W>>>24&255,ei[ni++]=W>>>16&255,ei[ni++]=W>>>8&255,ei[ni++]=W&255}else for(ei[ni++]=W&255,ei[ni++]=W>>>8&255,ei[ni++]=W>>>16&255,ei[ni++]=W>>>24&255,ei[ni++]=0,ei[ni++]=0,ei[ni++]=0,ei[ni++]=0,Xr=8;Xr<this.padLength;Xr++)ei[ni++]=0;return ei},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var r=requireUtils(),e=r.rotr32;function i(Zr,si,oi,ai){if(Zr===0)return P(si,oi,ai);if(Zr===1||Zr===3)return R(si,oi,ai);if(Zr===2)return W(si,oi,ai)}common.ft_1=i;function P(Zr,si,oi){return Zr&si^~Zr&oi}common.ch32=P;function W(Zr,si,oi){return Zr&si^Zr&oi^si&oi}common.maj32=W;function R(Zr,si,oi){return Zr^si^oi}common.p32=R;function Wr(Zr){return e(Zr,2)^e(Zr,13)^e(Zr,22)}common.s0_256=Wr;function ei(Zr){return e(Zr,6)^e(Zr,11)^e(Zr,25)}common.s1_256=ei;function ni(Zr){return e(Zr,7)^e(Zr,18)^Zr>>>3}common.g0_256=ni;function Xr(Zr){return e(Zr,17)^e(Zr,19)^Zr>>>10}return common.g1_256=Xr,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var r=requireUtils(),e=requireCommon$1(),i=requireCommon(),P=r.rotl32,W=r.sum32,R=r.sum32_5,Wr=i.ft_1,ei=e.BlockHash,ni=[1518500249,1859775393,2400959708,3395469782];function Xr(){if(!(this instanceof Xr))return new Xr;ei.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(Xr,ei),_1=Xr,Xr.blockSize=512,Xr.outSize=160,Xr.hmacStrength=80,Xr.padLength=64,Xr.prototype._update=function(si,oi){for(var ai=this.W,fi=0;fi<16;fi++)ai[fi]=si[oi+fi];for(;fi<ai.length;fi++)ai[fi]=P(ai[fi-3]^ai[fi-8]^ai[fi-14]^ai[fi-16],1);var ui=this.h[0],sn=this.h[1],hn=this.h[2],nn=this.h[3],ln=this.h[4];for(fi=0;fi<ai.length;fi++){var on=~~(fi/20),vn=R(P(ui,5),Wr(on,sn,hn,nn),ln,ai[fi],ni[on]);ln=nn,nn=hn,hn=P(sn,30),sn=ui,ui=vn}this.h[0]=W(this.h[0],ui),this.h[1]=W(this.h[1],sn),this.h[2]=W(this.h[2],hn),this.h[3]=W(this.h[3],nn),this.h[4]=W(this.h[4],ln)},Xr.prototype._digest=function(si){return si==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var r=requireUtils(),e=requireCommon$1(),i=requireCommon(),P=requireMinimalisticAssert(),W=r.sum32,R=r.sum32_4,Wr=r.sum32_5,ei=i.ch32,ni=i.maj32,Xr=i.s0_256,Zr=i.s1_256,si=i.g0_256,oi=i.g1_256,ai=e.BlockHash,fi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ui(){if(!(this instanceof ui))return new ui;ai.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=fi,this.W=new Array(64)}return r.inherits(ui,ai),_256=ui,ui.blockSize=512,ui.outSize=256,ui.hmacStrength=192,ui.padLength=64,ui.prototype._update=function(hn,nn){for(var ln=this.W,on=0;on<16;on++)ln[on]=hn[nn+on];for(;on<ln.length;on++)ln[on]=R(oi(ln[on-2]),ln[on-7],si(ln[on-15]),ln[on-16]);var vn=this.h[0],Mn=this.h[1],mi=this.h[2],mn=this.h[3],Bn=this.h[4],ko=this.h[5],ii=this.h[6],t=this.h[7];for(P(this.k.length===ln.length),on=0;on<ln.length;on++){var o=Wr(t,Zr(Bn),ei(Bn,ko,ii),this.k[on],ln[on]),H=W(Xr(vn),ni(vn,Mn,mi));t=ii,ii=ko,ko=Bn,Bn=W(mn,o),mn=mi,mi=Mn,Mn=vn,vn=W(o,H)}this.h[0]=W(this.h[0],vn),this.h[1]=W(this.h[1],Mn),this.h[2]=W(this.h[2],mi),this.h[3]=W(this.h[3],mn),this.h[4]=W(this.h[4],Bn),this.h[5]=W(this.h[5],ko),this.h[6]=W(this.h[6],ii),this.h[7]=W(this.h[7],t)},ui.prototype._digest=function(hn){return hn==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var r=requireUtils(),e=require_256();function i(){if(!(this instanceof i))return new i;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(i,e),_224=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(W){return W==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var r=requireUtils(),e=requireCommon$1(),i=requireMinimalisticAssert(),P=r.rotr64_hi,W=r.rotr64_lo,R=r.shr64_hi,Wr=r.shr64_lo,ei=r.sum64,ni=r.sum64_hi,Xr=r.sum64_lo,Zr=r.sum64_4_hi,si=r.sum64_4_lo,oi=r.sum64_5_hi,ai=r.sum64_5_lo,fi=e.BlockHash,ui=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function sn(){if(!(this instanceof sn))return new sn;fi.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ui,this.W=new Array(160)}r.inherits(sn,fi),_512=sn,sn.blockSize=1024,sn.outSize=512,sn.hmacStrength=192,sn.padLength=128,sn.prototype._prepareBlock=function(H,G){for(var Ne=this.W,Le=0;Le<32;Le++)Ne[Le]=H[G+Le];for(;Le<Ne.length;Le+=2){var ti=ii(Ne[Le-4],Ne[Le-3]),Ie=t(Ne[Le-4],Ne[Le-3]),s=Ne[Le-14],Y=Ne[Le-13],li=Bn(Ne[Le-30],Ne[Le-29]),un=ko(Ne[Le-30],Ne[Le-29]),pn=Ne[Le-32],di=Ne[Le-31];Ne[Le]=Zr(ti,Ie,s,Y,li,un,pn,di),Ne[Le+1]=si(ti,Ie,s,Y,li,un,pn,di)}},sn.prototype._update=function(H,G){this._prepareBlock(H,G);var Ne=this.W,Le=this.h[0],ti=this.h[1],Ie=this.h[2],s=this.h[3],Y=this.h[4],li=this.h[5],un=this.h[6],pn=this.h[7],di=this.h[8],An=this.h[9],$i=this.h[10],fn=this.h[11],cn=this.h[12],ci=this.h[13],Rn=this.h[14],Zn=this.h[15];i(this.k.length===Ne.length);for(var ho=0;ho<Ne.length;ho+=2){var qh=Rn,Lo=Zn,jo=mi(di,An),jh=mn(di,An),_h=hn(di,An,$i,fn,cn),tf=nn(di,An,$i,fn,cn,ci),zh=this.k[ho],Ko=this.k[ho+1],Uo=Ne[ho],Uh=Ne[ho+1],Vo=oi(qh,Lo,jo,jh,_h,tf,zh,Ko,Uo,Uh),qo=ai(qh,Lo,jo,jh,_h,tf,zh,Ko,Uo,Uh);qh=vn(Le,ti),Lo=Mn(Le,ti),jo=ln(Le,ti,Ie,s,Y),jh=on(Le,ti,Ie,s,Y,li);var Fh=ni(qh,Lo,jo,jh),Zo=Xr(qh,Lo,jo,jh);Rn=cn,Zn=ci,cn=$i,ci=fn,$i=di,fn=An,di=ni(un,pn,Vo,qo),An=Xr(pn,pn,Vo,qo),un=Y,pn=li,Y=Ie,li=s,Ie=Le,s=ti,Le=ni(Vo,qo,Fh,Zo),ti=Xr(Vo,qo,Fh,Zo)}ei(this.h,0,Le,ti),ei(this.h,2,Ie,s),ei(this.h,4,Y,li),ei(this.h,6,un,pn),ei(this.h,8,di,An),ei(this.h,10,$i,fn),ei(this.h,12,cn,ci),ei(this.h,14,Rn,Zn)},sn.prototype._digest=function(H){return H==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function hn(o,H,G,Ne,Le){var ti=o&G^~o&Le;return ti<0&&(ti+=4294967296),ti}function nn(o,H,G,Ne,Le,ti){var Ie=H&Ne^~H&ti;return Ie<0&&(Ie+=4294967296),Ie}function ln(o,H,G,Ne,Le){var ti=o&G^o&Le^G&Le;return ti<0&&(ti+=4294967296),ti}function on(o,H,G,Ne,Le,ti){var Ie=H&Ne^H&ti^Ne&ti;return Ie<0&&(Ie+=4294967296),Ie}function vn(o,H){var G=P(o,H,28),Ne=P(H,o,2),Le=P(H,o,7),ti=G^Ne^Le;return ti<0&&(ti+=4294967296),ti}function Mn(o,H){var G=W(o,H,28),Ne=W(H,o,2),Le=W(H,o,7),ti=G^Ne^Le;return ti<0&&(ti+=4294967296),ti}function mi(o,H){var G=P(o,H,14),Ne=P(o,H,18),Le=P(H,o,9),ti=G^Ne^Le;return ti<0&&(ti+=4294967296),ti}function mn(o,H){var G=W(o,H,14),Ne=W(o,H,18),Le=W(H,o,9),ti=G^Ne^Le;return ti<0&&(ti+=4294967296),ti}function Bn(o,H){var G=P(o,H,1),Ne=P(o,H,8),Le=R(o,H,7),ti=G^Ne^Le;return ti<0&&(ti+=4294967296),ti}function ko(o,H){var G=W(o,H,1),Ne=W(o,H,8),Le=Wr(o,H,7),ti=G^Ne^Le;return ti<0&&(ti+=4294967296),ti}function ii(o,H){var G=P(o,H,19),Ne=P(H,o,29),Le=R(o,H,6),ti=G^Ne^Le;return ti<0&&(ti+=4294967296),ti}function t(o,H){var G=W(o,H,19),Ne=W(H,o,29),Le=Wr(o,H,6),ti=G^Ne^Le;return ti<0&&(ti+=4294967296),ti}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var r=requireUtils(),e=require_512();function i(){if(!(this instanceof i))return new i;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(i,e),_384=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(W){return W==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var r=requireUtils(),e=requireCommon$1(),i=r.rotl32,P=r.sum32,W=r.sum32_3,R=r.sum32_4,Wr=e.BlockHash;function ei(){if(!(this instanceof ei))return new ei;Wr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(ei,Wr),ripemd.ripemd160=ei,ei.blockSize=512,ei.outSize=160,ei.hmacStrength=192,ei.padLength=64,ei.prototype._update=function(sn,hn){for(var nn=this.h[0],ln=this.h[1],on=this.h[2],vn=this.h[3],Mn=this.h[4],mi=nn,mn=ln,Bn=on,ko=vn,ii=Mn,t=0;t<80;t++){var o=P(i(R(nn,ni(t,ln,on,vn),sn[si[t]+hn],Xr(t)),ai[t]),Mn);nn=Mn,Mn=vn,vn=i(on,10),on=ln,ln=o,o=P(i(R(mi,ni(79-t,mn,Bn,ko),sn[oi[t]+hn],Zr(t)),fi[t]),ii),mi=ii,ii=ko,ko=i(Bn,10),Bn=mn,mn=o}o=W(this.h[1],on,ko),this.h[1]=W(this.h[2],vn,ii),this.h[2]=W(this.h[3],Mn,mi),this.h[3]=W(this.h[4],nn,mn),this.h[4]=W(this.h[0],ln,Bn),this.h[0]=o},ei.prototype._digest=function(sn){return sn==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function ni(ui,sn,hn,nn){return ui<=15?sn^hn^nn:ui<=31?sn&hn|~sn&nn:ui<=47?(sn|~hn)^nn:ui<=63?sn&nn|hn&~nn:sn^(hn|~nn)}function Xr(ui){return ui<=15?0:ui<=31?1518500249:ui<=47?1859775393:ui<=63?2400959708:2840853838}function Zr(ui){return ui<=15?1352829926:ui<=31?1548603684:ui<=47?1836072691:ui<=63?2053994217:0}var si=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],oi=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ai=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],fi=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var r=requireUtils(),e=requireMinimalisticAssert();function i(P,W,R){if(!(this instanceof i))return new i(P,W,R);this.Hash=P,this.blockSize=P.blockSize/8,this.outSize=P.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(W,R))}return hmac=i,i.prototype._init=function(W){W.length>this.blockSize&&(W=new this.Hash().update(W).digest()),e(W.length<=this.blockSize);for(var R=W.length;R<this.blockSize;R++)W.push(0);for(R=0;R<W.length;R++)W[R]^=54;for(this.inner=new this.Hash().update(W),R=0;R<W.length;R++)W[R]^=106;this.outer=new this.Hash().update(W)},i.prototype.update=function(W,R){return this.inner.update(W,R),this},i.prototype.digest=function(W){return this.outer.update(this.inner.digest()),this.outer.digest(W)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(r){var e=r;e.utils=requireUtils(),e.common=requireCommon$1(),e.sha=requireSha(),e.ripemd=requireRipemd(),e.hmac=requireHmac(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(r){var e=r,i=requireHash(),P=requireCurve(),W=requireUtils$1(),R=W.assert;function Wr(Xr){Xr.type==="short"?this.curve=new P.short(Xr):Xr.type==="edwards"?this.curve=new P.edwards(Xr):this.curve=new P.mont(Xr),this.g=this.curve.g,this.n=this.curve.n,this.hash=Xr.hash,R(this.g.validate(),"Invalid curve"),R(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=Wr;function ei(Xr,Zr){Object.defineProperty(e,Xr,{configurable:!0,enumerable:!0,get:function(){var si=new Wr(Zr);return Object.defineProperty(e,Xr,{configurable:!0,enumerable:!0,value:si}),si}})}ei("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ei("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ei("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ei("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ei("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ei("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),ei("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var ni;try{ni=requireSecp256k1()}catch{ni=void 0}ei("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ni]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var r=requireHash(),e=requireUtils$2(),i=requireMinimalisticAssert();function P(W){if(!(this instanceof P))return new P(W);this.hash=W.hash,this.predResist=!!W.predResist,this.outLen=this.hash.outSize,this.minEntropy=W.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var R=e.toArray(W.entropy,W.entropyEnc||"hex"),Wr=e.toArray(W.nonce,W.nonceEnc||"hex"),ei=e.toArray(W.pers,W.persEnc||"hex");i(R.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(R,Wr,ei)}return hmacDrbg=P,P.prototype._init=function(R,Wr,ei){var ni=R.concat(Wr).concat(ei);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Xr=0;Xr<this.V.length;Xr++)this.K[Xr]=0,this.V[Xr]=1;this._update(ni),this._reseed=1,this.reseedInterval=281474976710656},P.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},P.prototype._update=function(R){var Wr=this._hmac().update(this.V).update([0]);R&&(Wr=Wr.update(R)),this.K=Wr.digest(),this.V=this._hmac().update(this.V).digest(),R&&(this.K=this._hmac().update(this.V).update([1]).update(R).digest(),this.V=this._hmac().update(this.V).digest())},P.prototype.reseed=function(R,Wr,ei,ni){typeof Wr!="string"&&(ni=ei,ei=Wr,Wr=null),R=e.toArray(R,Wr),ei=e.toArray(ei,ni),i(R.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(R.concat(ei||[])),this._reseed=1},P.prototype.generate=function(R,Wr,ei,ni){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof Wr!="string"&&(ni=ei,ei=Wr,Wr=null),ei&&(ei=e.toArray(ei,ni||"hex"),this._update(ei));for(var Xr=[];Xr.length<R;)this.V=this._hmac().update(this.V).digest(),Xr=Xr.concat(this.V);var Zr=Xr.slice(0,R);return this._update(ei),this._reseed++,e.encode(Zr,Wr)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var r=requireBn$3(),e=requireUtils$1(),i=e.assert;function P(W,R){this.ec=W,this.priv=null,this.pub=null,R.priv&&this._importPrivate(R.priv,R.privEnc),R.pub&&this._importPublic(R.pub,R.pubEnc)}return key$1=P,P.fromPublic=function(R,Wr,ei){return Wr instanceof P?Wr:new P(R,{pub:Wr,pubEnc:ei})},P.fromPrivate=function(R,Wr,ei){return Wr instanceof P?Wr:new P(R,{priv:Wr,privEnc:ei})},P.prototype.validate=function(){var R=this.getPublic();return R.isInfinity()?{result:!1,reason:"Invalid public key"}:R.validate()?R.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},P.prototype.getPublic=function(R,Wr){return typeof R=="string"&&(Wr=R,R=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),Wr?this.pub.encode(Wr,R):this.pub},P.prototype.getPrivate=function(R){return R==="hex"?this.priv.toString(16,2):this.priv},P.prototype._importPrivate=function(R,Wr){this.priv=new r(R,Wr||16),this.priv=this.priv.umod(this.ec.curve.n)},P.prototype._importPublic=function(R,Wr){if(R.x||R.y){this.ec.curve.type==="mont"?i(R.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&i(R.x&&R.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(R.x,R.y);return}this.pub=this.ec.curve.decodePoint(R,Wr)},P.prototype.derive=function(R){return R.validate()||i(R.validate(),"public point not validated"),R.mul(this.priv).getX()},P.prototype.sign=function(R,Wr,ei){return this.ec.sign(R,this,Wr,ei)},P.prototype.verify=function(R,Wr){return this.ec.verify(R,Wr,this)},P.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var r=requireBn$3(),e=requireUtils$1(),i=e.assert;function P(ni,Xr){if(ni instanceof P)return ni;this._importDER(ni,Xr)||(i(ni.r&&ni.s,"Signature without r or s"),this.r=new r(ni.r,16),this.s=new r(ni.s,16),ni.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=ni.recoveryParam)}signature$1=P;function W(){this.place=0}function R(ni,Xr){var Zr=ni[Xr.place++];if(!(Zr&128))return Zr;var si=Zr&15;if(si===0||si>4)return!1;for(var oi=0,ai=0,fi=Xr.place;ai<si;ai++,fi++)oi<<=8,oi|=ni[fi],oi>>>=0;return oi<=127?!1:(Xr.place=fi,oi)}function Wr(ni){for(var Xr=0,Zr=ni.length-1;!ni[Xr]&&!(ni[Xr+1]&128)&&Xr<Zr;)Xr++;return Xr===0?ni:ni.slice(Xr)}P.prototype._importDER=function(Xr,Zr){Xr=e.toArray(Xr,Zr);var si=new W;if(Xr[si.place++]!==48)return!1;var oi=R(Xr,si);if(oi===!1||oi+si.place!==Xr.length||Xr[si.place++]!==2)return!1;var ai=R(Xr,si);if(ai===!1)return!1;var fi=Xr.slice(si.place,ai+si.place);if(si.place+=ai,Xr[si.place++]!==2)return!1;var ui=R(Xr,si);if(ui===!1||Xr.length!==ui+si.place)return!1;var sn=Xr.slice(si.place,ui+si.place);if(fi[0]===0)if(fi[1]&128)fi=fi.slice(1);else return!1;if(sn[0]===0)if(sn[1]&128)sn=sn.slice(1);else return!1;return this.r=new r(fi),this.s=new r(sn),this.recoveryParam=null,!0};function ei(ni,Xr){if(Xr<128){ni.push(Xr);return}var Zr=1+(Math.log(Xr)/Math.LN2>>>3);for(ni.push(Zr|128);--Zr;)ni.push(Xr>>>(Zr<<3)&255);ni.push(Xr)}return P.prototype.toDER=function(Xr){var Zr=this.r.toArray(),si=this.s.toArray();for(Zr[0]&128&&(Zr=[0].concat(Zr)),si[0]&128&&(si=[0].concat(si)),Zr=Wr(Zr),si=Wr(si);!si[0]&&!(si[1]&128);)si=si.slice(1);var oi=[2];ei(oi,Zr.length),oi=oi.concat(Zr),oi.push(2),ei(oi,si.length);var ai=oi.concat(si),fi=[48];return ei(fi,ai.length),fi=fi.concat(ai),e.encode(fi,Xr)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var r=requireBn$3(),e=requireHmacDrbg(),i=requireUtils$1(),P=requireCurves(),W=requireBrorand(),R=i.assert,Wr=requireKey$1(),ei=requireSignature$1();function ni(Xr){if(!(this instanceof ni))return new ni(Xr);typeof Xr=="string"&&(R(Object.prototype.hasOwnProperty.call(P,Xr),"Unknown curve "+Xr),Xr=P[Xr]),Xr instanceof P.PresetCurve&&(Xr={curve:Xr}),this.curve=Xr.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Xr.curve.g,this.g.precompute(Xr.curve.n.bitLength()+1),this.hash=Xr.hash||Xr.curve.hash}return ec=ni,ni.prototype.keyPair=function(Zr){return new Wr(this,Zr)},ni.prototype.keyFromPrivate=function(Zr,si){return Wr.fromPrivate(this,Zr,si)},ni.prototype.keyFromPublic=function(Zr,si){return Wr.fromPublic(this,Zr,si)},ni.prototype.genKeyPair=function(Zr){Zr||(Zr={});for(var si=new e({hash:this.hash,pers:Zr.pers,persEnc:Zr.persEnc||"utf8",entropy:Zr.entropy||W(this.hash.hmacStrength),entropyEnc:Zr.entropy&&Zr.entropyEnc||"utf8",nonce:this.n.toArray()}),oi=this.n.byteLength(),ai=this.n.sub(new r(2));;){var fi=new r(si.generate(oi));if(!(fi.cmp(ai)>0))return fi.iaddn(1),this.keyFromPrivate(fi)}},ni.prototype._truncateToN=function(Zr,si){var oi=Zr.byteLength()*8-this.n.bitLength();return oi>0&&(Zr=Zr.ushrn(oi)),!si&&Zr.cmp(this.n)>=0?Zr.sub(this.n):Zr},ni.prototype.sign=function(Zr,si,oi,ai){typeof oi=="object"&&(ai=oi,oi=null),ai||(ai={}),si=this.keyFromPrivate(si,oi),Zr=this._truncateToN(new r(Zr,16));for(var fi=this.n.byteLength(),ui=si.getPrivate().toArray("be",fi),sn=Zr.toArray("be",fi),hn=new e({hash:this.hash,entropy:ui,nonce:sn,pers:ai.pers,persEnc:ai.persEnc||"utf8"}),nn=this.n.sub(new r(1)),ln=0;;ln++){var on=ai.k?ai.k(ln):new r(hn.generate(this.n.byteLength()));if(on=this._truncateToN(on,!0),!(on.cmpn(1)<=0||on.cmp(nn)>=0)){var vn=this.g.mul(on);if(!vn.isInfinity()){var Mn=vn.getX(),mi=Mn.umod(this.n);if(mi.cmpn(0)!==0){var mn=on.invm(this.n).mul(mi.mul(si.getPrivate()).iadd(Zr));if(mn=mn.umod(this.n),mn.cmpn(0)!==0){var Bn=(vn.getY().isOdd()?1:0)|(Mn.cmp(mi)!==0?2:0);return ai.canonical&&mn.cmp(this.nh)>0&&(mn=this.n.sub(mn),Bn^=1),new ei({r:mi,s:mn,recoveryParam:Bn})}}}}}},ni.prototype.verify=function(Zr,si,oi,ai){Zr=this._truncateToN(new r(Zr,16)),oi=this.keyFromPublic(oi,ai),si=new ei(si,"hex");var fi=si.r,ui=si.s;if(fi.cmpn(1)<0||fi.cmp(this.n)>=0||ui.cmpn(1)<0||ui.cmp(this.n)>=0)return!1;var sn=ui.invm(this.n),hn=sn.mul(Zr).umod(this.n),nn=sn.mul(fi).umod(this.n),ln;return this.curve._maxwellTrick?(ln=this.g.jmulAdd(hn,oi.getPublic(),nn),ln.isInfinity()?!1:ln.eqXToP(fi)):(ln=this.g.mulAdd(hn,oi.getPublic(),nn),ln.isInfinity()?!1:ln.getX().umod(this.n).cmp(fi)===0)},ni.prototype.recoverPubKey=function(Xr,Zr,si,oi){R((3&si)===si,"The recovery param is more than two bits"),Zr=new ei(Zr,oi);var ai=this.n,fi=new r(Xr),ui=Zr.r,sn=Zr.s,hn=si&1,nn=si>>1;if(ui.cmp(this.curve.p.umod(this.curve.n))>=0&&nn)throw new Error("Unable to find sencond key candinate");nn?ui=this.curve.pointFromX(ui.add(this.curve.n),hn):ui=this.curve.pointFromX(ui,hn);var ln=Zr.r.invm(ai),on=ai.sub(fi).mul(ln).umod(ai),vn=sn.mul(ln).umod(ai);return this.g.mulAdd(on,ui,vn)},ni.prototype.getKeyRecoveryParam=function(Xr,Zr,si,oi){if(Zr=new ei(Zr,oi),Zr.recoveryParam!==null)return Zr.recoveryParam;for(var ai=0;ai<4;ai++){var fi;try{fi=this.recoverPubKey(Xr,Zr,ai)}catch{continue}if(fi.eq(si))return ai}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var r=requireUtils$1(),e=r.assert,i=r.parseBytes,P=r.cachedProperty;function W(R,Wr){this.eddsa=R,this._secret=i(Wr.secret),R.isPoint(Wr.pub)?this._pub=Wr.pub:this._pubBytes=i(Wr.pub)}return W.fromPublic=function(Wr,ei){return ei instanceof W?ei:new W(Wr,{pub:ei})},W.fromSecret=function(Wr,ei){return ei instanceof W?ei:new W(Wr,{secret:ei})},W.prototype.secret=function(){return this._secret},P(W,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),P(W,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),P(W,"privBytes",function(){var Wr=this.eddsa,ei=this.hash(),ni=Wr.encodingLength-1,Xr=ei.slice(0,Wr.encodingLength);return Xr[0]&=248,Xr[ni]&=127,Xr[ni]|=64,Xr}),P(W,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),P(W,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),P(W,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),W.prototype.sign=function(Wr){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(Wr,this)},W.prototype.verify=function(Wr,ei){return this.eddsa.verify(Wr,ei,this)},W.prototype.getSecret=function(Wr){return e(this._secret,"KeyPair is public only"),r.encode(this.secret(),Wr)},W.prototype.getPublic=function(Wr){return r.encode(this.pubBytes(),Wr)},key=W,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var r=requireBn$3(),e=requireUtils$1(),i=e.assert,P=e.cachedProperty,W=e.parseBytes;function R(Wr,ei){this.eddsa=Wr,typeof ei!="object"&&(ei=W(ei)),Array.isArray(ei)&&(ei={R:ei.slice(0,Wr.encodingLength),S:ei.slice(Wr.encodingLength)}),i(ei.R&&ei.S,"Signature without R or S"),Wr.isPoint(ei.R)&&(this._R=ei.R),ei.S instanceof r&&(this._S=ei.S),this._Rencoded=Array.isArray(ei.R)?ei.R:ei.Rencoded,this._Sencoded=Array.isArray(ei.S)?ei.S:ei.Sencoded}return P(R,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),P(R,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),P(R,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),P(R,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),R.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},R.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},signature=R,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var r=requireHash(),e=requireCurves(),i=requireUtils$1(),P=i.assert,W=i.parseBytes,R=requireKey(),Wr=requireSignature();function ei(ni){if(P(ni==="ed25519","only tested with ed25519 so far"),!(this instanceof ei))return new ei(ni);ni=e[ni].curve,this.curve=ni,this.g=ni.g,this.g.precompute(ni.n.bitLength()+1),this.pointClass=ni.point().constructor,this.encodingLength=Math.ceil(ni.n.bitLength()/8),this.hash=r.sha512}return eddsa=ei,ei.prototype.sign=function(Xr,Zr){Xr=W(Xr);var si=this.keyFromSecret(Zr),oi=this.hashInt(si.messagePrefix(),Xr),ai=this.g.mul(oi),fi=this.encodePoint(ai),ui=this.hashInt(fi,si.pubBytes(),Xr).mul(si.priv()),sn=oi.add(ui).umod(this.curve.n);return this.makeSignature({R:ai,S:sn,Rencoded:fi})},ei.prototype.verify=function(Xr,Zr,si){Xr=W(Xr),Zr=this.makeSignature(Zr);var oi=this.keyFromPublic(si),ai=this.hashInt(Zr.Rencoded(),oi.pubBytes(),Xr),fi=this.g.mul(Zr.S()),ui=Zr.R().add(oi.pub().mul(ai));return ui.eq(fi)},ei.prototype.hashInt=function(){for(var Xr=this.hash(),Zr=0;Zr<arguments.length;Zr++)Xr.update(arguments[Zr]);return i.intFromLE(Xr.digest()).umod(this.curve.n)},ei.prototype.keyFromPublic=function(Xr){return R.fromPublic(this,Xr)},ei.prototype.keyFromSecret=function(Xr){return R.fromSecret(this,Xr)},ei.prototype.makeSignature=function(Xr){return Xr instanceof Wr?Xr:new Wr(this,Xr)},ei.prototype.encodePoint=function(Xr){var Zr=Xr.getY().toArray("le",this.encodingLength);return Zr[this.encodingLength-1]|=Xr.getX().isOdd()?128:0,Zr},ei.prototype.decodePoint=function(Xr){Xr=i.parseBytes(Xr);var Zr=Xr.length-1,si=Xr.slice(0,Zr).concat(Xr[Zr]&-129),oi=(Xr[Zr]&128)!==0,ai=i.intFromLE(si);return this.curve.pointFromY(ai,oi)},ei.prototype.encodeInt=function(Xr){return Xr.toArray("le",this.encodingLength)},ei.prototype.decodeInt=function(Xr){return i.intFromLE(Xr)},ei.prototype.isPoint=function(Xr){return Xr instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(r){var e=r;e.version=require$$0$4.version,e.utils=requireUtils$1(),e.rand=requireBrorand(),e.curve=requireCurve(),e.curves=requireCurves(),e.ec=requireEc(),e.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(r){(function(e,i){function P(ii,t){if(!ii)throw new Error(t||"Assertion failed")}function W(ii,t){ii.super_=t;var o=function(){};o.prototype=t.prototype,ii.prototype=new o,ii.prototype.constructor=ii}function R(ii,t,o){if(R.isBN(ii))return ii;this.negative=0,this.words=null,this.length=0,this.red=null,ii!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(ii||0,t||10,o||"be"))}typeof e=="object"?e.exports=R:i.BN=R,R.BN=R,R.wordSize=26;var Wr;try{typeof window<"u"&&typeof window.Buffer<"u"?Wr=window.Buffer:Wr=require$$0$6.Buffer}catch{}R.isBN=function(t){return t instanceof R?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===R.wordSize&&Array.isArray(t.words)},R.max=function(t,o){return t.cmp(o)>0?t:o},R.min=function(t,o){return t.cmp(o)<0?t:o},R.prototype._init=function(t,o,H){if(typeof t=="number")return this._initNumber(t,o,H);if(typeof t=="object")return this._initArray(t,o,H);o==="hex"&&(o=16),P(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var G=0;t[0]==="-"&&(G++,this.negative=1),G<t.length&&(o===16?this._parseHex(t,G,H):(this._parseBase(t,o,G),H==="le"&&this._initArray(this.toArray(),o,H)))},R.prototype._initNumber=function(t,o,H){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(P(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),H==="le"&&this._initArray(this.toArray(),o,H)},R.prototype._initArray=function(t,o,H){if(P(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne,Le,ti=0;if(H==="be")for(G=t.length-1,Ne=0;G>=0;G-=3)Le=t[G]|t[G-1]<<8|t[G-2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);else if(H==="le")for(G=0,Ne=0;G<t.length;G+=3)Le=t[G]|t[G+1]<<8|t[G+2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);return this.strip()};function ei(ii,t){var o=ii.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function ni(ii,t,o){var H=ei(ii,o);return o-1>=t&&(H|=ei(ii,o-1)<<4),H}R.prototype._parseHex=function(t,o,H){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne=0,Le=0,ti;if(H==="be")for(G=t.length-1;G>=o;G-=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8;else{var Ie=t.length-o;for(G=Ie%2===0?o+1:o;G<t.length;G+=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8}this.strip()};function Xr(ii,t,o,H){for(var G=0,Ne=Math.min(ii.length,o),Le=t;Le<Ne;Le++){var ti=ii.charCodeAt(Le)-48;G*=H,ti>=49?G+=ti-49+10:ti>=17?G+=ti-17+10:G+=ti}return G}R.prototype._parseBase=function(t,o,H){this.words=[0],this.length=1;for(var G=0,Ne=1;Ne<=67108863;Ne*=o)G++;G--,Ne=Ne/o|0;for(var Le=t.length-H,ti=Le%G,Ie=Math.min(Le,Le-ti)+H,s=0,Y=H;Y<Ie;Y+=G)s=Xr(t,Y,Y+G,o),this.imuln(Ne),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(ti!==0){var li=1;for(s=Xr(t,Y,t.length,o),Y=0;Y<ti;Y++)li*=o;this.imuln(li),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},R.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},R.prototype.clone=function(){var t=new R(null);return this.copy(t),t},R.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},R.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},R.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},R.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Zr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],si=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],oi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];R.prototype.toString=function(t,o){t=t||10,o=o|0||1;var H;if(t===16||t==="hex"){H="";for(var G=0,Ne=0,Le=0;Le<this.length;Le++){var ti=this.words[Le],Ie=((ti<<G|Ne)&16777215).toString(16);Ne=ti>>>24-G&16777215,Ne!==0||Le!==this.length-1?H=Zr[6-Ie.length]+Ie+H:H=Ie+H,G+=2,G>=26&&(G-=26,Le--)}for(Ne!==0&&(H=Ne.toString(16)+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}if(t===(t|0)&&t>=2&&t<=36){var s=si[t],Y=oi[t];H="";var li=this.clone();for(li.negative=0;!li.isZero();){var un=li.modn(Y).toString(t);li=li.idivn(Y),li.isZero()?H=un+H:H=Zr[s-un.length]+un+H}for(this.isZero()&&(H="0"+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}P(!1,"Base should be between 2 and 36")},R.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},R.prototype.toJSON=function(){return this.toString(16)},R.prototype.toBuffer=function(t,o){return P(typeof Wr<"u"),this.toArrayLike(Wr,t,o)},R.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},R.prototype.toArrayLike=function(t,o,H){var G=this.byteLength(),Ne=H||Math.max(1,G);P(G<=Ne,"byte array longer than desired length"),P(Ne>0,"Requested array length <= 0"),this.strip();var Le=o==="le",ti=new t(Ne),Ie,s,Y=this.clone();if(Le){for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[s]=Ie;for(;s<Ne;s++)ti[s]=0}else{for(s=0;s<Ne-G;s++)ti[s]=0;for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[Ne-s-1]=Ie}return ti},Math.clz32?R.prototype._countBits=function(t){return 32-Math.clz32(t)}:R.prototype._countBits=function(t){var o=t,H=0;return o>=4096&&(H+=13,o>>>=13),o>=64&&(H+=7,o>>>=7),o>=8&&(H+=4,o>>>=4),o>=2&&(H+=2,o>>>=2),H+o},R.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,H=0;return o&8191||(H+=13,o>>>=13),o&127||(H+=7,o>>>=7),o&15||(H+=4,o>>>=4),o&3||(H+=2,o>>>=2),o&1||H++,H},R.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function ai(ii){for(var t=new Array(ii.bitLength()),o=0;o<t.length;o++){var H=o/26|0,G=o%26;t[o]=(ii.words[H]&1<<G)>>>G}return t}R.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var H=this._zeroBits(this.words[o]);if(t+=H,H!==26)break}return t},R.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},R.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},R.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},R.prototype.isNeg=function(){return this.negative!==0},R.prototype.neg=function(){return this.clone().ineg()},R.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},R.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},R.prototype.ior=function(t){return P((this.negative|t.negative)===0),this.iuor(t)},R.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},R.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},R.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var H=0;H<o.length;H++)this.words[H]=this.words[H]&t.words[H];return this.length=o.length,this.strip()},R.prototype.iand=function(t){return P((this.negative|t.negative)===0),this.iuand(t)},R.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},R.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},R.prototype.iuxor=function(t){var o,H;this.length>t.length?(o=this,H=t):(o=t,H=this);for(var G=0;G<H.length;G++)this.words[G]=o.words[G]^H.words[G];if(this!==o)for(;G<o.length;G++)this.words[G]=o.words[G];return this.length=o.length,this.strip()},R.prototype.ixor=function(t){return P((this.negative|t.negative)===0),this.iuxor(t)},R.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},R.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},R.prototype.inotn=function(t){P(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,H=t%26;this._expand(o),H>0&&o--;for(var G=0;G<o;G++)this.words[G]=~this.words[G]&67108863;return H>0&&(this.words[G]=~this.words[G]&67108863>>26-H),this.strip()},R.prototype.notn=function(t){return this.clone().inotn(t)},R.prototype.setn=function(t,o){P(typeof t=="number"&&t>=0);var H=t/26|0,G=t%26;return this._expand(H+1),o?this.words[H]=this.words[H]|1<<G:this.words[H]=this.words[H]&~(1<<G),this.strip()},R.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var H,G;this.length>t.length?(H=this,G=t):(H=t,G=this);for(var Ne=0,Le=0;Le<G.length;Le++)o=(H.words[Le]|0)+(G.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;for(;Ne!==0&&Le<H.length;Le++)o=(H.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;if(this.length=H.length,Ne!==0)this.words[this.length]=Ne,this.length++;else if(H!==this)for(;Le<H.length;Le++)this.words[Le]=H.words[Le];return this},R.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},R.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var H=this.cmp(t);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,Ne;H>0?(G=this,Ne=t):(G=t,Ne=this);for(var Le=0,ti=0;ti<Ne.length;ti++)o=(G.words[ti]|0)-(Ne.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;for(;Le!==0&&ti<G.length;ti++)o=(G.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;if(Le===0&&ti<G.length&&G!==this)for(;ti<G.length;ti++)this.words[ti]=G.words[ti];return this.length=Math.max(this.length,ti),G!==this&&(this.negative=1),this.strip()},R.prototype.sub=function(t){return this.clone().isub(t)};function fi(ii,t,o){o.negative=t.negative^ii.negative;var H=ii.length+t.length|0;o.length=H,H=H-1|0;var G=ii.words[0]|0,Ne=t.words[0]|0,Le=G*Ne,ti=Le&67108863,Ie=Le/67108864|0;o.words[0]=ti;for(var s=1;s<H;s++){for(var Y=Ie>>>26,li=Ie&67108863,un=Math.min(s,t.length-1),pn=Math.max(0,s-ii.length+1);pn<=un;pn++){var di=s-pn|0;G=ii.words[di]|0,Ne=t.words[pn]|0,Le=G*Ne+li,Y+=Le/67108864|0,li=Le&67108863}o.words[s]=li|0,Ie=Y|0}return Ie!==0?o.words[s]=Ie|0:o.length--,o.strip()}var ui=function(t,o,H){var G=t.words,Ne=o.words,Le=H.words,ti=0,Ie,s,Y,li=G[0]|0,un=li&8191,pn=li>>>13,di=G[1]|0,An=di&8191,$i=di>>>13,fn=G[2]|0,cn=fn&8191,ci=fn>>>13,Rn=G[3]|0,Zn=Rn&8191,ho=Rn>>>13,qh=G[4]|0,Lo=qh&8191,jo=qh>>>13,jh=G[5]|0,_h=jh&8191,tf=jh>>>13,zh=G[6]|0,Ko=zh&8191,Uo=zh>>>13,Uh=G[7]|0,Vo=Uh&8191,qo=Uh>>>13,Fh=G[8]|0,Zo=Fh&8191,Fo=Fh>>>13,Hh=G[9]|0,Vf=Hh&8191,Ho=Hh>>>13,Kh=Ne[0]|0,yh=Kh&8191,Yo=Kh>>>13,Vh=Ne[1]|0,Ih=Vh&8191,wh=Vh>>>13,uu=Ne[2]|0,Dh=uu&8191,Mh=uu>>>13,qu=Ne[3]|0,Bh=qu&8191,Xf=qu>>>13,Jh=Ne[4]|0,Eh=Jh&8191,ph=Jh>>>13,Qh=Ne[5]|0,xh=Qh&8191,mh=Qh>>>13,su=Ne[6]|0,Ah=su&8191,gh=su>>>13,Xh=Ne[7]|0,Sh=Xh&8191,vh=Xh>>>13,Wh=Ne[8]|0,Rh=Wh&8191,bh=Wh>>>13,Uu=Ne[9]|0,Ch=Uu&8191,$h=Uu>>>13;H.negative=t.negative^o.negative,H.length=19,Ie=Math.imul(un,yh),s=Math.imul(un,Yo),s=s+Math.imul(pn,yh)|0,Y=Math.imul(pn,Yo);var au=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(au>>>26)|0,au&=67108863,Ie=Math.imul(An,yh),s=Math.imul(An,Yo),s=s+Math.imul($i,yh)|0,Y=Math.imul($i,Yo),Ie=Ie+Math.imul(un,Ih)|0,s=s+Math.imul(un,wh)|0,s=s+Math.imul(pn,Ih)|0,Y=Y+Math.imul(pn,wh)|0;var f0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(f0>>>26)|0,f0&=67108863,Ie=Math.imul(cn,yh),s=Math.imul(cn,Yo),s=s+Math.imul(ci,yh)|0,Y=Math.imul(ci,Yo),Ie=Ie+Math.imul(An,Ih)|0,s=s+Math.imul(An,wh)|0,s=s+Math.imul($i,Ih)|0,Y=Y+Math.imul($i,wh)|0,Ie=Ie+Math.imul(un,Dh)|0,s=s+Math.imul(un,Mh)|0,s=s+Math.imul(pn,Dh)|0,Y=Y+Math.imul(pn,Mh)|0;var $0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+($0>>>26)|0,$0&=67108863,Ie=Math.imul(Zn,yh),s=Math.imul(Zn,Yo),s=s+Math.imul(ho,yh)|0,Y=Math.imul(ho,Yo),Ie=Ie+Math.imul(cn,Ih)|0,s=s+Math.imul(cn,wh)|0,s=s+Math.imul(ci,Ih)|0,Y=Y+Math.imul(ci,wh)|0,Ie=Ie+Math.imul(An,Dh)|0,s=s+Math.imul(An,Mh)|0,s=s+Math.imul($i,Dh)|0,Y=Y+Math.imul($i,Mh)|0,Ie=Ie+Math.imul(un,Bh)|0,s=s+Math.imul(un,Xf)|0,s=s+Math.imul(pn,Bh)|0,Y=Y+Math.imul(pn,Xf)|0;var D0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(D0>>>26)|0,D0&=67108863,Ie=Math.imul(Lo,yh),s=Math.imul(Lo,Yo),s=s+Math.imul(jo,yh)|0,Y=Math.imul(jo,Yo),Ie=Ie+Math.imul(Zn,Ih)|0,s=s+Math.imul(Zn,wh)|0,s=s+Math.imul(ho,Ih)|0,Y=Y+Math.imul(ho,wh)|0,Ie=Ie+Math.imul(cn,Dh)|0,s=s+Math.imul(cn,Mh)|0,s=s+Math.imul(ci,Dh)|0,Y=Y+Math.imul(ci,Mh)|0,Ie=Ie+Math.imul(An,Bh)|0,s=s+Math.imul(An,Xf)|0,s=s+Math.imul($i,Bh)|0,Y=Y+Math.imul($i,Xf)|0,Ie=Ie+Math.imul(un,Eh)|0,s=s+Math.imul(un,ph)|0,s=s+Math.imul(pn,Eh)|0,Y=Y+Math.imul(pn,ph)|0;var F0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(F0>>>26)|0,F0&=67108863,Ie=Math.imul(_h,yh),s=Math.imul(_h,Yo),s=s+Math.imul(tf,yh)|0,Y=Math.imul(tf,Yo),Ie=Ie+Math.imul(Lo,Ih)|0,s=s+Math.imul(Lo,wh)|0,s=s+Math.imul(jo,Ih)|0,Y=Y+Math.imul(jo,wh)|0,Ie=Ie+Math.imul(Zn,Dh)|0,s=s+Math.imul(Zn,Mh)|0,s=s+Math.imul(ho,Dh)|0,Y=Y+Math.imul(ho,Mh)|0,Ie=Ie+Math.imul(cn,Bh)|0,s=s+Math.imul(cn,Xf)|0,s=s+Math.imul(ci,Bh)|0,Y=Y+Math.imul(ci,Xf)|0,Ie=Ie+Math.imul(An,Eh)|0,s=s+Math.imul(An,ph)|0,s=s+Math.imul($i,Eh)|0,Y=Y+Math.imul($i,ph)|0,Ie=Ie+Math.imul(un,xh)|0,s=s+Math.imul(un,mh)|0,s=s+Math.imul(pn,xh)|0,Y=Y+Math.imul(pn,mh)|0;var tc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(tc>>>26)|0,tc&=67108863,Ie=Math.imul(Ko,yh),s=Math.imul(Ko,Yo),s=s+Math.imul(Uo,yh)|0,Y=Math.imul(Uo,Yo),Ie=Ie+Math.imul(_h,Ih)|0,s=s+Math.imul(_h,wh)|0,s=s+Math.imul(tf,Ih)|0,Y=Y+Math.imul(tf,wh)|0,Ie=Ie+Math.imul(Lo,Dh)|0,s=s+Math.imul(Lo,Mh)|0,s=s+Math.imul(jo,Dh)|0,Y=Y+Math.imul(jo,Mh)|0,Ie=Ie+Math.imul(Zn,Bh)|0,s=s+Math.imul(Zn,Xf)|0,s=s+Math.imul(ho,Bh)|0,Y=Y+Math.imul(ho,Xf)|0,Ie=Ie+Math.imul(cn,Eh)|0,s=s+Math.imul(cn,ph)|0,s=s+Math.imul(ci,Eh)|0,Y=Y+Math.imul(ci,ph)|0,Ie=Ie+Math.imul(An,xh)|0,s=s+Math.imul(An,mh)|0,s=s+Math.imul($i,xh)|0,Y=Y+Math.imul($i,mh)|0,Ie=Ie+Math.imul(un,Ah)|0,s=s+Math.imul(un,gh)|0,s=s+Math.imul(pn,Ah)|0,Y=Y+Math.imul(pn,gh)|0;var Ku=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,Ie=Math.imul(Vo,yh),s=Math.imul(Vo,Yo),s=s+Math.imul(qo,yh)|0,Y=Math.imul(qo,Yo),Ie=Ie+Math.imul(Ko,Ih)|0,s=s+Math.imul(Ko,wh)|0,s=s+Math.imul(Uo,Ih)|0,Y=Y+Math.imul(Uo,wh)|0,Ie=Ie+Math.imul(_h,Dh)|0,s=s+Math.imul(_h,Mh)|0,s=s+Math.imul(tf,Dh)|0,Y=Y+Math.imul(tf,Mh)|0,Ie=Ie+Math.imul(Lo,Bh)|0,s=s+Math.imul(Lo,Xf)|0,s=s+Math.imul(jo,Bh)|0,Y=Y+Math.imul(jo,Xf)|0,Ie=Ie+Math.imul(Zn,Eh)|0,s=s+Math.imul(Zn,ph)|0,s=s+Math.imul(ho,Eh)|0,Y=Y+Math.imul(ho,ph)|0,Ie=Ie+Math.imul(cn,xh)|0,s=s+Math.imul(cn,mh)|0,s=s+Math.imul(ci,xh)|0,Y=Y+Math.imul(ci,mh)|0,Ie=Ie+Math.imul(An,Ah)|0,s=s+Math.imul(An,gh)|0,s=s+Math.imul($i,Ah)|0,Y=Y+Math.imul($i,gh)|0,Ie=Ie+Math.imul(un,Sh)|0,s=s+Math.imul(un,vh)|0,s=s+Math.imul(pn,Sh)|0,Y=Y+Math.imul(pn,vh)|0;var sc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(sc>>>26)|0,sc&=67108863,Ie=Math.imul(Zo,yh),s=Math.imul(Zo,Yo),s=s+Math.imul(Fo,yh)|0,Y=Math.imul(Fo,Yo),Ie=Ie+Math.imul(Vo,Ih)|0,s=s+Math.imul(Vo,wh)|0,s=s+Math.imul(qo,Ih)|0,Y=Y+Math.imul(qo,wh)|0,Ie=Ie+Math.imul(Ko,Dh)|0,s=s+Math.imul(Ko,Mh)|0,s=s+Math.imul(Uo,Dh)|0,Y=Y+Math.imul(Uo,Mh)|0,Ie=Ie+Math.imul(_h,Bh)|0,s=s+Math.imul(_h,Xf)|0,s=s+Math.imul(tf,Bh)|0,Y=Y+Math.imul(tf,Xf)|0,Ie=Ie+Math.imul(Lo,Eh)|0,s=s+Math.imul(Lo,ph)|0,s=s+Math.imul(jo,Eh)|0,Y=Y+Math.imul(jo,ph)|0,Ie=Ie+Math.imul(Zn,xh)|0,s=s+Math.imul(Zn,mh)|0,s=s+Math.imul(ho,xh)|0,Y=Y+Math.imul(ho,mh)|0,Ie=Ie+Math.imul(cn,Ah)|0,s=s+Math.imul(cn,gh)|0,s=s+Math.imul(ci,Ah)|0,Y=Y+Math.imul(ci,gh)|0,Ie=Ie+Math.imul(An,Sh)|0,s=s+Math.imul(An,vh)|0,s=s+Math.imul($i,Sh)|0,Y=Y+Math.imul($i,vh)|0,Ie=Ie+Math.imul(un,Rh)|0,s=s+Math.imul(un,bh)|0,s=s+Math.imul(pn,Rh)|0,Y=Y+Math.imul(pn,bh)|0;var uc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(uc>>>26)|0,uc&=67108863,Ie=Math.imul(Vf,yh),s=Math.imul(Vf,Yo),s=s+Math.imul(Ho,yh)|0,Y=Math.imul(Ho,Yo),Ie=Ie+Math.imul(Zo,Ih)|0,s=s+Math.imul(Zo,wh)|0,s=s+Math.imul(Fo,Ih)|0,Y=Y+Math.imul(Fo,wh)|0,Ie=Ie+Math.imul(Vo,Dh)|0,s=s+Math.imul(Vo,Mh)|0,s=s+Math.imul(qo,Dh)|0,Y=Y+Math.imul(qo,Mh)|0,Ie=Ie+Math.imul(Ko,Bh)|0,s=s+Math.imul(Ko,Xf)|0,s=s+Math.imul(Uo,Bh)|0,Y=Y+Math.imul(Uo,Xf)|0,Ie=Ie+Math.imul(_h,Eh)|0,s=s+Math.imul(_h,ph)|0,s=s+Math.imul(tf,Eh)|0,Y=Y+Math.imul(tf,ph)|0,Ie=Ie+Math.imul(Lo,xh)|0,s=s+Math.imul(Lo,mh)|0,s=s+Math.imul(jo,xh)|0,Y=Y+Math.imul(jo,mh)|0,Ie=Ie+Math.imul(Zn,Ah)|0,s=s+Math.imul(Zn,gh)|0,s=s+Math.imul(ho,Ah)|0,Y=Y+Math.imul(ho,gh)|0,Ie=Ie+Math.imul(cn,Sh)|0,s=s+Math.imul(cn,vh)|0,s=s+Math.imul(ci,Sh)|0,Y=Y+Math.imul(ci,vh)|0,Ie=Ie+Math.imul(An,Rh)|0,s=s+Math.imul(An,bh)|0,s=s+Math.imul($i,Rh)|0,Y=Y+Math.imul($i,bh)|0,Ie=Ie+Math.imul(un,Ch)|0,s=s+Math.imul(un,$h)|0,s=s+Math.imul(pn,Ch)|0,Y=Y+Math.imul(pn,$h)|0;var ac=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(ac>>>26)|0,ac&=67108863,Ie=Math.imul(Vf,Ih),s=Math.imul(Vf,wh),s=s+Math.imul(Ho,Ih)|0,Y=Math.imul(Ho,wh),Ie=Ie+Math.imul(Zo,Dh)|0,s=s+Math.imul(Zo,Mh)|0,s=s+Math.imul(Fo,Dh)|0,Y=Y+Math.imul(Fo,Mh)|0,Ie=Ie+Math.imul(Vo,Bh)|0,s=s+Math.imul(Vo,Xf)|0,s=s+Math.imul(qo,Bh)|0,Y=Y+Math.imul(qo,Xf)|0,Ie=Ie+Math.imul(Ko,Eh)|0,s=s+Math.imul(Ko,ph)|0,s=s+Math.imul(Uo,Eh)|0,Y=Y+Math.imul(Uo,ph)|0,Ie=Ie+Math.imul(_h,xh)|0,s=s+Math.imul(_h,mh)|0,s=s+Math.imul(tf,xh)|0,Y=Y+Math.imul(tf,mh)|0,Ie=Ie+Math.imul(Lo,Ah)|0,s=s+Math.imul(Lo,gh)|0,s=s+Math.imul(jo,Ah)|0,Y=Y+Math.imul(jo,gh)|0,Ie=Ie+Math.imul(Zn,Sh)|0,s=s+Math.imul(Zn,vh)|0,s=s+Math.imul(ho,Sh)|0,Y=Y+Math.imul(ho,vh)|0,Ie=Ie+Math.imul(cn,Rh)|0,s=s+Math.imul(cn,bh)|0,s=s+Math.imul(ci,Rh)|0,Y=Y+Math.imul(ci,bh)|0,Ie=Ie+Math.imul(An,Ch)|0,s=s+Math.imul(An,$h)|0,s=s+Math.imul($i,Ch)|0,Y=Y+Math.imul($i,$h)|0;var cc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(cc>>>26)|0,cc&=67108863,Ie=Math.imul(Vf,Dh),s=Math.imul(Vf,Mh),s=s+Math.imul(Ho,Dh)|0,Y=Math.imul(Ho,Mh),Ie=Ie+Math.imul(Zo,Bh)|0,s=s+Math.imul(Zo,Xf)|0,s=s+Math.imul(Fo,Bh)|0,Y=Y+Math.imul(Fo,Xf)|0,Ie=Ie+Math.imul(Vo,Eh)|0,s=s+Math.imul(Vo,ph)|0,s=s+Math.imul(qo,Eh)|0,Y=Y+Math.imul(qo,ph)|0,Ie=Ie+Math.imul(Ko,xh)|0,s=s+Math.imul(Ko,mh)|0,s=s+Math.imul(Uo,xh)|0,Y=Y+Math.imul(Uo,mh)|0,Ie=Ie+Math.imul(_h,Ah)|0,s=s+Math.imul(_h,gh)|0,s=s+Math.imul(tf,Ah)|0,Y=Y+Math.imul(tf,gh)|0,Ie=Ie+Math.imul(Lo,Sh)|0,s=s+Math.imul(Lo,vh)|0,s=s+Math.imul(jo,Sh)|0,Y=Y+Math.imul(jo,vh)|0,Ie=Ie+Math.imul(Zn,Rh)|0,s=s+Math.imul(Zn,bh)|0,s=s+Math.imul(ho,Rh)|0,Y=Y+Math.imul(ho,bh)|0,Ie=Ie+Math.imul(cn,Ch)|0,s=s+Math.imul(cn,$h)|0,s=s+Math.imul(ci,Ch)|0,Y=Y+Math.imul(ci,$h)|0;var lc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(lc>>>26)|0,lc&=67108863,Ie=Math.imul(Vf,Bh),s=Math.imul(Vf,Xf),s=s+Math.imul(Ho,Bh)|0,Y=Math.imul(Ho,Xf),Ie=Ie+Math.imul(Zo,Eh)|0,s=s+Math.imul(Zo,ph)|0,s=s+Math.imul(Fo,Eh)|0,Y=Y+Math.imul(Fo,ph)|0,Ie=Ie+Math.imul(Vo,xh)|0,s=s+Math.imul(Vo,mh)|0,s=s+Math.imul(qo,xh)|0,Y=Y+Math.imul(qo,mh)|0,Ie=Ie+Math.imul(Ko,Ah)|0,s=s+Math.imul(Ko,gh)|0,s=s+Math.imul(Uo,Ah)|0,Y=Y+Math.imul(Uo,gh)|0,Ie=Ie+Math.imul(_h,Sh)|0,s=s+Math.imul(_h,vh)|0,s=s+Math.imul(tf,Sh)|0,Y=Y+Math.imul(tf,vh)|0,Ie=Ie+Math.imul(Lo,Rh)|0,s=s+Math.imul(Lo,bh)|0,s=s+Math.imul(jo,Rh)|0,Y=Y+Math.imul(jo,bh)|0,Ie=Ie+Math.imul(Zn,Ch)|0,s=s+Math.imul(Zn,$h)|0,s=s+Math.imul(ho,Ch)|0,Y=Y+Math.imul(ho,$h)|0;var oc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(oc>>>26)|0,oc&=67108863,Ie=Math.imul(Vf,Eh),s=Math.imul(Vf,ph),s=s+Math.imul(Ho,Eh)|0,Y=Math.imul(Ho,ph),Ie=Ie+Math.imul(Zo,xh)|0,s=s+Math.imul(Zo,mh)|0,s=s+Math.imul(Fo,xh)|0,Y=Y+Math.imul(Fo,mh)|0,Ie=Ie+Math.imul(Vo,Ah)|0,s=s+Math.imul(Vo,gh)|0,s=s+Math.imul(qo,Ah)|0,Y=Y+Math.imul(qo,gh)|0,Ie=Ie+Math.imul(Ko,Sh)|0,s=s+Math.imul(Ko,vh)|0,s=s+Math.imul(Uo,Sh)|0,Y=Y+Math.imul(Uo,vh)|0,Ie=Ie+Math.imul(_h,Rh)|0,s=s+Math.imul(_h,bh)|0,s=s+Math.imul(tf,Rh)|0,Y=Y+Math.imul(tf,bh)|0,Ie=Ie+Math.imul(Lo,Ch)|0,s=s+Math.imul(Lo,$h)|0,s=s+Math.imul(jo,Ch)|0,Y=Y+Math.imul(jo,$h)|0;var fc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(fc>>>26)|0,fc&=67108863,Ie=Math.imul(Vf,xh),s=Math.imul(Vf,mh),s=s+Math.imul(Ho,xh)|0,Y=Math.imul(Ho,mh),Ie=Ie+Math.imul(Zo,Ah)|0,s=s+Math.imul(Zo,gh)|0,s=s+Math.imul(Fo,Ah)|0,Y=Y+Math.imul(Fo,gh)|0,Ie=Ie+Math.imul(Vo,Sh)|0,s=s+Math.imul(Vo,vh)|0,s=s+Math.imul(qo,Sh)|0,Y=Y+Math.imul(qo,vh)|0,Ie=Ie+Math.imul(Ko,Rh)|0,s=s+Math.imul(Ko,bh)|0,s=s+Math.imul(Uo,Rh)|0,Y=Y+Math.imul(Uo,bh)|0,Ie=Ie+Math.imul(_h,Ch)|0,s=s+Math.imul(_h,$h)|0,s=s+Math.imul(tf,Ch)|0,Y=Y+Math.imul(tf,$h)|0;var hc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(hc>>>26)|0,hc&=67108863,Ie=Math.imul(Vf,Ah),s=Math.imul(Vf,gh),s=s+Math.imul(Ho,Ah)|0,Y=Math.imul(Ho,gh),Ie=Ie+Math.imul(Zo,Sh)|0,s=s+Math.imul(Zo,vh)|0,s=s+Math.imul(Fo,Sh)|0,Y=Y+Math.imul(Fo,vh)|0,Ie=Ie+Math.imul(Vo,Rh)|0,s=s+Math.imul(Vo,bh)|0,s=s+Math.imul(qo,Rh)|0,Y=Y+Math.imul(qo,bh)|0,Ie=Ie+Math.imul(Ko,Ch)|0,s=s+Math.imul(Ko,$h)|0,s=s+Math.imul(Uo,Ch)|0,Y=Y+Math.imul(Uo,$h)|0;var r0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(r0>>>26)|0,r0&=67108863,Ie=Math.imul(Vf,Sh),s=Math.imul(Vf,vh),s=s+Math.imul(Ho,Sh)|0,Y=Math.imul(Ho,vh),Ie=Ie+Math.imul(Zo,Rh)|0,s=s+Math.imul(Zo,bh)|0,s=s+Math.imul(Fo,Rh)|0,Y=Y+Math.imul(Fo,bh)|0,Ie=Ie+Math.imul(Vo,Ch)|0,s=s+Math.imul(Vo,$h)|0,s=s+Math.imul(qo,Ch)|0,Y=Y+Math.imul(qo,$h)|0;var dc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(dc>>>26)|0,dc&=67108863,Ie=Math.imul(Vf,Rh),s=Math.imul(Vf,bh),s=s+Math.imul(Ho,Rh)|0,Y=Math.imul(Ho,bh),Ie=Ie+Math.imul(Zo,Ch)|0,s=s+Math.imul(Zo,$h)|0,s=s+Math.imul(Fo,Ch)|0,Y=Y+Math.imul(Fo,$h)|0;var pc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(pc>>>26)|0,pc&=67108863,Ie=Math.imul(Vf,Ch),s=Math.imul(Vf,$h),s=s+Math.imul(Ho,Ch)|0,Y=Math.imul(Ho,$h);var vc=(ti+Ie|0)+((s&8191)<<13)|0;return ti=(Y+(s>>>13)|0)+(vc>>>26)|0,vc&=67108863,Le[0]=au,Le[1]=f0,Le[2]=$0,Le[3]=D0,Le[4]=F0,Le[5]=tc,Le[6]=Ku,Le[7]=sc,Le[8]=uc,Le[9]=ac,Le[10]=cc,Le[11]=lc,Le[12]=oc,Le[13]=fc,Le[14]=hc,Le[15]=r0,Le[16]=dc,Le[17]=pc,Le[18]=vc,ti!==0&&(Le[19]=ti,H.length++),H};Math.imul||(ui=fi);function sn(ii,t,o){o.negative=t.negative^ii.negative,o.length=ii.length+t.length;for(var H=0,G=0,Ne=0;Ne<o.length-1;Ne++){var Le=G;G=0;for(var ti=H&67108863,Ie=Math.min(Ne,t.length-1),s=Math.max(0,Ne-ii.length+1);s<=Ie;s++){var Y=Ne-s,li=ii.words[Y]|0,un=t.words[s]|0,pn=li*un,di=pn&67108863;Le=Le+(pn/67108864|0)|0,di=di+ti|0,ti=di&67108863,Le=Le+(di>>>26)|0,G+=Le>>>26,Le&=67108863}o.words[Ne]=ti,H=Le,Le=G}return H!==0?o.words[Ne]=H:o.length--,o.strip()}function hn(ii,t,o){var H=new nn;return H.mulp(ii,t,o)}R.prototype.mulTo=function(t,o){var H,G=this.length+t.length;return this.length===10&&t.length===10?H=ui(this,t,o):G<63?H=fi(this,t,o):G<1024?H=sn(this,t,o):H=hn(this,t,o),H};function nn(ii,t){this.x=ii,this.y=t}nn.prototype.makeRBT=function(t){for(var o=new Array(t),H=R.prototype._countBits(t)-1,G=0;G<t;G++)o[G]=this.revBin(G,H,t);return o},nn.prototype.revBin=function(t,o,H){if(t===0||t===H-1)return t;for(var G=0,Ne=0;Ne<o;Ne++)G|=(t&1)<<o-Ne-1,t>>=1;return G},nn.prototype.permute=function(t,o,H,G,Ne,Le){for(var ti=0;ti<Le;ti++)G[ti]=o[t[ti]],Ne[ti]=H[t[ti]]},nn.prototype.transform=function(t,o,H,G,Ne,Le){this.permute(Le,t,o,H,G,Ne);for(var ti=1;ti<Ne;ti<<=1)for(var Ie=ti<<1,s=Math.cos(2*Math.PI/Ie),Y=Math.sin(2*Math.PI/Ie),li=0;li<Ne;li+=Ie)for(var un=s,pn=Y,di=0;di<ti;di++){var An=H[li+di],$i=G[li+di],fn=H[li+di+ti],cn=G[li+di+ti],ci=un*fn-pn*cn;cn=un*cn+pn*fn,fn=ci,H[li+di]=An+fn,G[li+di]=$i+cn,H[li+di+ti]=An-fn,G[li+di+ti]=$i-cn,di!==Ie&&(ci=s*un-Y*pn,pn=s*pn+Y*un,un=ci)}},nn.prototype.guessLen13b=function(t,o){var H=Math.max(o,t)|1,G=H&1,Ne=0;for(H=H/2|0;H;H=H>>>1)Ne++;return 1<<Ne+1+G},nn.prototype.conjugate=function(t,o,H){if(!(H<=1))for(var G=0;G<H/2;G++){var Ne=t[G];t[G]=t[H-G-1],t[H-G-1]=Ne,Ne=o[G],o[G]=-o[H-G-1],o[H-G-1]=-Ne}},nn.prototype.normalize13b=function(t,o){for(var H=0,G=0;G<o/2;G++){var Ne=Math.round(t[2*G+1]/o)*8192+Math.round(t[2*G]/o)+H;t[G]=Ne&67108863,Ne<67108864?H=0:H=Ne/67108864|0}return t},nn.prototype.convert13b=function(t,o,H,G){for(var Ne=0,Le=0;Le<o;Le++)Ne=Ne+(t[Le]|0),H[2*Le]=Ne&8191,Ne=Ne>>>13,H[2*Le+1]=Ne&8191,Ne=Ne>>>13;for(Le=2*o;Le<G;++Le)H[Le]=0;P(Ne===0),P((Ne&-8192)===0)},nn.prototype.stub=function(t){for(var o=new Array(t),H=0;H<t;H++)o[H]=0;return o},nn.prototype.mulp=function(t,o,H){var G=2*this.guessLen13b(t.length,o.length),Ne=this.makeRBT(G),Le=this.stub(G),ti=new Array(G),Ie=new Array(G),s=new Array(G),Y=new Array(G),li=new Array(G),un=new Array(G),pn=H.words;pn.length=G,this.convert13b(t.words,t.length,ti,G),this.convert13b(o.words,o.length,Y,G),this.transform(ti,Le,Ie,s,G,Ne),this.transform(Y,Le,li,un,G,Ne);for(var di=0;di<G;di++){var An=Ie[di]*li[di]-s[di]*un[di];s[di]=Ie[di]*un[di]+s[di]*li[di],Ie[di]=An}return this.conjugate(Ie,s,G),this.transform(Ie,s,pn,Le,G,Ne),this.conjugate(pn,Le,G),this.normalize13b(pn,G),H.negative=t.negative^o.negative,H.length=t.length+o.length,H.strip()},R.prototype.mul=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},R.prototype.mulf=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),hn(this,t,o)},R.prototype.imul=function(t){return this.clone().mulTo(t,this)},R.prototype.imuln=function(t){P(typeof t=="number"),P(t<67108864);for(var o=0,H=0;H<this.length;H++){var G=(this.words[H]|0)*t,Ne=(G&67108863)+(o&67108863);o>>=26,o+=G/67108864|0,o+=Ne>>>26,this.words[H]=Ne&67108863}return o!==0&&(this.words[H]=o,this.length++),this},R.prototype.muln=function(t){return this.clone().imuln(t)},R.prototype.sqr=function(){return this.mul(this)},R.prototype.isqr=function(){return this.imul(this.clone())},R.prototype.pow=function(t){var o=ai(t);if(o.length===0)return new R(1);for(var H=this,G=0;G<o.length&&o[G]===0;G++,H=H.sqr());if(++G<o.length)for(var Ne=H.sqr();G<o.length;G++,Ne=Ne.sqr())o[G]!==0&&(H=H.mul(Ne));return H},R.prototype.iushln=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=67108863>>>26-o<<26-o,Ne;if(o!==0){var Le=0;for(Ne=0;Ne<this.length;Ne++){var ti=this.words[Ne]&G,Ie=(this.words[Ne]|0)-ti<<o;this.words[Ne]=Ie|Le,Le=ti>>>26-o}Le&&(this.words[Ne]=Le,this.length++)}if(H!==0){for(Ne=this.length-1;Ne>=0;Ne--)this.words[Ne+H]=this.words[Ne];for(Ne=0;Ne<H;Ne++)this.words[Ne]=0;this.length+=H}return this.strip()},R.prototype.ishln=function(t){return P(this.negative===0),this.iushln(t)},R.prototype.iushrn=function(t,o,H){P(typeof t=="number"&&t>=0);var G;o?G=(o-o%26)/26:G=0;var Ne=t%26,Le=Math.min((t-Ne)/26,this.length),ti=67108863^67108863>>>Ne<<Ne,Ie=H;if(G-=Le,G=Math.max(0,G),Ie){for(var s=0;s<Le;s++)Ie.words[s]=this.words[s];Ie.length=Le}if(Le!==0)if(this.length>Le)for(this.length-=Le,s=0;s<this.length;s++)this.words[s]=this.words[s+Le];else this.words[0]=0,this.length=1;var Y=0;for(s=this.length-1;s>=0&&(Y!==0||s>=G);s--){var li=this.words[s]|0;this.words[s]=Y<<26-Ne|li>>>Ne,Y=li&ti}return Ie&&Y!==0&&(Ie.words[Ie.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},R.prototype.ishrn=function(t,o,H){return P(this.negative===0),this.iushrn(t,o,H)},R.prototype.shln=function(t){return this.clone().ishln(t)},R.prototype.ushln=function(t){return this.clone().iushln(t)},R.prototype.shrn=function(t){return this.clone().ishrn(t)},R.prototype.ushrn=function(t){return this.clone().iushrn(t)},R.prototype.testn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return!1;var Ne=this.words[H];return!!(Ne&G)},R.prototype.imaskn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=H)return this;if(o!==0&&H++,this.length=Math.min(H,this.length),o!==0){var G=67108863^67108863>>>o<<o;this.words[this.length-1]&=G}return this.strip()},R.prototype.maskn=function(t){return this.clone().imaskn(t)},R.prototype.iaddn=function(t){return P(typeof t=="number"),P(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},R.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},R.prototype.isubn=function(t){if(P(typeof t=="number"),P(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},R.prototype.addn=function(t){return this.clone().iaddn(t)},R.prototype.subn=function(t){return this.clone().isubn(t)},R.prototype.iabs=function(){return this.negative=0,this},R.prototype.abs=function(){return this.clone().iabs()},R.prototype._ishlnsubmul=function(t,o,H){var G=t.length+H,Ne;this._expand(G);var Le,ti=0;for(Ne=0;Ne<t.length;Ne++){Le=(this.words[Ne+H]|0)+ti;var Ie=(t.words[Ne]|0)*o;Le-=Ie&67108863,ti=(Le>>26)-(Ie/67108864|0),this.words[Ne+H]=Le&67108863}for(;Ne<this.length-H;Ne++)Le=(this.words[Ne+H]|0)+ti,ti=Le>>26,this.words[Ne+H]=Le&67108863;if(ti===0)return this.strip();for(P(ti===-1),ti=0,Ne=0;Ne<this.length;Ne++)Le=-(this.words[Ne]|0)+ti,ti=Le>>26,this.words[Ne]=Le&67108863;return this.negative=1,this.strip()},R.prototype._wordDiv=function(t,o){var H=this.length-t.length,G=this.clone(),Ne=t,Le=Ne.words[Ne.length-1]|0,ti=this._countBits(Le);H=26-ti,H!==0&&(Ne=Ne.ushln(H),G.iushln(H),Le=Ne.words[Ne.length-1]|0);var Ie=G.length-Ne.length,s;if(o!=="mod"){s=new R(null),s.length=Ie+1,s.words=new Array(s.length);for(var Y=0;Y<s.length;Y++)s.words[Y]=0}var li=G.clone()._ishlnsubmul(Ne,1,Ie);li.negative===0&&(G=li,s&&(s.words[Ie]=1));for(var un=Ie-1;un>=0;un--){var pn=(G.words[Ne.length+un]|0)*67108864+(G.words[Ne.length+un-1]|0);for(pn=Math.min(pn/Le|0,67108863),G._ishlnsubmul(Ne,pn,un);G.negative!==0;)pn--,G.negative=0,G._ishlnsubmul(Ne,1,un),G.isZero()||(G.negative^=1);s&&(s.words[un]=pn)}return s&&s.strip(),G.strip(),o!=="div"&&H!==0&&G.iushrn(H),{div:s||null,mod:G}},R.prototype.divmod=function(t,o,H){if(P(!t.isZero()),this.isZero())return{div:new R(0),mod:new R(0)};var G,Ne,Le;return this.negative!==0&&t.negative===0?(Le=this.neg().divmod(t,o),o!=="mod"&&(G=Le.div.neg()),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.iadd(t)),{div:G,mod:Ne}):this.negative===0&&t.negative!==0?(Le=this.divmod(t.neg(),o),o!=="mod"&&(G=Le.div.neg()),{div:G,mod:Le.mod}):this.negative&t.negative?(Le=this.neg().divmod(t.neg(),o),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.isub(t)),{div:Le.div,mod:Ne}):t.length>this.length||this.cmp(t)<0?{div:new R(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new R(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new R(this.modn(t.words[0]))}:this._wordDiv(t,o)},R.prototype.div=function(t){return this.divmod(t,"div",!1).div},R.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},R.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},R.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var H=o.div.negative!==0?o.mod.isub(t):o.mod,G=t.ushrn(1),Ne=t.andln(1),Le=H.cmp(G);return Le<0||Ne===1&&Le===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},R.prototype.modn=function(t){P(t<=67108863);for(var o=(1<<26)%t,H=0,G=this.length-1;G>=0;G--)H=(o*H+(this.words[G]|0))%t;return H},R.prototype.idivn=function(t){P(t<=67108863);for(var o=0,H=this.length-1;H>=0;H--){var G=(this.words[H]|0)+o*67108864;this.words[H]=G/t|0,o=G%t}return this.strip()},R.prototype.divn=function(t){return this.clone().idivn(t)},R.prototype.egcd=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=new R(0),ti=new R(1),Ie=0;o.isEven()&&H.isEven();)o.iushrn(1),H.iushrn(1),++Ie;for(var s=H.clone(),Y=o.clone();!o.isZero();){for(var li=0,un=1;!(o.words[0]&un)&&li<26;++li,un<<=1);if(li>0)for(o.iushrn(li);li-- >0;)(G.isOdd()||Ne.isOdd())&&(G.iadd(s),Ne.isub(Y)),G.iushrn(1),Ne.iushrn(1);for(var pn=0,di=1;!(H.words[0]&di)&&pn<26;++pn,di<<=1);if(pn>0)for(H.iushrn(pn);pn-- >0;)(Le.isOdd()||ti.isOdd())&&(Le.iadd(s),ti.isub(Y)),Le.iushrn(1),ti.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Le),Ne.isub(ti)):(H.isub(o),Le.isub(G),ti.isub(Ne))}return{a:Le,b:ti,gcd:H.iushln(Ie)}},R.prototype._invmp=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=H.clone();o.cmpn(1)>0&&H.cmpn(1)>0;){for(var ti=0,Ie=1;!(o.words[0]&Ie)&&ti<26;++ti,Ie<<=1);if(ti>0)for(o.iushrn(ti);ti-- >0;)G.isOdd()&&G.iadd(Le),G.iushrn(1);for(var s=0,Y=1;!(H.words[0]&Y)&&s<26;++s,Y<<=1);if(s>0)for(H.iushrn(s);s-- >0;)Ne.isOdd()&&Ne.iadd(Le),Ne.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Ne)):(H.isub(o),Ne.isub(G))}var li;return o.cmpn(1)===0?li=G:li=Ne,li.cmpn(0)<0&&li.iadd(t),li},R.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),H=t.clone();o.negative=0,H.negative=0;for(var G=0;o.isEven()&&H.isEven();G++)o.iushrn(1),H.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;H.isEven();)H.iushrn(1);var Ne=o.cmp(H);if(Ne<0){var Le=o;o=H,H=Le}else if(Ne===0||H.cmpn(1)===0)break;o.isub(H)}while(!0);return H.iushln(G)},R.prototype.invm=function(t){return this.egcd(t).a.umod(t)},R.prototype.isEven=function(){return(this.words[0]&1)===0},R.prototype.isOdd=function(){return(this.words[0]&1)===1},R.prototype.andln=function(t){return this.words[0]&t},R.prototype.bincn=function(t){P(typeof t=="number");var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return this._expand(H+1),this.words[H]|=G,this;for(var Ne=G,Le=H;Ne!==0&&Le<this.length;Le++){var ti=this.words[Le]|0;ti+=Ne,Ne=ti>>>26,ti&=67108863,this.words[Le]=ti}return Ne!==0&&(this.words[Le]=Ne,this.length++),this},R.prototype.isZero=function(){return this.length===1&&this.words[0]===0},R.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var H;if(this.length>1)H=1;else{o&&(t=-t),P(t<=67108863,"Number is too big");var G=this.words[0]|0;H=G===t?0:G<t?-1:1}return this.negative!==0?-H|0:H},R.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},R.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,H=this.length-1;H>=0;H--){var G=this.words[H]|0,Ne=t.words[H]|0;if(G!==Ne){G<Ne?o=-1:G>Ne&&(o=1);break}}return o},R.prototype.gtn=function(t){return this.cmpn(t)===1},R.prototype.gt=function(t){return this.cmp(t)===1},R.prototype.gten=function(t){return this.cmpn(t)>=0},R.prototype.gte=function(t){return this.cmp(t)>=0},R.prototype.ltn=function(t){return this.cmpn(t)===-1},R.prototype.lt=function(t){return this.cmp(t)===-1},R.prototype.lten=function(t){return this.cmpn(t)<=0},R.prototype.lte=function(t){return this.cmp(t)<=0},R.prototype.eqn=function(t){return this.cmpn(t)===0},R.prototype.eq=function(t){return this.cmp(t)===0},R.red=function(t){return new Bn(t)},R.prototype.toRed=function(t){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},R.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},R.prototype._forceRed=function(t){return this.red=t,this},R.prototype.forceRed=function(t){return P(!this.red,"Already a number in reduction context"),this._forceRed(t)},R.prototype.redAdd=function(t){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},R.prototype.redIAdd=function(t){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},R.prototype.redSub=function(t){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},R.prototype.redISub=function(t){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},R.prototype.redShl=function(t){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},R.prototype.redMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},R.prototype.redIMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},R.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},R.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},R.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},R.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},R.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},R.prototype.redPow=function(t){return P(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var ln={k256:null,p224:null,p192:null,p25519:null};function on(ii,t){this.name=ii,this.p=new R(t,16),this.n=this.p.bitLength(),this.k=new R(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}on.prototype._tmp=function(){var t=new R(null);return t.words=new Array(Math.ceil(this.n/13)),t},on.prototype.ireduce=function(t){var o=t,H;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),H=o.bitLength();while(H>this.n);var G=H<this.n?-1:o.ucmp(this.p);return G===0?(o.words[0]=0,o.length=1):G>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},on.prototype.split=function(t,o){t.iushrn(this.n,0,o)},on.prototype.imulK=function(t){return t.imul(this.k)};function vn(){on.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}W(vn,on),vn.prototype.split=function(t,o){for(var H=4194303,G=Math.min(t.length,9),Ne=0;Ne<G;Ne++)o.words[Ne]=t.words[Ne];if(o.length=G,t.length<=9){t.words[0]=0,t.length=1;return}var Le=t.words[9];for(o.words[o.length++]=Le&H,Ne=10;Ne<t.length;Ne++){var ti=t.words[Ne]|0;t.words[Ne-10]=(ti&H)<<4|Le>>>22,Le=ti}Le>>>=22,t.words[Ne-10]=Le,Le===0&&t.length>10?t.length-=10:t.length-=9},vn.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,H=0;H<t.length;H++){var G=t.words[H]|0;o+=G*977,t.words[H]=o&67108863,o=G*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Mn(){on.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}W(Mn,on);function mi(){on.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}W(mi,on);function mn(){on.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}W(mn,on),mn.prototype.imulK=function(t){for(var o=0,H=0;H<t.length;H++){var G=(t.words[H]|0)*19+o,Ne=G&67108863;G>>>=26,t.words[H]=Ne,o=G}return o!==0&&(t.words[t.length++]=o),t},R._prime=function(t){if(ln[t])return ln[t];var o;if(t==="k256")o=new vn;else if(t==="p224")o=new Mn;else if(t==="p192")o=new mi;else if(t==="p25519")o=new mn;else throw new Error("Unknown prime "+t);return ln[t]=o,o};function Bn(ii){if(typeof ii=="string"){var t=R._prime(ii);this.m=t.p,this.prime=t}else P(ii.gtn(1),"modulus must be greater than 1"),this.m=ii,this.prime=null}Bn.prototype._verify1=function(t){P(t.negative===0,"red works only with positives"),P(t.red,"red works only with red numbers")},Bn.prototype._verify2=function(t,o){P((t.negative|o.negative)===0,"red works only with positives"),P(t.red&&t.red===o.red,"red works only with red numbers")},Bn.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Bn.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Bn.prototype.add=function(t,o){this._verify2(t,o);var H=t.add(o);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},Bn.prototype.iadd=function(t,o){this._verify2(t,o);var H=t.iadd(o);return H.cmp(this.m)>=0&&H.isub(this.m),H},Bn.prototype.sub=function(t,o){this._verify2(t,o);var H=t.sub(o);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},Bn.prototype.isub=function(t,o){this._verify2(t,o);var H=t.isub(o);return H.cmpn(0)<0&&H.iadd(this.m),H},Bn.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},Bn.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},Bn.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},Bn.prototype.isqr=function(t){return this.imul(t,t.clone())},Bn.prototype.sqr=function(t){return this.mul(t,t)},Bn.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(P(o%2===1),o===3){var H=this.m.add(new R(1)).iushrn(2);return this.pow(t,H)}for(var G=this.m.subn(1),Ne=0;!G.isZero()&&G.andln(1)===0;)Ne++,G.iushrn(1);P(!G.isZero());var Le=new R(1).toRed(this),ti=Le.redNeg(),Ie=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new R(2*s*s).toRed(this);this.pow(s,Ie).cmp(ti)!==0;)s.redIAdd(ti);for(var Y=this.pow(s,G),li=this.pow(t,G.addn(1).iushrn(1)),un=this.pow(t,G),pn=Ne;un.cmp(Le)!==0;){for(var di=un,An=0;di.cmp(Le)!==0;An++)di=di.redSqr();P(An<pn);var $i=this.pow(Y,new R(1).iushln(pn-An-1));li=li.redMul($i),Y=$i.redSqr(),un=un.redMul(Y),pn=An}return li},Bn.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},Bn.prototype.pow=function(t,o){if(o.isZero())return new R(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var H=4,G=new Array(1<<H);G[0]=new R(1).toRed(this),G[1]=t;for(var Ne=2;Ne<G.length;Ne++)G[Ne]=this.mul(G[Ne-1],t);var Le=G[0],ti=0,Ie=0,s=o.bitLength()%26;for(s===0&&(s=26),Ne=o.length-1;Ne>=0;Ne--){for(var Y=o.words[Ne],li=s-1;li>=0;li--){var un=Y>>li&1;if(Le!==G[0]&&(Le=this.sqr(Le)),un===0&&ti===0){Ie=0;continue}ti<<=1,ti|=un,Ie++,!(Ie!==H&&(Ne!==0||li!==0))&&(Le=this.mul(Le,G[ti]),Ie=0,ti=0)}s=26}return Le},Bn.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},Bn.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},R.mont=function(t){return new ko(t)};function ko(ii){Bn.call(this,ii),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new R(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}W(ko,Bn),ko.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},ko.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},ko.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var H=t.imul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new R(0)._forceRed(this);var H=t.mul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$3)),bn$3.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(r,e){if(r.indexOf)return r.indexOf(e);for(var i=0;i<r.length;i++)if(r[i]===e)return i;return-1},Object_keys=function(r){if(Object.keys)return Object.keys(r);var e=[];for(var i in r)e.push(i);return e},forEach=function(r,e){if(r.forEach)return r.forEach(e);for(var i=0;i<r.length;i++)e(r[i],i,r)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(r,e,i){Object.defineProperty(r,e,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch{return function(e,i,P){e[i]=P}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(r){if(!(r instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var i=e.contentWindow,P=i.eval,W=i.execScript;!P&&W&&(W.call(i,"null"),P=i.eval),forEach(Object_keys(r),function(ei){i[ei]=r[ei]}),forEach(globals,function(ei){r[ei]&&(i[ei]=r[ei])});var R=Object_keys(i),Wr=P.call(i,this.code);return forEach(Object_keys(i),function(ei){(ei in r||indexOf(R,ei)===-1)&&(r[ei]=i[ei])}),forEach(globals,function(ei){ei in r||defineProp(r,ei,i[ei])}),document.body.removeChild(e),Wr},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(r){var e=Script.createContext(r),i=this.runInContext(e);return r&&forEach(Object_keys(e),function(P){r[P]=e[P]}),i},forEach(Object_keys(Script.prototype),function(r){exports[r]=Script[r]=function(e){var i=Script(e);return i[r].apply(i,[].slice.call(arguments,1))}}),exports.isContext=function(r){return r instanceof Context},exports.createScript=function(r){return exports.Script(r)},exports.createContext=Script.createContext=function(r){var e=new Context;return typeof r=="object"&&forEach(Object_keys(r),function(i){e[i]=r[i]}),e}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(r){var e=requireAsn1$1(),i=inherits_browserExports,P=r;P.define=function(Wr,ei){return new W(Wr,ei)};function W(R,Wr){this.name=R,this.body=Wr,this.decoders={},this.encoders={}}W.prototype._createNamed=function(Wr){var ei;try{ei=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{ei=function(Xr){this._initNamed(Xr)}}return i(ei,Wr),ei.prototype._initNamed=function(Xr){Wr.call(this,Xr)},new ei(this)},W.prototype._getDecoder=function(Wr){return Wr=Wr||"der",this.decoders.hasOwnProperty(Wr)||(this.decoders[Wr]=this._createNamed(e.decoders[Wr])),this.decoders[Wr]},W.prototype.decode=function(Wr,ei,ni){return this._getDecoder(ei).decode(Wr,ni)},W.prototype._getEncoder=function(Wr){return Wr=Wr||"der",this.encoders.hasOwnProperty(Wr)||(this.encoders[Wr]=this._createNamed(e.encoders[Wr])),this.encoders[Wr]},W.prototype.encode=function(Wr,ei,ni){return this._getEncoder(ei).encode(Wr,ni)}}(api)),api}var base$1={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var r=inherits_browserExports;function e(P){this._reporterState={obj:null,path:[],options:P||{},errors:[]}}reporter.Reporter=e,e.prototype.isError=function(W){return W instanceof i},e.prototype.save=function(){var W=this._reporterState;return{obj:W.obj,pathLen:W.path.length}},e.prototype.restore=function(W){var R=this._reporterState;R.obj=W.obj,R.path=R.path.slice(0,W.pathLen)},e.prototype.enterKey=function(W){return this._reporterState.path.push(W)},e.prototype.exitKey=function(W){var R=this._reporterState;R.path=R.path.slice(0,W-1)},e.prototype.leaveKey=function(W,R,Wr){var ei=this._reporterState;this.exitKey(W),ei.obj!==null&&(ei.obj[R]=Wr)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var W=this._reporterState,R=W.obj;return W.obj={},R},e.prototype.leaveObject=function(W){var R=this._reporterState,Wr=R.obj;return R.obj=W,Wr},e.prototype.error=function(W){var R,Wr=this._reporterState,ei=W instanceof i;if(ei?R=W:R=new i(Wr.path.map(function(ni){return"["+JSON.stringify(ni)+"]"}).join(""),W.message||W,W.stack),!Wr.options.partial)throw R;return ei||Wr.errors.push(R),R},e.prototype.wrapResult=function(W){var R=this._reporterState;return R.options.partial?{result:this.isError(W)?null:W,errors:R.errors}:W};function i(P,W){this.path=P,this.rethrow(W)}return r(i,Error),i.prototype.rethrow=function(W){if(this.message=W+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(R){this.stack=R.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var r=inherits_browserExports,e=requireBase().Reporter,i=require$$0$6.Buffer;function P(R,Wr){if(e.call(this,Wr),!i.isBuffer(R)){this.error("Input not Buffer");return}this.base=R,this.offset=0,this.length=R.length}r(P,e),buffer.DecoderBuffer=P,P.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},P.prototype.restore=function(Wr){var ei=new P(this.base);return ei.offset=Wr.offset,ei.length=this.offset,this.offset=Wr.offset,e.prototype.restore.call(this,Wr.reporter),ei},P.prototype.isEmpty=function(){return this.offset===this.length},P.prototype.readUInt8=function(Wr){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(Wr||"DecoderBuffer overrun")},P.prototype.skip=function(Wr,ei){if(!(this.offset+Wr<=this.length))return this.error(ei||"DecoderBuffer overrun");var ni=new P(this.base);return ni._reporterState=this._reporterState,ni.offset=this.offset,ni.length=this.offset+Wr,this.offset+=Wr,ni},P.prototype.raw=function(Wr){return this.base.slice(Wr?Wr.offset:this.offset,this.length)};function W(R,Wr){if(Array.isArray(R))this.length=0,this.value=R.map(function(ei){return ei instanceof W||(ei=new W(ei,Wr)),this.length+=ei.length,ei},this);else if(typeof R=="number"){if(!(0<=R&&R<=255))return Wr.error("non-byte EncoderBuffer value");this.value=R,this.length=1}else if(typeof R=="string")this.value=R,this.length=i.byteLength(R);else if(i.isBuffer(R))this.value=R,this.length=R.length;else return Wr.error("Unsupported type: "+typeof R)}return buffer.EncoderBuffer=W,W.prototype.join=function(Wr,ei){return Wr||(Wr=new i(this.length)),ei||(ei=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(ni){ni.join(Wr,ei),ei+=ni.length}):(typeof this.value=="number"?Wr[ei]=this.value:typeof this.value=="string"?Wr.write(this.value,ei):i.isBuffer(this.value)&&this.value.copy(Wr,ei),ei+=this.length)),Wr},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var r=requireBase().Reporter,e=requireBase().EncoderBuffer,i=requireBase().DecoderBuffer,P=requireMinimalisticAssert(),W=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],R=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(W),Wr=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function ei(Xr,Zr){var si={};this._baseState=si,si.enc=Xr,si.parent=Zr||null,si.children=null,si.tag=null,si.args=null,si.reverseArgs=null,si.choice=null,si.optional=!1,si.any=!1,si.obj=!1,si.use=null,si.useDecoder=null,si.key=null,si.default=null,si.explicit=null,si.implicit=null,si.contains=null,si.parent||(si.children=[],this._wrap())}node=ei;var ni=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return ei.prototype.clone=function(){var Zr=this._baseState,si={};ni.forEach(function(ai){si[ai]=Zr[ai]});var oi=new this.constructor(si.parent);return oi._baseState=si,oi},ei.prototype._wrap=function(){var Zr=this._baseState;R.forEach(function(si){this[si]=function(){var ai=new this.constructor(this);return Zr.children.push(ai),ai[si].apply(ai,arguments)}},this)},ei.prototype._init=function(Zr){var si=this._baseState;P(si.parent===null),Zr.call(this),si.children=si.children.filter(function(oi){return oi._baseState.parent===this},this),P.equal(si.children.length,1,"Root node can have only one child")},ei.prototype._useArgs=function(Zr){var si=this._baseState,oi=Zr.filter(function(ai){return ai instanceof this.constructor},this);Zr=Zr.filter(function(ai){return!(ai instanceof this.constructor)},this),oi.length!==0&&(P(si.children===null),si.children=oi,oi.forEach(function(ai){ai._baseState.parent=this},this)),Zr.length!==0&&(P(si.args===null),si.args=Zr,si.reverseArgs=Zr.map(function(ai){if(typeof ai!="object"||ai.constructor!==Object)return ai;var fi={};return Object.keys(ai).forEach(function(ui){ui==(ui|0)&&(ui|=0);var sn=ai[ui];fi[sn]=ui}),fi}))},Wr.forEach(function(Xr){ei.prototype[Xr]=function(){var si=this._baseState;throw new Error(Xr+" not implemented for encoding: "+si.enc)}}),W.forEach(function(Xr){ei.prototype[Xr]=function(){var si=this._baseState,oi=Array.prototype.slice.call(arguments);return P(si.tag===null),si.tag=Xr,this._useArgs(oi),this}}),ei.prototype.use=function(Zr){P(Zr);var si=this._baseState;return P(si.use===null),si.use=Zr,this},ei.prototype.optional=function(){var Zr=this._baseState;return Zr.optional=!0,this},ei.prototype.def=function(Zr){var si=this._baseState;return P(si.default===null),si.default=Zr,si.optional=!0,this},ei.prototype.explicit=function(Zr){var si=this._baseState;return P(si.explicit===null&&si.implicit===null),si.explicit=Zr,this},ei.prototype.implicit=function(Zr){var si=this._baseState;return P(si.explicit===null&&si.implicit===null),si.implicit=Zr,this},ei.prototype.obj=function(){var Zr=this._baseState,si=Array.prototype.slice.call(arguments);return Zr.obj=!0,si.length!==0&&this._useArgs(si),this},ei.prototype.key=function(Zr){var si=this._baseState;return P(si.key===null),si.key=Zr,this},ei.prototype.any=function(){var Zr=this._baseState;return Zr.any=!0,this},ei.prototype.choice=function(Zr){var si=this._baseState;return P(si.choice===null),si.choice=Zr,this._useArgs(Object.keys(Zr).map(function(oi){return Zr[oi]})),this},ei.prototype.contains=function(Zr){var si=this._baseState;return P(si.use===null),si.contains=Zr,this},ei.prototype._decode=function(Zr,si){var oi=this._baseState;if(oi.parent===null)return Zr.wrapResult(oi.children[0]._decode(Zr,si));var ai=oi.default,fi=!0,ui=null;if(oi.key!==null&&(ui=Zr.enterKey(oi.key)),oi.optional){var sn=null;if(oi.explicit!==null?sn=oi.explicit:oi.implicit!==null?sn=oi.implicit:oi.tag!==null&&(sn=oi.tag),sn===null&&!oi.any){var hn=Zr.save();try{oi.choice===null?this._decodeGeneric(oi.tag,Zr,si):this._decodeChoice(Zr,si),fi=!0}catch{fi=!1}Zr.restore(hn)}else if(fi=this._peekTag(Zr,sn,oi.any),Zr.isError(fi))return fi}var nn;if(oi.obj&&fi&&(nn=Zr.enterObject()),fi){if(oi.explicit!==null){var ln=this._decodeTag(Zr,oi.explicit);if(Zr.isError(ln))return ln;Zr=ln}var on=Zr.offset;if(oi.use===null&&oi.choice===null){if(oi.any)var hn=Zr.save();var vn=this._decodeTag(Zr,oi.implicit!==null?oi.implicit:oi.tag,oi.any);if(Zr.isError(vn))return vn;oi.any?ai=Zr.raw(hn):Zr=vn}if(si&&si.track&&oi.tag!==null&&si.track(Zr.path(),on,Zr.length,"tagged"),si&&si.track&&oi.tag!==null&&si.track(Zr.path(),Zr.offset,Zr.length,"content"),oi.any?ai=ai:oi.choice===null?ai=this._decodeGeneric(oi.tag,Zr,si):ai=this._decodeChoice(Zr,si),Zr.isError(ai))return ai;if(!oi.any&&oi.choice===null&&oi.children!==null&&oi.children.forEach(function(mn){mn._decode(Zr,si)}),oi.contains&&(oi.tag==="octstr"||oi.tag==="bitstr")){var Mn=new i(ai);ai=this._getUse(oi.contains,Zr._reporterState.obj)._decode(Mn,si)}}return oi.obj&&fi&&(ai=Zr.leaveObject(nn)),oi.key!==null&&(ai!==null||fi===!0)?Zr.leaveKey(ui,oi.key,ai):ui!==null&&Zr.exitKey(ui),ai},ei.prototype._decodeGeneric=function(Zr,si,oi){var ai=this._baseState;return Zr==="seq"||Zr==="set"?null:Zr==="seqof"||Zr==="setof"?this._decodeList(si,Zr,ai.args[0],oi):/str$/.test(Zr)?this._decodeStr(si,Zr,oi):Zr==="objid"&&ai.args?this._decodeObjid(si,ai.args[0],ai.args[1],oi):Zr==="objid"?this._decodeObjid(si,null,null,oi):Zr==="gentime"||Zr==="utctime"?this._decodeTime(si,Zr,oi):Zr==="null_"?this._decodeNull(si,oi):Zr==="bool"?this._decodeBool(si,oi):Zr==="objDesc"?this._decodeStr(si,Zr,oi):Zr==="int"||Zr==="enum"?this._decodeInt(si,ai.args&&ai.args[0],oi):ai.use!==null?this._getUse(ai.use,si._reporterState.obj)._decode(si,oi):si.error("unknown tag: "+Zr)},ei.prototype._getUse=function(Zr,si){var oi=this._baseState;return oi.useDecoder=this._use(Zr,si),P(oi.useDecoder._baseState.parent===null),oi.useDecoder=oi.useDecoder._baseState.children[0],oi.implicit!==oi.useDecoder._baseState.implicit&&(oi.useDecoder=oi.useDecoder.clone(),oi.useDecoder._baseState.implicit=oi.implicit),oi.useDecoder},ei.prototype._decodeChoice=function(Zr,si){var oi=this._baseState,ai=null,fi=!1;return Object.keys(oi.choice).some(function(ui){var sn=Zr.save(),hn=oi.choice[ui];try{var nn=hn._decode(Zr,si);if(Zr.isError(nn))return!1;ai={type:ui,value:nn},fi=!0}catch{return Zr.restore(sn),!1}return!0},this),fi?ai:Zr.error("Choice not matched")},ei.prototype._createEncoderBuffer=function(Zr){return new e(Zr,this.reporter)},ei.prototype._encode=function(Zr,si,oi){var ai=this._baseState;if(!(ai.default!==null&&ai.default===Zr)){var fi=this._encodeValue(Zr,si,oi);if(fi!==void 0&&!this._skipDefault(fi,si,oi))return fi}},ei.prototype._encodeValue=function(Zr,si,oi){var ai=this._baseState;if(ai.parent===null)return ai.children[0]._encode(Zr,si||new r);var hn=null;if(this.reporter=si,ai.optional&&Zr===void 0)if(ai.default!==null)Zr=ai.default;else return;var fi=null,ui=!1;if(ai.any)hn=this._createEncoderBuffer(Zr);else if(ai.choice)hn=this._encodeChoice(Zr,si);else if(ai.contains)fi=this._getUse(ai.contains,oi)._encode(Zr,si),ui=!0;else if(ai.children)fi=ai.children.map(function(on){if(on._baseState.tag==="null_")return on._encode(null,si,Zr);if(on._baseState.key===null)return si.error("Child should have a key");var vn=si.enterKey(on._baseState.key);if(typeof Zr!="object")return si.error("Child expected, but input is not object");var Mn=on._encode(Zr[on._baseState.key],si,Zr);return si.leaveKey(vn),Mn},this).filter(function(on){return on}),fi=this._createEncoderBuffer(fi);else if(ai.tag==="seqof"||ai.tag==="setof"){if(!(ai.args&&ai.args.length===1))return si.error("Too many args for : "+ai.tag);if(!Array.isArray(Zr))return si.error("seqof/setof, but data is not Array");var sn=this.clone();sn._baseState.implicit=null,fi=this._createEncoderBuffer(Zr.map(function(on){var vn=this._baseState;return this._getUse(vn.args[0],Zr)._encode(on,si)},sn))}else ai.use!==null?hn=this._getUse(ai.use,oi)._encode(Zr,si):(fi=this._encodePrimitive(ai.tag,Zr),ui=!0);var hn;if(!ai.any&&ai.choice===null){var nn=ai.implicit!==null?ai.implicit:ai.tag,ln=ai.implicit===null?"universal":"context";nn===null?ai.use===null&&si.error("Tag could be omitted only for .use()"):ai.use===null&&(hn=this._encodeComposite(nn,ui,ln,fi))}return ai.explicit!==null&&(hn=this._encodeComposite(ai.explicit,!1,"context",hn)),hn},ei.prototype._encodeChoice=function(Zr,si){var oi=this._baseState,ai=oi.choice[Zr.type];return ai||P(!1,Zr.type+" not found in "+JSON.stringify(Object.keys(oi.choice))),ai._encode(Zr.value,si)},ei.prototype._encodePrimitive=function(Zr,si){var oi=this._baseState;if(/str$/.test(Zr))return this._encodeStr(si,Zr);if(Zr==="objid"&&oi.args)return this._encodeObjid(si,oi.reverseArgs[0],oi.args[1]);if(Zr==="objid")return this._encodeObjid(si,null,null);if(Zr==="gentime"||Zr==="utctime")return this._encodeTime(si,Zr);if(Zr==="null_")return this._encodeNull();if(Zr==="int"||Zr==="enum")return this._encodeInt(si,oi.args&&oi.reverseArgs[0]);if(Zr==="bool")return this._encodeBool(si);if(Zr==="objDesc")return this._encodeStr(si,Zr);throw new Error("Unsupported tag: "+Zr)},ei.prototype._isNumstr=function(Zr){return/^[0-9 ]*$/.test(Zr)},ei.prototype._isPrintstr=function(Zr){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(Zr)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(r){var e=r;e.Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()}(base$1)),base$1}var constants$1={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(r){var e=requireConstants$1();r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=e._reverse(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=e._reverse(r.tag)}(der)),der}var hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,function(r){var e=r;e._reverse=function(P){var W={};return Object.keys(P).forEach(function(R){(R|0)==R&&(R=R|0);var Wr=P[R];W[Wr]=R}),W},e.der=requireDer$2()}(constants$1)),constants$1}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var r=inherits_browserExports,e=requireAsn1$1(),i=e.base,P=e.bignum,W=e.constants.der;function R(Xr){this.enc="der",this.name=Xr.name,this.entity=Xr,this.tree=new Wr,this.tree._init(Xr.body)}der_1$1=R,R.prototype.decode=function(Zr,si){return Zr instanceof i.DecoderBuffer||(Zr=new i.DecoderBuffer(Zr,si)),this.tree._decode(Zr,si)};function Wr(Xr){i.Node.call(this,"der",Xr)}r(Wr,i.Node),Wr.prototype._peekTag=function(Zr,si,oi){if(Zr.isEmpty())return!1;var ai=Zr.save(),fi=ei(Zr,'Failed to peek tag: "'+si+'"');return Zr.isError(fi)?fi:(Zr.restore(ai),fi.tag===si||fi.tagStr===si||fi.tagStr+"of"===si||oi)},Wr.prototype._decodeTag=function(Zr,si,oi){var ai=ei(Zr,'Failed to decode tag of "'+si+'"');if(Zr.isError(ai))return ai;var fi=ni(Zr,ai.primitive,'Failed to get length of "'+si+'"');if(Zr.isError(fi))return fi;if(!oi&&ai.tag!==si&&ai.tagStr!==si&&ai.tagStr+"of"!==si)return Zr.error('Failed to match tag: "'+si+'"');if(ai.primitive||fi!==null)return Zr.skip(fi,'Failed to match body of: "'+si+'"');var ui=Zr.save(),sn=this._skipUntilEnd(Zr,'Failed to skip indefinite length body: "'+this.tag+'"');return Zr.isError(sn)?sn:(fi=Zr.offset-ui.offset,Zr.restore(ui),Zr.skip(fi,'Failed to match body of: "'+si+'"'))},Wr.prototype._skipUntilEnd=function(Zr,si){for(;;){var oi=ei(Zr,si);if(Zr.isError(oi))return oi;var ai=ni(Zr,oi.primitive,si);if(Zr.isError(ai))return ai;var fi;if(oi.primitive||ai!==null?fi=Zr.skip(ai):fi=this._skipUntilEnd(Zr,si),Zr.isError(fi))return fi;if(oi.tagStr==="end")break}},Wr.prototype._decodeList=function(Zr,si,oi,ai){for(var fi=[];!Zr.isEmpty();){var ui=this._peekTag(Zr,"end");if(Zr.isError(ui))return ui;var sn=oi.decode(Zr,"der",ai);if(Zr.isError(sn)&&ui)break;fi.push(sn)}return fi},Wr.prototype._decodeStr=function(Zr,si){if(si==="bitstr"){var oi=Zr.readUInt8();return Zr.isError(oi)?oi:{unused:oi,data:Zr.raw()}}else if(si==="bmpstr"){var ai=Zr.raw();if(ai.length%2===1)return Zr.error("Decoding of string type: bmpstr length mismatch");for(var fi="",ui=0;ui<ai.length/2;ui++)fi+=String.fromCharCode(ai.readUInt16BE(ui*2));return fi}else if(si==="numstr"){var sn=Zr.raw().toString("ascii");return this._isNumstr(sn)?sn:Zr.error("Decoding of string type: numstr unsupported characters")}else{if(si==="octstr")return Zr.raw();if(si==="objDesc")return Zr.raw();if(si==="printstr"){var hn=Zr.raw().toString("ascii");return this._isPrintstr(hn)?hn:Zr.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(si)?Zr.raw().toString():Zr.error("Decoding of string type: "+si+" unsupported")}},Wr.prototype._decodeObjid=function(Zr,si,oi){for(var ai,fi=[],ui=0;!Zr.isEmpty();){var sn=Zr.readUInt8();ui<<=7,ui|=sn&127,sn&128||(fi.push(ui),ui=0)}sn&128&&fi.push(ui);var hn=fi[0]/40|0,nn=fi[0]%40;if(oi?ai=fi:ai=[hn,nn].concat(fi.slice(1)),si){var ln=si[ai.join(" ")];ln===void 0&&(ln=si[ai.join(".")]),ln!==void 0&&(ai=ln)}return ai},Wr.prototype._decodeTime=function(Zr,si){var oi=Zr.raw().toString();if(si==="gentime")var ai=oi.slice(0,4)|0,fi=oi.slice(4,6)|0,ui=oi.slice(6,8)|0,sn=oi.slice(8,10)|0,hn=oi.slice(10,12)|0,nn=oi.slice(12,14)|0;else if(si==="utctime"){var ai=oi.slice(0,2)|0,fi=oi.slice(2,4)|0,ui=oi.slice(4,6)|0,sn=oi.slice(6,8)|0,hn=oi.slice(8,10)|0,nn=oi.slice(10,12)|0;ai<70?ai=2e3+ai:ai=1900+ai}else return Zr.error("Decoding "+si+" time is not supported yet");return Date.UTC(ai,fi-1,ui,sn,hn,nn,0)},Wr.prototype._decodeNull=function(Zr){return null},Wr.prototype._decodeBool=function(Zr){var si=Zr.readUInt8();return Zr.isError(si)?si:si!==0},Wr.prototype._decodeInt=function(Zr,si){var oi=Zr.raw(),ai=new P(oi);return si&&(ai=si[ai.toString(10)]||ai),ai},Wr.prototype._use=function(Zr,si){return typeof Zr=="function"&&(Zr=Zr(si)),Zr._getDecoder("der").tree};function ei(Xr,Zr){var si=Xr.readUInt8(Zr);if(Xr.isError(si))return si;var oi=W.tagClass[si>>6],ai=(si&32)===0;if((si&31)===31){var fi=si;for(si=0;(fi&128)===128;){if(fi=Xr.readUInt8(Zr),Xr.isError(fi))return fi;si<<=7,si|=fi&127}}else si&=31;var ui=W.tag[si];return{cls:oi,primitive:ai,tag:si,tagStr:ui}}function ni(Xr,Zr,si){var oi=Xr.readUInt8(si);if(Xr.isError(oi))return oi;if(!Zr&&oi===128)return null;if(!(oi&128))return oi;var ai=oi&127;if(ai>4)return Xr.error("length octect is too long");oi=0;for(var fi=0;fi<ai;fi++){oi<<=8;var ui=Xr.readUInt8(si);if(Xr.isError(ui))return ui;oi|=ui}return oi}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var r=inherits_browserExports,e=require$$0$6.Buffer,i=requireDer$1();function P(W){i.call(this,W),this.enc="pem"}return r(P,i),pem$1=P,P.prototype.decode=function(R,Wr){for(var ei=R.toString().split(/[\r\n]+/g),ni=Wr.label.toUpperCase(),Xr=/^-----(BEGIN|END) ([^-]+)-----$/,Zr=-1,si=-1,oi=0;oi<ei.length;oi++){var ai=ei[oi].match(Xr);if(ai!==null&&ai[2]===ni)if(Zr===-1){if(ai[1]!=="BEGIN")break;Zr=oi}else{if(ai[1]!=="END")break;si=oi;break}}if(Zr===-1||si===-1)throw new Error("PEM section not found for: "+ni);var fi=ei.slice(Zr+1,si).join("");fi.replace(/[^a-z0-9\+\/=]+/gi,"");var ui=new e(fi,"base64");return i.prototype.decode.call(this,ui,Wr)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(r){var e=r;e.der=requireDer$1(),e.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var r=inherits_browserExports,e=require$$0$6.Buffer,i=requireAsn1$1(),P=i.base,W=i.constants.der;function R(Xr){this.enc="der",this.name=Xr.name,this.entity=Xr,this.tree=new Wr,this.tree._init(Xr.body)}der_1=R,R.prototype.encode=function(Zr,si){return this.tree._encode(Zr,si).join()};function Wr(Xr){P.Node.call(this,"der",Xr)}r(Wr,P.Node),Wr.prototype._encodeComposite=function(Zr,si,oi,ai){var fi=ni(Zr,si,oi,this.reporter);if(ai.length<128){var hn=new e(2);return hn[0]=fi,hn[1]=ai.length,this._createEncoderBuffer([hn,ai])}for(var ui=1,sn=ai.length;sn>=256;sn>>=8)ui++;var hn=new e(2+ui);hn[0]=fi,hn[1]=128|ui;for(var sn=1+ui,nn=ai.length;nn>0;sn--,nn>>=8)hn[sn]=nn&255;return this._createEncoderBuffer([hn,ai])},Wr.prototype._encodeStr=function(Zr,si){if(si==="bitstr")return this._createEncoderBuffer([Zr.unused|0,Zr.data]);if(si==="bmpstr"){for(var oi=new e(Zr.length*2),ai=0;ai<Zr.length;ai++)oi.writeUInt16BE(Zr.charCodeAt(ai),ai*2);return this._createEncoderBuffer(oi)}else return si==="numstr"?this._isNumstr(Zr)?this._createEncoderBuffer(Zr):this.reporter.error("Encoding of string type: numstr supports only digits and space"):si==="printstr"?this._isPrintstr(Zr)?this._createEncoderBuffer(Zr):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(si)?this._createEncoderBuffer(Zr):si==="objDesc"?this._createEncoderBuffer(Zr):this.reporter.error("Encoding of string type: "+si+" unsupported")},Wr.prototype._encodeObjid=function(Zr,si,oi){if(typeof Zr=="string"){if(!si)return this.reporter.error("string objid given, but no values map found");if(!si.hasOwnProperty(Zr))return this.reporter.error("objid not found in values map");Zr=si[Zr].split(/[\s\.]+/g);for(var ai=0;ai<Zr.length;ai++)Zr[ai]|=0}else if(Array.isArray(Zr)){Zr=Zr.slice();for(var ai=0;ai<Zr.length;ai++)Zr[ai]|=0}if(!Array.isArray(Zr))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(Zr));if(!oi){if(Zr[1]>=40)return this.reporter.error("Second objid identifier OOB");Zr.splice(0,2,Zr[0]*40+Zr[1])}for(var fi=0,ai=0;ai<Zr.length;ai++){var ui=Zr[ai];for(fi++;ui>=128;ui>>=7)fi++}for(var sn=new e(fi),hn=sn.length-1,ai=Zr.length-1;ai>=0;ai--){var ui=Zr[ai];for(sn[hn--]=ui&127;(ui>>=7)>0;)sn[hn--]=128|ui&127}return this._createEncoderBuffer(sn)};function ei(Xr){return Xr<10?"0"+Xr:Xr}Wr.prototype._encodeTime=function(Zr,si){var oi,ai=new Date(Zr);return si==="gentime"?oi=[ei(ai.getFullYear()),ei(ai.getUTCMonth()+1),ei(ai.getUTCDate()),ei(ai.getUTCHours()),ei(ai.getUTCMinutes()),ei(ai.getUTCSeconds()),"Z"].join(""):si==="utctime"?oi=[ei(ai.getFullYear()%100),ei(ai.getUTCMonth()+1),ei(ai.getUTCDate()),ei(ai.getUTCHours()),ei(ai.getUTCMinutes()),ei(ai.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+si+" time is not supported yet"),this._encodeStr(oi,"octstr")},Wr.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Wr.prototype._encodeInt=function(Zr,si){if(typeof Zr=="string"){if(!si)return this.reporter.error("String int or enum given, but no values map");if(!si.hasOwnProperty(Zr))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(Zr));Zr=si[Zr]}if(typeof Zr!="number"&&!e.isBuffer(Zr)){var oi=Zr.toArray();!Zr.sign&&oi[0]&128&&oi.unshift(0),Zr=new e(oi)}if(e.isBuffer(Zr)){var ai=Zr.length;Zr.length===0&&ai++;var ui=new e(ai);return Zr.copy(ui),Zr.length===0&&(ui[0]=0),this._createEncoderBuffer(ui)}if(Zr<128)return this._createEncoderBuffer(Zr);if(Zr<256)return this._createEncoderBuffer([0,Zr]);for(var ai=1,fi=Zr;fi>=256;fi>>=8)ai++;for(var ui=new Array(ai),fi=ui.length-1;fi>=0;fi--)ui[fi]=Zr&255,Zr>>=8;return ui[0]&128&&ui.unshift(0),this._createEncoderBuffer(new e(ui))},Wr.prototype._encodeBool=function(Zr){return this._createEncoderBuffer(Zr?255:0)},Wr.prototype._use=function(Zr,si){return typeof Zr=="function"&&(Zr=Zr(si)),Zr._getEncoder("der").tree},Wr.prototype._skipDefault=function(Zr,si,oi){var ai=this._baseState,fi;if(ai.default===null)return!1;var ui=Zr.join();if(ai.defaultBuffer===void 0&&(ai.defaultBuffer=this._encodeValue(ai.default,si,oi).join()),ui.length!==ai.defaultBuffer.length)return!1;for(fi=0;fi<ui.length;fi++)if(ui[fi]!==ai.defaultBuffer[fi])return!1;return!0};function ni(Xr,Zr,si,oi){var ai;if(Xr==="seqof"?Xr="seq":Xr==="setof"&&(Xr="set"),W.tagByName.hasOwnProperty(Xr))ai=W.tagByName[Xr];else if(typeof Xr=="number"&&(Xr|0)===Xr)ai=Xr;else return oi.error("Unknown tag: "+Xr);return ai>=31?oi.error("Multi-octet tag encoding unsupported"):(Zr||(ai|=32),ai|=W.tagClassByName[si||"universal"]<<6,ai)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var r=inherits_browserExports,e=requireDer();function i(P){e.call(this,P),this.enc="pem"}return r(i,e),pem=i,i.prototype.encode=function(W,R){for(var Wr=e.prototype.encode.call(this,W),ei=Wr.toString("base64"),ni=["-----BEGIN "+R.label+"-----"],Xr=0;Xr<ei.length;Xr+=64)ni.push(ei.slice(Xr,Xr+64));return ni.push("-----END "+R.label+"-----"),ni.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(r){var e=r;e.der=requireDer(),e.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(r){var e=r;e.bignum=requireBn$2(),e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants$1(),e.decoders=requireDecoders(),e.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var r=requireAsn1$1(),e=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),P=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),W=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(P),this.key("subjectPublicKey").bitstr())}),R=r.define("RelativeDistinguishedName",function(){this.setof(i)}),Wr=r.define("RDNSequence",function(){this.seqof(R)}),ei=r.define("Name",function(){this.choice({rdnSequence:this.use(Wr)})}),ni=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),Xr=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Zr=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(P),this.key("issuer").use(ei),this.key("validity").use(ni),this.key("subject").use(ei),this.key("subjectPublicKeyInfo").use(W),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Xr).optional())}),si=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Zr),this.key("signatureAlgorithm").use(P),this.key("signatureValue").bitstr())});return certificate=si,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var r=requireAsn1$1();asn1$1.certificate=requireCertificate();var e=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=e;var i=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=i;var P=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),W=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(P),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=W;var R=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(P),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=R;var Wr=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=Wr;var ei=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=ei,asn1$1.DSAparam=r.define("DSAparam",function(){this.int()});var ni=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Xr=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ni),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=Xr,asn1$1.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,P=requireEvp_bytestokey(),W=requireBrowser$6(),R=safeBufferExports.Buffer;return fixProc=function(Wr,ei){var ni=Wr.toString(),Xr=ni.match(r),Zr;if(Xr){var oi="aes"+Xr[1],ai=R.from(Xr[2],"hex"),fi=R.from(Xr[3].replace(/[\r\n]/g,""),"base64"),ui=P(ei,ai.slice(0,8),parseInt(Xr[1],10)).key,sn=[],hn=W.createDecipheriv(oi,ui,ai);sn.push(hn.update(fi)),sn.push(hn.final()),Zr=R.concat(sn)}else{var si=ni.match(i);Zr=R.from(si[2].replace(/[\r\n]/g,""),"base64")}var nn=ni.match(e)[1];return{tag:nn,data:Zr}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var r=requireAsn1(),e=require$$1,i=requireFixProc(),P=requireBrowser$6(),W=requireBrowser$7(),R=safeBufferExports.Buffer;function Wr(ni,Xr){var Zr=ni.algorithm.decrypt.kde.kdeparams.salt,si=parseInt(ni.algorithm.decrypt.kde.kdeparams.iters.toString(),10),oi=e[ni.algorithm.decrypt.cipher.algo.join(".")],ai=ni.algorithm.decrypt.cipher.iv,fi=ni.subjectPrivateKey,ui=parseInt(oi.split("-")[1],10)/8,sn=W.pbkdf2Sync(Xr,Zr,si,ui,"sha1"),hn=P.createDecipheriv(oi,sn,ai),nn=[];return nn.push(hn.update(fi)),nn.push(hn.final()),R.concat(nn)}function ei(ni){var Xr;typeof ni=="object"&&!R.isBuffer(ni)&&(Xr=ni.passphrase,ni=ni.key),typeof ni=="string"&&(ni=R.from(ni));var Zr=i(ni,Xr),si=Zr.tag,oi=Zr.data,ai,fi;switch(si){case"CERTIFICATE":fi=r.certificate.decode(oi,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(fi||(fi=r.PublicKey.decode(oi,"der")),ai=fi.algorithm.algorithm.join("."),ai){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(fi.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return fi.subjectPrivateKey=fi.subjectPublicKey,{type:"ec",data:fi};case"1.2.840.10040.4.1":return fi.algorithm.params.pub_key=r.DSAparam.decode(fi.subjectPublicKey.data,"der"),{type:"dsa",data:fi.algorithm.params};default:throw new Error("unknown key id "+ai)}case"ENCRYPTED PRIVATE KEY":oi=r.EncryptedPrivateKey.decode(oi,"der"),oi=Wr(oi,Xr);case"PRIVATE KEY":switch(fi=r.PrivateKey.decode(oi,"der"),ai=fi.algorithm.algorithm.join("."),ai){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(fi.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:fi.algorithm.curve,privateKey:r.ECPrivateKey.decode(fi.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return fi.algorithm.params.priv_key=r.DSAparam.decode(fi.subjectPrivateKey,"der"),{type:"dsa",params:fi.algorithm.params};default:throw new Error("unknown key id "+ai)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(oi,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(oi,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(oi,"der")};case"EC PRIVATE KEY":return oi=r.ECPrivateKey.decode(oi,"der"),{curve:oi.parameters.value,privateKey:oi.privateKey};default:throw new Error("unknown key type "+si)}}return ei.signature=r.signature,parseAsn1=ei,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var r=safeBufferExports.Buffer,e=requireBrowser$8(),i=requireBrowserifyRsa(),P=requireElliptic().ec,W=bnExports,R=requireParseAsn1(),Wr=require$$4,ei=1;function ni(hn,nn,ln,on,vn){var Mn=R(nn);if(Mn.curve){if(on!=="ecdsa"&&on!=="ecdsa/rsa")throw new Error("wrong private key type");return Xr(hn,Mn)}else if(Mn.type==="dsa"){if(on!=="dsa")throw new Error("wrong private key type");return Zr(hn,Mn,ln)}if(on!=="rsa"&&on!=="ecdsa/rsa")throw new Error("wrong private key type");if(nn.padding!==void 0&&nn.padding!==ei)throw new Error("illegal or unsupported padding mode");hn=r.concat([vn,hn]);for(var mi=Mn.modulus.byteLength(),mn=[0,1];hn.length+mn.length+1<mi;)mn.push(255);mn.push(0);for(var Bn=-1;++Bn<hn.length;)mn.push(hn[Bn]);var ko=i(mn,Mn);return ko}function Xr(hn,nn){var ln=Wr[nn.curve.join(".")];if(!ln)throw new Error("unknown curve "+nn.curve.join("."));var on=new P(ln),vn=on.keyFromPrivate(nn.privateKey),Mn=vn.sign(hn);return r.from(Mn.toDER())}function Zr(hn,nn,ln){for(var on=nn.params.priv_key,vn=nn.params.p,Mn=nn.params.q,mi=nn.params.g,mn=new W(0),Bn,ko=ai(hn,Mn).mod(Mn),ii=!1,t=oi(on,Mn,hn,ln);ii===!1;)Bn=ui(Mn,t,ln),mn=sn(mi,Bn,vn,Mn),ii=Bn.invm(Mn).imul(ko.add(on.mul(mn))).mod(Mn),ii.cmpn(0)===0&&(ii=!1,mn=new W(0));return si(mn,ii)}function si(hn,nn){hn=hn.toArray(),nn=nn.toArray(),hn[0]&128&&(hn=[0].concat(hn)),nn[0]&128&&(nn=[0].concat(nn));var ln=hn.length+nn.length+4,on=[48,ln,2,hn.length];return on=on.concat(hn,[2,nn.length],nn),r.from(on)}function oi(hn,nn,ln,on){if(hn=r.from(hn.toArray()),hn.length<nn.byteLength()){var vn=r.alloc(nn.byteLength()-hn.length);hn=r.concat([vn,hn])}var Mn=ln.length,mi=fi(ln,nn),mn=r.alloc(Mn);mn.fill(1);var Bn=r.alloc(Mn);return Bn=e(on,Bn).update(mn).update(r.from([0])).update(hn).update(mi).digest(),mn=e(on,Bn).update(mn).digest(),Bn=e(on,Bn).update(mn).update(r.from([1])).update(hn).update(mi).digest(),mn=e(on,Bn).update(mn).digest(),{k:Bn,v:mn}}function ai(hn,nn){var ln=new W(hn),on=(hn.length<<3)-nn.bitLength();return on>0&&ln.ishrn(on),ln}function fi(hn,nn){hn=ai(hn,nn),hn=hn.mod(nn);var ln=r.from(hn.toArray());if(ln.length<nn.byteLength()){var on=r.alloc(nn.byteLength()-ln.length);ln=r.concat([on,ln])}return ln}function ui(hn,nn,ln){var on,vn;do{for(on=r.alloc(0);on.length*8<hn.bitLength();)nn.v=e(ln,nn.k).update(nn.v).digest(),on=r.concat([on,nn.v]);vn=ai(on,hn),nn.k=e(ln,nn.k).update(nn.v).update(r.from([0])).digest(),nn.v=e(ln,nn.k).update(nn.v).digest()}while(vn.cmp(hn)!==-1);return vn}function sn(hn,nn,ln,on){return hn.toRed(W.mont(ln)).redPow(nn).fromRed().mod(on)}return sign.exports=ni,sign.exports.getKey=oi,sign.exports.makeKey=ui,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var r=safeBufferExports.Buffer,e=bnExports,i=requireElliptic().ec,P=requireParseAsn1(),W=require$$4;function R(Xr,Zr,si,oi,ai){var fi=P(si);if(fi.type==="ec"){if(oi!=="ecdsa"&&oi!=="ecdsa/rsa")throw new Error("wrong public key type");return Wr(Xr,Zr,fi)}else if(fi.type==="dsa"){if(oi!=="dsa")throw new Error("wrong public key type");return ei(Xr,Zr,fi)}if(oi!=="rsa"&&oi!=="ecdsa/rsa")throw new Error("wrong public key type");Zr=r.concat([ai,Zr]);for(var ui=fi.modulus.byteLength(),sn=[1],hn=0;Zr.length+sn.length+2<ui;)sn.push(255),hn+=1;sn.push(0);for(var nn=-1;++nn<Zr.length;)sn.push(Zr[nn]);sn=r.from(sn);var ln=e.mont(fi.modulus);Xr=new e(Xr).toRed(ln),Xr=Xr.redPow(new e(fi.publicExponent)),Xr=r.from(Xr.fromRed().toArray());var on=hn<8?1:0;for(ui=Math.min(Xr.length,sn.length),Xr.length!==sn.length&&(on=1),nn=-1;++nn<ui;)on|=Xr[nn]^sn[nn];return on===0}function Wr(Xr,Zr,si){var oi=W[si.data.algorithm.curve.join(".")];if(!oi)throw new Error("unknown curve "+si.data.algorithm.curve.join("."));var ai=new i(oi),fi=si.data.subjectPrivateKey.data;return ai.verify(Zr,Xr,fi)}function ei(Xr,Zr,si){var oi=si.data.p,ai=si.data.q,fi=si.data.g,ui=si.data.pub_key,sn=P.signature.decode(Xr,"der"),hn=sn.s,nn=sn.r;ni(hn,ai),ni(nn,ai);var ln=e.mont(oi),on=hn.invm(ai),vn=fi.toRed(ln).redPow(new e(Zr).mul(on).mod(ai)).fromRed().mul(ui.toRed(ln).redPow(nn.mul(on).mod(ai)).fromRed()).mod(oi).mod(ai);return vn.cmp(nn)===0}function ni(Xr,Zr){if(Xr.cmpn(0)<=0)throw new Error("invalid sig");if(Xr.cmp(Zr)>=0)throw new Error("invalid sig")}return verify_1=R,verify_1}var browser$5,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$5;hasRequiredBrowser$3=1;var r=safeBufferExports.Buffer,e=requireBrowser$9(),i=requireReadableBrowser(),P=inherits_browserExports,W=requireSign(),R=requireVerify(),Wr=require$$6;Object.keys(Wr).forEach(function(si){Wr[si].id=r.from(Wr[si].id,"hex"),Wr[si.toLowerCase()]=Wr[si]});function ei(si){i.Writable.call(this);var oi=Wr[si];if(!oi)throw new Error("Unknown message digest");this._hashType=oi.hash,this._hash=e(oi.hash),this._tag=oi.id,this._signType=oi.sign}P(ei,i.Writable),ei.prototype._write=function(oi,ai,fi){this._hash.update(oi),fi()},ei.prototype.update=function(oi,ai){return this._hash.update(typeof oi=="string"?r.from(oi,ai):oi),this},ei.prototype.sign=function(oi,ai){this.end();var fi=this._hash.digest(),ui=W(fi,oi,this._hashType,this._signType,this._tag);return ai?ui.toString(ai):ui};function ni(si){i.Writable.call(this);var oi=Wr[si];if(!oi)throw new Error("Unknown message digest");this._hash=e(oi.hash),this._tag=oi.id,this._signType=oi.sign}P(ni,i.Writable),ni.prototype._write=function(oi,ai,fi){this._hash.update(oi),fi()},ni.prototype.update=function(oi,ai){return this._hash.update(typeof oi=="string"?r.from(oi,ai):oi),this},ni.prototype.verify=function(oi,ai,fi){var ui=typeof ai=="string"?r.from(ai,fi):ai;this.end();var sn=this._hash.digest();return R(ui,sn,oi,this._signType,this._tag)};function Xr(si){return new ei(si)}function Zr(si){return new ni(si)}return browser$5={Sign:Xr,Verify:Zr,createSign:Xr,createVerify:Zr},browser$5}var bn$2={exports:{}};bn$2.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(r){(function(e,i){function P(ii,t){if(!ii)throw new Error(t||"Assertion failed")}function W(ii,t){ii.super_=t;var o=function(){};o.prototype=t.prototype,ii.prototype=new o,ii.prototype.constructor=ii}function R(ii,t,o){if(R.isBN(ii))return ii;this.negative=0,this.words=null,this.length=0,this.red=null,ii!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(ii||0,t||10,o||"be"))}typeof e=="object"?e.exports=R:i.BN=R,R.BN=R,R.wordSize=26;var Wr;try{typeof window<"u"&&typeof window.Buffer<"u"?Wr=window.Buffer:Wr=require$$0$6.Buffer}catch{}R.isBN=function(t){return t instanceof R?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===R.wordSize&&Array.isArray(t.words)},R.max=function(t,o){return t.cmp(o)>0?t:o},R.min=function(t,o){return t.cmp(o)<0?t:o},R.prototype._init=function(t,o,H){if(typeof t=="number")return this._initNumber(t,o,H);if(typeof t=="object")return this._initArray(t,o,H);o==="hex"&&(o=16),P(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var G=0;t[0]==="-"&&(G++,this.negative=1),G<t.length&&(o===16?this._parseHex(t,G,H):(this._parseBase(t,o,G),H==="le"&&this._initArray(this.toArray(),o,H)))},R.prototype._initNumber=function(t,o,H){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(P(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),H==="le"&&this._initArray(this.toArray(),o,H)},R.prototype._initArray=function(t,o,H){if(P(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne,Le,ti=0;if(H==="be")for(G=t.length-1,Ne=0;G>=0;G-=3)Le=t[G]|t[G-1]<<8|t[G-2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);else if(H==="le")for(G=0,Ne=0;G<t.length;G+=3)Le=t[G]|t[G+1]<<8|t[G+2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);return this.strip()};function ei(ii,t){var o=ii.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function ni(ii,t,o){var H=ei(ii,o);return o-1>=t&&(H|=ei(ii,o-1)<<4),H}R.prototype._parseHex=function(t,o,H){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne=0,Le=0,ti;if(H==="be")for(G=t.length-1;G>=o;G-=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8;else{var Ie=t.length-o;for(G=Ie%2===0?o+1:o;G<t.length;G+=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8}this.strip()};function Xr(ii,t,o,H){for(var G=0,Ne=Math.min(ii.length,o),Le=t;Le<Ne;Le++){var ti=ii.charCodeAt(Le)-48;G*=H,ti>=49?G+=ti-49+10:ti>=17?G+=ti-17+10:G+=ti}return G}R.prototype._parseBase=function(t,o,H){this.words=[0],this.length=1;for(var G=0,Ne=1;Ne<=67108863;Ne*=o)G++;G--,Ne=Ne/o|0;for(var Le=t.length-H,ti=Le%G,Ie=Math.min(Le,Le-ti)+H,s=0,Y=H;Y<Ie;Y+=G)s=Xr(t,Y,Y+G,o),this.imuln(Ne),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(ti!==0){var li=1;for(s=Xr(t,Y,t.length,o),Y=0;Y<ti;Y++)li*=o;this.imuln(li),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},R.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},R.prototype.clone=function(){var t=new R(null);return this.copy(t),t},R.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},R.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},R.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},R.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Zr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],si=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],oi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];R.prototype.toString=function(t,o){t=t||10,o=o|0||1;var H;if(t===16||t==="hex"){H="";for(var G=0,Ne=0,Le=0;Le<this.length;Le++){var ti=this.words[Le],Ie=((ti<<G|Ne)&16777215).toString(16);Ne=ti>>>24-G&16777215,Ne!==0||Le!==this.length-1?H=Zr[6-Ie.length]+Ie+H:H=Ie+H,G+=2,G>=26&&(G-=26,Le--)}for(Ne!==0&&(H=Ne.toString(16)+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}if(t===(t|0)&&t>=2&&t<=36){var s=si[t],Y=oi[t];H="";var li=this.clone();for(li.negative=0;!li.isZero();){var un=li.modn(Y).toString(t);li=li.idivn(Y),li.isZero()?H=un+H:H=Zr[s-un.length]+un+H}for(this.isZero()&&(H="0"+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}P(!1,"Base should be between 2 and 36")},R.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},R.prototype.toJSON=function(){return this.toString(16)},R.prototype.toBuffer=function(t,o){return P(typeof Wr<"u"),this.toArrayLike(Wr,t,o)},R.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},R.prototype.toArrayLike=function(t,o,H){var G=this.byteLength(),Ne=H||Math.max(1,G);P(G<=Ne,"byte array longer than desired length"),P(Ne>0,"Requested array length <= 0"),this.strip();var Le=o==="le",ti=new t(Ne),Ie,s,Y=this.clone();if(Le){for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[s]=Ie;for(;s<Ne;s++)ti[s]=0}else{for(s=0;s<Ne-G;s++)ti[s]=0;for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[Ne-s-1]=Ie}return ti},Math.clz32?R.prototype._countBits=function(t){return 32-Math.clz32(t)}:R.prototype._countBits=function(t){var o=t,H=0;return o>=4096&&(H+=13,o>>>=13),o>=64&&(H+=7,o>>>=7),o>=8&&(H+=4,o>>>=4),o>=2&&(H+=2,o>>>=2),H+o},R.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,H=0;return o&8191||(H+=13,o>>>=13),o&127||(H+=7,o>>>=7),o&15||(H+=4,o>>>=4),o&3||(H+=2,o>>>=2),o&1||H++,H},R.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function ai(ii){for(var t=new Array(ii.bitLength()),o=0;o<t.length;o++){var H=o/26|0,G=o%26;t[o]=(ii.words[H]&1<<G)>>>G}return t}R.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var H=this._zeroBits(this.words[o]);if(t+=H,H!==26)break}return t},R.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},R.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},R.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},R.prototype.isNeg=function(){return this.negative!==0},R.prototype.neg=function(){return this.clone().ineg()},R.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},R.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},R.prototype.ior=function(t){return P((this.negative|t.negative)===0),this.iuor(t)},R.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},R.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},R.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var H=0;H<o.length;H++)this.words[H]=this.words[H]&t.words[H];return this.length=o.length,this.strip()},R.prototype.iand=function(t){return P((this.negative|t.negative)===0),this.iuand(t)},R.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},R.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},R.prototype.iuxor=function(t){var o,H;this.length>t.length?(o=this,H=t):(o=t,H=this);for(var G=0;G<H.length;G++)this.words[G]=o.words[G]^H.words[G];if(this!==o)for(;G<o.length;G++)this.words[G]=o.words[G];return this.length=o.length,this.strip()},R.prototype.ixor=function(t){return P((this.negative|t.negative)===0),this.iuxor(t)},R.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},R.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},R.prototype.inotn=function(t){P(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,H=t%26;this._expand(o),H>0&&o--;for(var G=0;G<o;G++)this.words[G]=~this.words[G]&67108863;return H>0&&(this.words[G]=~this.words[G]&67108863>>26-H),this.strip()},R.prototype.notn=function(t){return this.clone().inotn(t)},R.prototype.setn=function(t,o){P(typeof t=="number"&&t>=0);var H=t/26|0,G=t%26;return this._expand(H+1),o?this.words[H]=this.words[H]|1<<G:this.words[H]=this.words[H]&~(1<<G),this.strip()},R.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var H,G;this.length>t.length?(H=this,G=t):(H=t,G=this);for(var Ne=0,Le=0;Le<G.length;Le++)o=(H.words[Le]|0)+(G.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;for(;Ne!==0&&Le<H.length;Le++)o=(H.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;if(this.length=H.length,Ne!==0)this.words[this.length]=Ne,this.length++;else if(H!==this)for(;Le<H.length;Le++)this.words[Le]=H.words[Le];return this},R.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},R.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var H=this.cmp(t);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,Ne;H>0?(G=this,Ne=t):(G=t,Ne=this);for(var Le=0,ti=0;ti<Ne.length;ti++)o=(G.words[ti]|0)-(Ne.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;for(;Le!==0&&ti<G.length;ti++)o=(G.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;if(Le===0&&ti<G.length&&G!==this)for(;ti<G.length;ti++)this.words[ti]=G.words[ti];return this.length=Math.max(this.length,ti),G!==this&&(this.negative=1),this.strip()},R.prototype.sub=function(t){return this.clone().isub(t)};function fi(ii,t,o){o.negative=t.negative^ii.negative;var H=ii.length+t.length|0;o.length=H,H=H-1|0;var G=ii.words[0]|0,Ne=t.words[0]|0,Le=G*Ne,ti=Le&67108863,Ie=Le/67108864|0;o.words[0]=ti;for(var s=1;s<H;s++){for(var Y=Ie>>>26,li=Ie&67108863,un=Math.min(s,t.length-1),pn=Math.max(0,s-ii.length+1);pn<=un;pn++){var di=s-pn|0;G=ii.words[di]|0,Ne=t.words[pn]|0,Le=G*Ne+li,Y+=Le/67108864|0,li=Le&67108863}o.words[s]=li|0,Ie=Y|0}return Ie!==0?o.words[s]=Ie|0:o.length--,o.strip()}var ui=function(t,o,H){var G=t.words,Ne=o.words,Le=H.words,ti=0,Ie,s,Y,li=G[0]|0,un=li&8191,pn=li>>>13,di=G[1]|0,An=di&8191,$i=di>>>13,fn=G[2]|0,cn=fn&8191,ci=fn>>>13,Rn=G[3]|0,Zn=Rn&8191,ho=Rn>>>13,qh=G[4]|0,Lo=qh&8191,jo=qh>>>13,jh=G[5]|0,_h=jh&8191,tf=jh>>>13,zh=G[6]|0,Ko=zh&8191,Uo=zh>>>13,Uh=G[7]|0,Vo=Uh&8191,qo=Uh>>>13,Fh=G[8]|0,Zo=Fh&8191,Fo=Fh>>>13,Hh=G[9]|0,Vf=Hh&8191,Ho=Hh>>>13,Kh=Ne[0]|0,yh=Kh&8191,Yo=Kh>>>13,Vh=Ne[1]|0,Ih=Vh&8191,wh=Vh>>>13,uu=Ne[2]|0,Dh=uu&8191,Mh=uu>>>13,qu=Ne[3]|0,Bh=qu&8191,Xf=qu>>>13,Jh=Ne[4]|0,Eh=Jh&8191,ph=Jh>>>13,Qh=Ne[5]|0,xh=Qh&8191,mh=Qh>>>13,su=Ne[6]|0,Ah=su&8191,gh=su>>>13,Xh=Ne[7]|0,Sh=Xh&8191,vh=Xh>>>13,Wh=Ne[8]|0,Rh=Wh&8191,bh=Wh>>>13,Uu=Ne[9]|0,Ch=Uu&8191,$h=Uu>>>13;H.negative=t.negative^o.negative,H.length=19,Ie=Math.imul(un,yh),s=Math.imul(un,Yo),s=s+Math.imul(pn,yh)|0,Y=Math.imul(pn,Yo);var au=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(au>>>26)|0,au&=67108863,Ie=Math.imul(An,yh),s=Math.imul(An,Yo),s=s+Math.imul($i,yh)|0,Y=Math.imul($i,Yo),Ie=Ie+Math.imul(un,Ih)|0,s=s+Math.imul(un,wh)|0,s=s+Math.imul(pn,Ih)|0,Y=Y+Math.imul(pn,wh)|0;var f0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(f0>>>26)|0,f0&=67108863,Ie=Math.imul(cn,yh),s=Math.imul(cn,Yo),s=s+Math.imul(ci,yh)|0,Y=Math.imul(ci,Yo),Ie=Ie+Math.imul(An,Ih)|0,s=s+Math.imul(An,wh)|0,s=s+Math.imul($i,Ih)|0,Y=Y+Math.imul($i,wh)|0,Ie=Ie+Math.imul(un,Dh)|0,s=s+Math.imul(un,Mh)|0,s=s+Math.imul(pn,Dh)|0,Y=Y+Math.imul(pn,Mh)|0;var $0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+($0>>>26)|0,$0&=67108863,Ie=Math.imul(Zn,yh),s=Math.imul(Zn,Yo),s=s+Math.imul(ho,yh)|0,Y=Math.imul(ho,Yo),Ie=Ie+Math.imul(cn,Ih)|0,s=s+Math.imul(cn,wh)|0,s=s+Math.imul(ci,Ih)|0,Y=Y+Math.imul(ci,wh)|0,Ie=Ie+Math.imul(An,Dh)|0,s=s+Math.imul(An,Mh)|0,s=s+Math.imul($i,Dh)|0,Y=Y+Math.imul($i,Mh)|0,Ie=Ie+Math.imul(un,Bh)|0,s=s+Math.imul(un,Xf)|0,s=s+Math.imul(pn,Bh)|0,Y=Y+Math.imul(pn,Xf)|0;var D0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(D0>>>26)|0,D0&=67108863,Ie=Math.imul(Lo,yh),s=Math.imul(Lo,Yo),s=s+Math.imul(jo,yh)|0,Y=Math.imul(jo,Yo),Ie=Ie+Math.imul(Zn,Ih)|0,s=s+Math.imul(Zn,wh)|0,s=s+Math.imul(ho,Ih)|0,Y=Y+Math.imul(ho,wh)|0,Ie=Ie+Math.imul(cn,Dh)|0,s=s+Math.imul(cn,Mh)|0,s=s+Math.imul(ci,Dh)|0,Y=Y+Math.imul(ci,Mh)|0,Ie=Ie+Math.imul(An,Bh)|0,s=s+Math.imul(An,Xf)|0,s=s+Math.imul($i,Bh)|0,Y=Y+Math.imul($i,Xf)|0,Ie=Ie+Math.imul(un,Eh)|0,s=s+Math.imul(un,ph)|0,s=s+Math.imul(pn,Eh)|0,Y=Y+Math.imul(pn,ph)|0;var F0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(F0>>>26)|0,F0&=67108863,Ie=Math.imul(_h,yh),s=Math.imul(_h,Yo),s=s+Math.imul(tf,yh)|0,Y=Math.imul(tf,Yo),Ie=Ie+Math.imul(Lo,Ih)|0,s=s+Math.imul(Lo,wh)|0,s=s+Math.imul(jo,Ih)|0,Y=Y+Math.imul(jo,wh)|0,Ie=Ie+Math.imul(Zn,Dh)|0,s=s+Math.imul(Zn,Mh)|0,s=s+Math.imul(ho,Dh)|0,Y=Y+Math.imul(ho,Mh)|0,Ie=Ie+Math.imul(cn,Bh)|0,s=s+Math.imul(cn,Xf)|0,s=s+Math.imul(ci,Bh)|0,Y=Y+Math.imul(ci,Xf)|0,Ie=Ie+Math.imul(An,Eh)|0,s=s+Math.imul(An,ph)|0,s=s+Math.imul($i,Eh)|0,Y=Y+Math.imul($i,ph)|0,Ie=Ie+Math.imul(un,xh)|0,s=s+Math.imul(un,mh)|0,s=s+Math.imul(pn,xh)|0,Y=Y+Math.imul(pn,mh)|0;var tc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(tc>>>26)|0,tc&=67108863,Ie=Math.imul(Ko,yh),s=Math.imul(Ko,Yo),s=s+Math.imul(Uo,yh)|0,Y=Math.imul(Uo,Yo),Ie=Ie+Math.imul(_h,Ih)|0,s=s+Math.imul(_h,wh)|0,s=s+Math.imul(tf,Ih)|0,Y=Y+Math.imul(tf,wh)|0,Ie=Ie+Math.imul(Lo,Dh)|0,s=s+Math.imul(Lo,Mh)|0,s=s+Math.imul(jo,Dh)|0,Y=Y+Math.imul(jo,Mh)|0,Ie=Ie+Math.imul(Zn,Bh)|0,s=s+Math.imul(Zn,Xf)|0,s=s+Math.imul(ho,Bh)|0,Y=Y+Math.imul(ho,Xf)|0,Ie=Ie+Math.imul(cn,Eh)|0,s=s+Math.imul(cn,ph)|0,s=s+Math.imul(ci,Eh)|0,Y=Y+Math.imul(ci,ph)|0,Ie=Ie+Math.imul(An,xh)|0,s=s+Math.imul(An,mh)|0,s=s+Math.imul($i,xh)|0,Y=Y+Math.imul($i,mh)|0,Ie=Ie+Math.imul(un,Ah)|0,s=s+Math.imul(un,gh)|0,s=s+Math.imul(pn,Ah)|0,Y=Y+Math.imul(pn,gh)|0;var Ku=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,Ie=Math.imul(Vo,yh),s=Math.imul(Vo,Yo),s=s+Math.imul(qo,yh)|0,Y=Math.imul(qo,Yo),Ie=Ie+Math.imul(Ko,Ih)|0,s=s+Math.imul(Ko,wh)|0,s=s+Math.imul(Uo,Ih)|0,Y=Y+Math.imul(Uo,wh)|0,Ie=Ie+Math.imul(_h,Dh)|0,s=s+Math.imul(_h,Mh)|0,s=s+Math.imul(tf,Dh)|0,Y=Y+Math.imul(tf,Mh)|0,Ie=Ie+Math.imul(Lo,Bh)|0,s=s+Math.imul(Lo,Xf)|0,s=s+Math.imul(jo,Bh)|0,Y=Y+Math.imul(jo,Xf)|0,Ie=Ie+Math.imul(Zn,Eh)|0,s=s+Math.imul(Zn,ph)|0,s=s+Math.imul(ho,Eh)|0,Y=Y+Math.imul(ho,ph)|0,Ie=Ie+Math.imul(cn,xh)|0,s=s+Math.imul(cn,mh)|0,s=s+Math.imul(ci,xh)|0,Y=Y+Math.imul(ci,mh)|0,Ie=Ie+Math.imul(An,Ah)|0,s=s+Math.imul(An,gh)|0,s=s+Math.imul($i,Ah)|0,Y=Y+Math.imul($i,gh)|0,Ie=Ie+Math.imul(un,Sh)|0,s=s+Math.imul(un,vh)|0,s=s+Math.imul(pn,Sh)|0,Y=Y+Math.imul(pn,vh)|0;var sc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(sc>>>26)|0,sc&=67108863,Ie=Math.imul(Zo,yh),s=Math.imul(Zo,Yo),s=s+Math.imul(Fo,yh)|0,Y=Math.imul(Fo,Yo),Ie=Ie+Math.imul(Vo,Ih)|0,s=s+Math.imul(Vo,wh)|0,s=s+Math.imul(qo,Ih)|0,Y=Y+Math.imul(qo,wh)|0,Ie=Ie+Math.imul(Ko,Dh)|0,s=s+Math.imul(Ko,Mh)|0,s=s+Math.imul(Uo,Dh)|0,Y=Y+Math.imul(Uo,Mh)|0,Ie=Ie+Math.imul(_h,Bh)|0,s=s+Math.imul(_h,Xf)|0,s=s+Math.imul(tf,Bh)|0,Y=Y+Math.imul(tf,Xf)|0,Ie=Ie+Math.imul(Lo,Eh)|0,s=s+Math.imul(Lo,ph)|0,s=s+Math.imul(jo,Eh)|0,Y=Y+Math.imul(jo,ph)|0,Ie=Ie+Math.imul(Zn,xh)|0,s=s+Math.imul(Zn,mh)|0,s=s+Math.imul(ho,xh)|0,Y=Y+Math.imul(ho,mh)|0,Ie=Ie+Math.imul(cn,Ah)|0,s=s+Math.imul(cn,gh)|0,s=s+Math.imul(ci,Ah)|0,Y=Y+Math.imul(ci,gh)|0,Ie=Ie+Math.imul(An,Sh)|0,s=s+Math.imul(An,vh)|0,s=s+Math.imul($i,Sh)|0,Y=Y+Math.imul($i,vh)|0,Ie=Ie+Math.imul(un,Rh)|0,s=s+Math.imul(un,bh)|0,s=s+Math.imul(pn,Rh)|0,Y=Y+Math.imul(pn,bh)|0;var uc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(uc>>>26)|0,uc&=67108863,Ie=Math.imul(Vf,yh),s=Math.imul(Vf,Yo),s=s+Math.imul(Ho,yh)|0,Y=Math.imul(Ho,Yo),Ie=Ie+Math.imul(Zo,Ih)|0,s=s+Math.imul(Zo,wh)|0,s=s+Math.imul(Fo,Ih)|0,Y=Y+Math.imul(Fo,wh)|0,Ie=Ie+Math.imul(Vo,Dh)|0,s=s+Math.imul(Vo,Mh)|0,s=s+Math.imul(qo,Dh)|0,Y=Y+Math.imul(qo,Mh)|0,Ie=Ie+Math.imul(Ko,Bh)|0,s=s+Math.imul(Ko,Xf)|0,s=s+Math.imul(Uo,Bh)|0,Y=Y+Math.imul(Uo,Xf)|0,Ie=Ie+Math.imul(_h,Eh)|0,s=s+Math.imul(_h,ph)|0,s=s+Math.imul(tf,Eh)|0,Y=Y+Math.imul(tf,ph)|0,Ie=Ie+Math.imul(Lo,xh)|0,s=s+Math.imul(Lo,mh)|0,s=s+Math.imul(jo,xh)|0,Y=Y+Math.imul(jo,mh)|0,Ie=Ie+Math.imul(Zn,Ah)|0,s=s+Math.imul(Zn,gh)|0,s=s+Math.imul(ho,Ah)|0,Y=Y+Math.imul(ho,gh)|0,Ie=Ie+Math.imul(cn,Sh)|0,s=s+Math.imul(cn,vh)|0,s=s+Math.imul(ci,Sh)|0,Y=Y+Math.imul(ci,vh)|0,Ie=Ie+Math.imul(An,Rh)|0,s=s+Math.imul(An,bh)|0,s=s+Math.imul($i,Rh)|0,Y=Y+Math.imul($i,bh)|0,Ie=Ie+Math.imul(un,Ch)|0,s=s+Math.imul(un,$h)|0,s=s+Math.imul(pn,Ch)|0,Y=Y+Math.imul(pn,$h)|0;var ac=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(ac>>>26)|0,ac&=67108863,Ie=Math.imul(Vf,Ih),s=Math.imul(Vf,wh),s=s+Math.imul(Ho,Ih)|0,Y=Math.imul(Ho,wh),Ie=Ie+Math.imul(Zo,Dh)|0,s=s+Math.imul(Zo,Mh)|0,s=s+Math.imul(Fo,Dh)|0,Y=Y+Math.imul(Fo,Mh)|0,Ie=Ie+Math.imul(Vo,Bh)|0,s=s+Math.imul(Vo,Xf)|0,s=s+Math.imul(qo,Bh)|0,Y=Y+Math.imul(qo,Xf)|0,Ie=Ie+Math.imul(Ko,Eh)|0,s=s+Math.imul(Ko,ph)|0,s=s+Math.imul(Uo,Eh)|0,Y=Y+Math.imul(Uo,ph)|0,Ie=Ie+Math.imul(_h,xh)|0,s=s+Math.imul(_h,mh)|0,s=s+Math.imul(tf,xh)|0,Y=Y+Math.imul(tf,mh)|0,Ie=Ie+Math.imul(Lo,Ah)|0,s=s+Math.imul(Lo,gh)|0,s=s+Math.imul(jo,Ah)|0,Y=Y+Math.imul(jo,gh)|0,Ie=Ie+Math.imul(Zn,Sh)|0,s=s+Math.imul(Zn,vh)|0,s=s+Math.imul(ho,Sh)|0,Y=Y+Math.imul(ho,vh)|0,Ie=Ie+Math.imul(cn,Rh)|0,s=s+Math.imul(cn,bh)|0,s=s+Math.imul(ci,Rh)|0,Y=Y+Math.imul(ci,bh)|0,Ie=Ie+Math.imul(An,Ch)|0,s=s+Math.imul(An,$h)|0,s=s+Math.imul($i,Ch)|0,Y=Y+Math.imul($i,$h)|0;var cc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(cc>>>26)|0,cc&=67108863,Ie=Math.imul(Vf,Dh),s=Math.imul(Vf,Mh),s=s+Math.imul(Ho,Dh)|0,Y=Math.imul(Ho,Mh),Ie=Ie+Math.imul(Zo,Bh)|0,s=s+Math.imul(Zo,Xf)|0,s=s+Math.imul(Fo,Bh)|0,Y=Y+Math.imul(Fo,Xf)|0,Ie=Ie+Math.imul(Vo,Eh)|0,s=s+Math.imul(Vo,ph)|0,s=s+Math.imul(qo,Eh)|0,Y=Y+Math.imul(qo,ph)|0,Ie=Ie+Math.imul(Ko,xh)|0,s=s+Math.imul(Ko,mh)|0,s=s+Math.imul(Uo,xh)|0,Y=Y+Math.imul(Uo,mh)|0,Ie=Ie+Math.imul(_h,Ah)|0,s=s+Math.imul(_h,gh)|0,s=s+Math.imul(tf,Ah)|0,Y=Y+Math.imul(tf,gh)|0,Ie=Ie+Math.imul(Lo,Sh)|0,s=s+Math.imul(Lo,vh)|0,s=s+Math.imul(jo,Sh)|0,Y=Y+Math.imul(jo,vh)|0,Ie=Ie+Math.imul(Zn,Rh)|0,s=s+Math.imul(Zn,bh)|0,s=s+Math.imul(ho,Rh)|0,Y=Y+Math.imul(ho,bh)|0,Ie=Ie+Math.imul(cn,Ch)|0,s=s+Math.imul(cn,$h)|0,s=s+Math.imul(ci,Ch)|0,Y=Y+Math.imul(ci,$h)|0;var lc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(lc>>>26)|0,lc&=67108863,Ie=Math.imul(Vf,Bh),s=Math.imul(Vf,Xf),s=s+Math.imul(Ho,Bh)|0,Y=Math.imul(Ho,Xf),Ie=Ie+Math.imul(Zo,Eh)|0,s=s+Math.imul(Zo,ph)|0,s=s+Math.imul(Fo,Eh)|0,Y=Y+Math.imul(Fo,ph)|0,Ie=Ie+Math.imul(Vo,xh)|0,s=s+Math.imul(Vo,mh)|0,s=s+Math.imul(qo,xh)|0,Y=Y+Math.imul(qo,mh)|0,Ie=Ie+Math.imul(Ko,Ah)|0,s=s+Math.imul(Ko,gh)|0,s=s+Math.imul(Uo,Ah)|0,Y=Y+Math.imul(Uo,gh)|0,Ie=Ie+Math.imul(_h,Sh)|0,s=s+Math.imul(_h,vh)|0,s=s+Math.imul(tf,Sh)|0,Y=Y+Math.imul(tf,vh)|0,Ie=Ie+Math.imul(Lo,Rh)|0,s=s+Math.imul(Lo,bh)|0,s=s+Math.imul(jo,Rh)|0,Y=Y+Math.imul(jo,bh)|0,Ie=Ie+Math.imul(Zn,Ch)|0,s=s+Math.imul(Zn,$h)|0,s=s+Math.imul(ho,Ch)|0,Y=Y+Math.imul(ho,$h)|0;var oc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(oc>>>26)|0,oc&=67108863,Ie=Math.imul(Vf,Eh),s=Math.imul(Vf,ph),s=s+Math.imul(Ho,Eh)|0,Y=Math.imul(Ho,ph),Ie=Ie+Math.imul(Zo,xh)|0,s=s+Math.imul(Zo,mh)|0,s=s+Math.imul(Fo,xh)|0,Y=Y+Math.imul(Fo,mh)|0,Ie=Ie+Math.imul(Vo,Ah)|0,s=s+Math.imul(Vo,gh)|0,s=s+Math.imul(qo,Ah)|0,Y=Y+Math.imul(qo,gh)|0,Ie=Ie+Math.imul(Ko,Sh)|0,s=s+Math.imul(Ko,vh)|0,s=s+Math.imul(Uo,Sh)|0,Y=Y+Math.imul(Uo,vh)|0,Ie=Ie+Math.imul(_h,Rh)|0,s=s+Math.imul(_h,bh)|0,s=s+Math.imul(tf,Rh)|0,Y=Y+Math.imul(tf,bh)|0,Ie=Ie+Math.imul(Lo,Ch)|0,s=s+Math.imul(Lo,$h)|0,s=s+Math.imul(jo,Ch)|0,Y=Y+Math.imul(jo,$h)|0;var fc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(fc>>>26)|0,fc&=67108863,Ie=Math.imul(Vf,xh),s=Math.imul(Vf,mh),s=s+Math.imul(Ho,xh)|0,Y=Math.imul(Ho,mh),Ie=Ie+Math.imul(Zo,Ah)|0,s=s+Math.imul(Zo,gh)|0,s=s+Math.imul(Fo,Ah)|0,Y=Y+Math.imul(Fo,gh)|0,Ie=Ie+Math.imul(Vo,Sh)|0,s=s+Math.imul(Vo,vh)|0,s=s+Math.imul(qo,Sh)|0,Y=Y+Math.imul(qo,vh)|0,Ie=Ie+Math.imul(Ko,Rh)|0,s=s+Math.imul(Ko,bh)|0,s=s+Math.imul(Uo,Rh)|0,Y=Y+Math.imul(Uo,bh)|0,Ie=Ie+Math.imul(_h,Ch)|0,s=s+Math.imul(_h,$h)|0,s=s+Math.imul(tf,Ch)|0,Y=Y+Math.imul(tf,$h)|0;var hc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(hc>>>26)|0,hc&=67108863,Ie=Math.imul(Vf,Ah),s=Math.imul(Vf,gh),s=s+Math.imul(Ho,Ah)|0,Y=Math.imul(Ho,gh),Ie=Ie+Math.imul(Zo,Sh)|0,s=s+Math.imul(Zo,vh)|0,s=s+Math.imul(Fo,Sh)|0,Y=Y+Math.imul(Fo,vh)|0,Ie=Ie+Math.imul(Vo,Rh)|0,s=s+Math.imul(Vo,bh)|0,s=s+Math.imul(qo,Rh)|0,Y=Y+Math.imul(qo,bh)|0,Ie=Ie+Math.imul(Ko,Ch)|0,s=s+Math.imul(Ko,$h)|0,s=s+Math.imul(Uo,Ch)|0,Y=Y+Math.imul(Uo,$h)|0;var r0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(r0>>>26)|0,r0&=67108863,Ie=Math.imul(Vf,Sh),s=Math.imul(Vf,vh),s=s+Math.imul(Ho,Sh)|0,Y=Math.imul(Ho,vh),Ie=Ie+Math.imul(Zo,Rh)|0,s=s+Math.imul(Zo,bh)|0,s=s+Math.imul(Fo,Rh)|0,Y=Y+Math.imul(Fo,bh)|0,Ie=Ie+Math.imul(Vo,Ch)|0,s=s+Math.imul(Vo,$h)|0,s=s+Math.imul(qo,Ch)|0,Y=Y+Math.imul(qo,$h)|0;var dc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(dc>>>26)|0,dc&=67108863,Ie=Math.imul(Vf,Rh),s=Math.imul(Vf,bh),s=s+Math.imul(Ho,Rh)|0,Y=Math.imul(Ho,bh),Ie=Ie+Math.imul(Zo,Ch)|0,s=s+Math.imul(Zo,$h)|0,s=s+Math.imul(Fo,Ch)|0,Y=Y+Math.imul(Fo,$h)|0;var pc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(pc>>>26)|0,pc&=67108863,Ie=Math.imul(Vf,Ch),s=Math.imul(Vf,$h),s=s+Math.imul(Ho,Ch)|0,Y=Math.imul(Ho,$h);var vc=(ti+Ie|0)+((s&8191)<<13)|0;return ti=(Y+(s>>>13)|0)+(vc>>>26)|0,vc&=67108863,Le[0]=au,Le[1]=f0,Le[2]=$0,Le[3]=D0,Le[4]=F0,Le[5]=tc,Le[6]=Ku,Le[7]=sc,Le[8]=uc,Le[9]=ac,Le[10]=cc,Le[11]=lc,Le[12]=oc,Le[13]=fc,Le[14]=hc,Le[15]=r0,Le[16]=dc,Le[17]=pc,Le[18]=vc,ti!==0&&(Le[19]=ti,H.length++),H};Math.imul||(ui=fi);function sn(ii,t,o){o.negative=t.negative^ii.negative,o.length=ii.length+t.length;for(var H=0,G=0,Ne=0;Ne<o.length-1;Ne++){var Le=G;G=0;for(var ti=H&67108863,Ie=Math.min(Ne,t.length-1),s=Math.max(0,Ne-ii.length+1);s<=Ie;s++){var Y=Ne-s,li=ii.words[Y]|0,un=t.words[s]|0,pn=li*un,di=pn&67108863;Le=Le+(pn/67108864|0)|0,di=di+ti|0,ti=di&67108863,Le=Le+(di>>>26)|0,G+=Le>>>26,Le&=67108863}o.words[Ne]=ti,H=Le,Le=G}return H!==0?o.words[Ne]=H:o.length--,o.strip()}function hn(ii,t,o){var H=new nn;return H.mulp(ii,t,o)}R.prototype.mulTo=function(t,o){var H,G=this.length+t.length;return this.length===10&&t.length===10?H=ui(this,t,o):G<63?H=fi(this,t,o):G<1024?H=sn(this,t,o):H=hn(this,t,o),H};function nn(ii,t){this.x=ii,this.y=t}nn.prototype.makeRBT=function(t){for(var o=new Array(t),H=R.prototype._countBits(t)-1,G=0;G<t;G++)o[G]=this.revBin(G,H,t);return o},nn.prototype.revBin=function(t,o,H){if(t===0||t===H-1)return t;for(var G=0,Ne=0;Ne<o;Ne++)G|=(t&1)<<o-Ne-1,t>>=1;return G},nn.prototype.permute=function(t,o,H,G,Ne,Le){for(var ti=0;ti<Le;ti++)G[ti]=o[t[ti]],Ne[ti]=H[t[ti]]},nn.prototype.transform=function(t,o,H,G,Ne,Le){this.permute(Le,t,o,H,G,Ne);for(var ti=1;ti<Ne;ti<<=1)for(var Ie=ti<<1,s=Math.cos(2*Math.PI/Ie),Y=Math.sin(2*Math.PI/Ie),li=0;li<Ne;li+=Ie)for(var un=s,pn=Y,di=0;di<ti;di++){var An=H[li+di],$i=G[li+di],fn=H[li+di+ti],cn=G[li+di+ti],ci=un*fn-pn*cn;cn=un*cn+pn*fn,fn=ci,H[li+di]=An+fn,G[li+di]=$i+cn,H[li+di+ti]=An-fn,G[li+di+ti]=$i-cn,di!==Ie&&(ci=s*un-Y*pn,pn=s*pn+Y*un,un=ci)}},nn.prototype.guessLen13b=function(t,o){var H=Math.max(o,t)|1,G=H&1,Ne=0;for(H=H/2|0;H;H=H>>>1)Ne++;return 1<<Ne+1+G},nn.prototype.conjugate=function(t,o,H){if(!(H<=1))for(var G=0;G<H/2;G++){var Ne=t[G];t[G]=t[H-G-1],t[H-G-1]=Ne,Ne=o[G],o[G]=-o[H-G-1],o[H-G-1]=-Ne}},nn.prototype.normalize13b=function(t,o){for(var H=0,G=0;G<o/2;G++){var Ne=Math.round(t[2*G+1]/o)*8192+Math.round(t[2*G]/o)+H;t[G]=Ne&67108863,Ne<67108864?H=0:H=Ne/67108864|0}return t},nn.prototype.convert13b=function(t,o,H,G){for(var Ne=0,Le=0;Le<o;Le++)Ne=Ne+(t[Le]|0),H[2*Le]=Ne&8191,Ne=Ne>>>13,H[2*Le+1]=Ne&8191,Ne=Ne>>>13;for(Le=2*o;Le<G;++Le)H[Le]=0;P(Ne===0),P((Ne&-8192)===0)},nn.prototype.stub=function(t){for(var o=new Array(t),H=0;H<t;H++)o[H]=0;return o},nn.prototype.mulp=function(t,o,H){var G=2*this.guessLen13b(t.length,o.length),Ne=this.makeRBT(G),Le=this.stub(G),ti=new Array(G),Ie=new Array(G),s=new Array(G),Y=new Array(G),li=new Array(G),un=new Array(G),pn=H.words;pn.length=G,this.convert13b(t.words,t.length,ti,G),this.convert13b(o.words,o.length,Y,G),this.transform(ti,Le,Ie,s,G,Ne),this.transform(Y,Le,li,un,G,Ne);for(var di=0;di<G;di++){var An=Ie[di]*li[di]-s[di]*un[di];s[di]=Ie[di]*un[di]+s[di]*li[di],Ie[di]=An}return this.conjugate(Ie,s,G),this.transform(Ie,s,pn,Le,G,Ne),this.conjugate(pn,Le,G),this.normalize13b(pn,G),H.negative=t.negative^o.negative,H.length=t.length+o.length,H.strip()},R.prototype.mul=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},R.prototype.mulf=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),hn(this,t,o)},R.prototype.imul=function(t){return this.clone().mulTo(t,this)},R.prototype.imuln=function(t){P(typeof t=="number"),P(t<67108864);for(var o=0,H=0;H<this.length;H++){var G=(this.words[H]|0)*t,Ne=(G&67108863)+(o&67108863);o>>=26,o+=G/67108864|0,o+=Ne>>>26,this.words[H]=Ne&67108863}return o!==0&&(this.words[H]=o,this.length++),this},R.prototype.muln=function(t){return this.clone().imuln(t)},R.prototype.sqr=function(){return this.mul(this)},R.prototype.isqr=function(){return this.imul(this.clone())},R.prototype.pow=function(t){var o=ai(t);if(o.length===0)return new R(1);for(var H=this,G=0;G<o.length&&o[G]===0;G++,H=H.sqr());if(++G<o.length)for(var Ne=H.sqr();G<o.length;G++,Ne=Ne.sqr())o[G]!==0&&(H=H.mul(Ne));return H},R.prototype.iushln=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=67108863>>>26-o<<26-o,Ne;if(o!==0){var Le=0;for(Ne=0;Ne<this.length;Ne++){var ti=this.words[Ne]&G,Ie=(this.words[Ne]|0)-ti<<o;this.words[Ne]=Ie|Le,Le=ti>>>26-o}Le&&(this.words[Ne]=Le,this.length++)}if(H!==0){for(Ne=this.length-1;Ne>=0;Ne--)this.words[Ne+H]=this.words[Ne];for(Ne=0;Ne<H;Ne++)this.words[Ne]=0;this.length+=H}return this.strip()},R.prototype.ishln=function(t){return P(this.negative===0),this.iushln(t)},R.prototype.iushrn=function(t,o,H){P(typeof t=="number"&&t>=0);var G;o?G=(o-o%26)/26:G=0;var Ne=t%26,Le=Math.min((t-Ne)/26,this.length),ti=67108863^67108863>>>Ne<<Ne,Ie=H;if(G-=Le,G=Math.max(0,G),Ie){for(var s=0;s<Le;s++)Ie.words[s]=this.words[s];Ie.length=Le}if(Le!==0)if(this.length>Le)for(this.length-=Le,s=0;s<this.length;s++)this.words[s]=this.words[s+Le];else this.words[0]=0,this.length=1;var Y=0;for(s=this.length-1;s>=0&&(Y!==0||s>=G);s--){var li=this.words[s]|0;this.words[s]=Y<<26-Ne|li>>>Ne,Y=li&ti}return Ie&&Y!==0&&(Ie.words[Ie.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},R.prototype.ishrn=function(t,o,H){return P(this.negative===0),this.iushrn(t,o,H)},R.prototype.shln=function(t){return this.clone().ishln(t)},R.prototype.ushln=function(t){return this.clone().iushln(t)},R.prototype.shrn=function(t){return this.clone().ishrn(t)},R.prototype.ushrn=function(t){return this.clone().iushrn(t)},R.prototype.testn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return!1;var Ne=this.words[H];return!!(Ne&G)},R.prototype.imaskn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=H)return this;if(o!==0&&H++,this.length=Math.min(H,this.length),o!==0){var G=67108863^67108863>>>o<<o;this.words[this.length-1]&=G}return this.strip()},R.prototype.maskn=function(t){return this.clone().imaskn(t)},R.prototype.iaddn=function(t){return P(typeof t=="number"),P(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},R.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},R.prototype.isubn=function(t){if(P(typeof t=="number"),P(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},R.prototype.addn=function(t){return this.clone().iaddn(t)},R.prototype.subn=function(t){return this.clone().isubn(t)},R.prototype.iabs=function(){return this.negative=0,this},R.prototype.abs=function(){return this.clone().iabs()},R.prototype._ishlnsubmul=function(t,o,H){var G=t.length+H,Ne;this._expand(G);var Le,ti=0;for(Ne=0;Ne<t.length;Ne++){Le=(this.words[Ne+H]|0)+ti;var Ie=(t.words[Ne]|0)*o;Le-=Ie&67108863,ti=(Le>>26)-(Ie/67108864|0),this.words[Ne+H]=Le&67108863}for(;Ne<this.length-H;Ne++)Le=(this.words[Ne+H]|0)+ti,ti=Le>>26,this.words[Ne+H]=Le&67108863;if(ti===0)return this.strip();for(P(ti===-1),ti=0,Ne=0;Ne<this.length;Ne++)Le=-(this.words[Ne]|0)+ti,ti=Le>>26,this.words[Ne]=Le&67108863;return this.negative=1,this.strip()},R.prototype._wordDiv=function(t,o){var H=this.length-t.length,G=this.clone(),Ne=t,Le=Ne.words[Ne.length-1]|0,ti=this._countBits(Le);H=26-ti,H!==0&&(Ne=Ne.ushln(H),G.iushln(H),Le=Ne.words[Ne.length-1]|0);var Ie=G.length-Ne.length,s;if(o!=="mod"){s=new R(null),s.length=Ie+1,s.words=new Array(s.length);for(var Y=0;Y<s.length;Y++)s.words[Y]=0}var li=G.clone()._ishlnsubmul(Ne,1,Ie);li.negative===0&&(G=li,s&&(s.words[Ie]=1));for(var un=Ie-1;un>=0;un--){var pn=(G.words[Ne.length+un]|0)*67108864+(G.words[Ne.length+un-1]|0);for(pn=Math.min(pn/Le|0,67108863),G._ishlnsubmul(Ne,pn,un);G.negative!==0;)pn--,G.negative=0,G._ishlnsubmul(Ne,1,un),G.isZero()||(G.negative^=1);s&&(s.words[un]=pn)}return s&&s.strip(),G.strip(),o!=="div"&&H!==0&&G.iushrn(H),{div:s||null,mod:G}},R.prototype.divmod=function(t,o,H){if(P(!t.isZero()),this.isZero())return{div:new R(0),mod:new R(0)};var G,Ne,Le;return this.negative!==0&&t.negative===0?(Le=this.neg().divmod(t,o),o!=="mod"&&(G=Le.div.neg()),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.iadd(t)),{div:G,mod:Ne}):this.negative===0&&t.negative!==0?(Le=this.divmod(t.neg(),o),o!=="mod"&&(G=Le.div.neg()),{div:G,mod:Le.mod}):this.negative&t.negative?(Le=this.neg().divmod(t.neg(),o),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.isub(t)),{div:Le.div,mod:Ne}):t.length>this.length||this.cmp(t)<0?{div:new R(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new R(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new R(this.modn(t.words[0]))}:this._wordDiv(t,o)},R.prototype.div=function(t){return this.divmod(t,"div",!1).div},R.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},R.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},R.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var H=o.div.negative!==0?o.mod.isub(t):o.mod,G=t.ushrn(1),Ne=t.andln(1),Le=H.cmp(G);return Le<0||Ne===1&&Le===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},R.prototype.modn=function(t){P(t<=67108863);for(var o=(1<<26)%t,H=0,G=this.length-1;G>=0;G--)H=(o*H+(this.words[G]|0))%t;return H},R.prototype.idivn=function(t){P(t<=67108863);for(var o=0,H=this.length-1;H>=0;H--){var G=(this.words[H]|0)+o*67108864;this.words[H]=G/t|0,o=G%t}return this.strip()},R.prototype.divn=function(t){return this.clone().idivn(t)},R.prototype.egcd=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=new R(0),ti=new R(1),Ie=0;o.isEven()&&H.isEven();)o.iushrn(1),H.iushrn(1),++Ie;for(var s=H.clone(),Y=o.clone();!o.isZero();){for(var li=0,un=1;!(o.words[0]&un)&&li<26;++li,un<<=1);if(li>0)for(o.iushrn(li);li-- >0;)(G.isOdd()||Ne.isOdd())&&(G.iadd(s),Ne.isub(Y)),G.iushrn(1),Ne.iushrn(1);for(var pn=0,di=1;!(H.words[0]&di)&&pn<26;++pn,di<<=1);if(pn>0)for(H.iushrn(pn);pn-- >0;)(Le.isOdd()||ti.isOdd())&&(Le.iadd(s),ti.isub(Y)),Le.iushrn(1),ti.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Le),Ne.isub(ti)):(H.isub(o),Le.isub(G),ti.isub(Ne))}return{a:Le,b:ti,gcd:H.iushln(Ie)}},R.prototype._invmp=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=H.clone();o.cmpn(1)>0&&H.cmpn(1)>0;){for(var ti=0,Ie=1;!(o.words[0]&Ie)&&ti<26;++ti,Ie<<=1);if(ti>0)for(o.iushrn(ti);ti-- >0;)G.isOdd()&&G.iadd(Le),G.iushrn(1);for(var s=0,Y=1;!(H.words[0]&Y)&&s<26;++s,Y<<=1);if(s>0)for(H.iushrn(s);s-- >0;)Ne.isOdd()&&Ne.iadd(Le),Ne.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Ne)):(H.isub(o),Ne.isub(G))}var li;return o.cmpn(1)===0?li=G:li=Ne,li.cmpn(0)<0&&li.iadd(t),li},R.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),H=t.clone();o.negative=0,H.negative=0;for(var G=0;o.isEven()&&H.isEven();G++)o.iushrn(1),H.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;H.isEven();)H.iushrn(1);var Ne=o.cmp(H);if(Ne<0){var Le=o;o=H,H=Le}else if(Ne===0||H.cmpn(1)===0)break;o.isub(H)}while(!0);return H.iushln(G)},R.prototype.invm=function(t){return this.egcd(t).a.umod(t)},R.prototype.isEven=function(){return(this.words[0]&1)===0},R.prototype.isOdd=function(){return(this.words[0]&1)===1},R.prototype.andln=function(t){return this.words[0]&t},R.prototype.bincn=function(t){P(typeof t=="number");var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return this._expand(H+1),this.words[H]|=G,this;for(var Ne=G,Le=H;Ne!==0&&Le<this.length;Le++){var ti=this.words[Le]|0;ti+=Ne,Ne=ti>>>26,ti&=67108863,this.words[Le]=ti}return Ne!==0&&(this.words[Le]=Ne,this.length++),this},R.prototype.isZero=function(){return this.length===1&&this.words[0]===0},R.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var H;if(this.length>1)H=1;else{o&&(t=-t),P(t<=67108863,"Number is too big");var G=this.words[0]|0;H=G===t?0:G<t?-1:1}return this.negative!==0?-H|0:H},R.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},R.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,H=this.length-1;H>=0;H--){var G=this.words[H]|0,Ne=t.words[H]|0;if(G!==Ne){G<Ne?o=-1:G>Ne&&(o=1);break}}return o},R.prototype.gtn=function(t){return this.cmpn(t)===1},R.prototype.gt=function(t){return this.cmp(t)===1},R.prototype.gten=function(t){return this.cmpn(t)>=0},R.prototype.gte=function(t){return this.cmp(t)>=0},R.prototype.ltn=function(t){return this.cmpn(t)===-1},R.prototype.lt=function(t){return this.cmp(t)===-1},R.prototype.lten=function(t){return this.cmpn(t)<=0},R.prototype.lte=function(t){return this.cmp(t)<=0},R.prototype.eqn=function(t){return this.cmpn(t)===0},R.prototype.eq=function(t){return this.cmp(t)===0},R.red=function(t){return new Bn(t)},R.prototype.toRed=function(t){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},R.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},R.prototype._forceRed=function(t){return this.red=t,this},R.prototype.forceRed=function(t){return P(!this.red,"Already a number in reduction context"),this._forceRed(t)},R.prototype.redAdd=function(t){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},R.prototype.redIAdd=function(t){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},R.prototype.redSub=function(t){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},R.prototype.redISub=function(t){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},R.prototype.redShl=function(t){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},R.prototype.redMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},R.prototype.redIMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},R.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},R.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},R.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},R.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},R.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},R.prototype.redPow=function(t){return P(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var ln={k256:null,p224:null,p192:null,p25519:null};function on(ii,t){this.name=ii,this.p=new R(t,16),this.n=this.p.bitLength(),this.k=new R(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}on.prototype._tmp=function(){var t=new R(null);return t.words=new Array(Math.ceil(this.n/13)),t},on.prototype.ireduce=function(t){var o=t,H;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),H=o.bitLength();while(H>this.n);var G=H<this.n?-1:o.ucmp(this.p);return G===0?(o.words[0]=0,o.length=1):G>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},on.prototype.split=function(t,o){t.iushrn(this.n,0,o)},on.prototype.imulK=function(t){return t.imul(this.k)};function vn(){on.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}W(vn,on),vn.prototype.split=function(t,o){for(var H=4194303,G=Math.min(t.length,9),Ne=0;Ne<G;Ne++)o.words[Ne]=t.words[Ne];if(o.length=G,t.length<=9){t.words[0]=0,t.length=1;return}var Le=t.words[9];for(o.words[o.length++]=Le&H,Ne=10;Ne<t.length;Ne++){var ti=t.words[Ne]|0;t.words[Ne-10]=(ti&H)<<4|Le>>>22,Le=ti}Le>>>=22,t.words[Ne-10]=Le,Le===0&&t.length>10?t.length-=10:t.length-=9},vn.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,H=0;H<t.length;H++){var G=t.words[H]|0;o+=G*977,t.words[H]=o&67108863,o=G*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Mn(){on.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}W(Mn,on);function mi(){on.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}W(mi,on);function mn(){on.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}W(mn,on),mn.prototype.imulK=function(t){for(var o=0,H=0;H<t.length;H++){var G=(t.words[H]|0)*19+o,Ne=G&67108863;G>>>=26,t.words[H]=Ne,o=G}return o!==0&&(t.words[t.length++]=o),t},R._prime=function(t){if(ln[t])return ln[t];var o;if(t==="k256")o=new vn;else if(t==="p224")o=new Mn;else if(t==="p192")o=new mi;else if(t==="p25519")o=new mn;else throw new Error("Unknown prime "+t);return ln[t]=o,o};function Bn(ii){if(typeof ii=="string"){var t=R._prime(ii);this.m=t.p,this.prime=t}else P(ii.gtn(1),"modulus must be greater than 1"),this.m=ii,this.prime=null}Bn.prototype._verify1=function(t){P(t.negative===0,"red works only with positives"),P(t.red,"red works only with red numbers")},Bn.prototype._verify2=function(t,o){P((t.negative|o.negative)===0,"red works only with positives"),P(t.red&&t.red===o.red,"red works only with red numbers")},Bn.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Bn.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Bn.prototype.add=function(t,o){this._verify2(t,o);var H=t.add(o);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},Bn.prototype.iadd=function(t,o){this._verify2(t,o);var H=t.iadd(o);return H.cmp(this.m)>=0&&H.isub(this.m),H},Bn.prototype.sub=function(t,o){this._verify2(t,o);var H=t.sub(o);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},Bn.prototype.isub=function(t,o){this._verify2(t,o);var H=t.isub(o);return H.cmpn(0)<0&&H.iadd(this.m),H},Bn.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},Bn.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},Bn.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},Bn.prototype.isqr=function(t){return this.imul(t,t.clone())},Bn.prototype.sqr=function(t){return this.mul(t,t)},Bn.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(P(o%2===1),o===3){var H=this.m.add(new R(1)).iushrn(2);return this.pow(t,H)}for(var G=this.m.subn(1),Ne=0;!G.isZero()&&G.andln(1)===0;)Ne++,G.iushrn(1);P(!G.isZero());var Le=new R(1).toRed(this),ti=Le.redNeg(),Ie=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new R(2*s*s).toRed(this);this.pow(s,Ie).cmp(ti)!==0;)s.redIAdd(ti);for(var Y=this.pow(s,G),li=this.pow(t,G.addn(1).iushrn(1)),un=this.pow(t,G),pn=Ne;un.cmp(Le)!==0;){for(var di=un,An=0;di.cmp(Le)!==0;An++)di=di.redSqr();P(An<pn);var $i=this.pow(Y,new R(1).iushln(pn-An-1));li=li.redMul($i),Y=$i.redSqr(),un=un.redMul(Y),pn=An}return li},Bn.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},Bn.prototype.pow=function(t,o){if(o.isZero())return new R(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var H=4,G=new Array(1<<H);G[0]=new R(1).toRed(this),G[1]=t;for(var Ne=2;Ne<G.length;Ne++)G[Ne]=this.mul(G[Ne-1],t);var Le=G[0],ti=0,Ie=0,s=o.bitLength()%26;for(s===0&&(s=26),Ne=o.length-1;Ne>=0;Ne--){for(var Y=o.words[Ne],li=s-1;li>=0;li--){var un=Y>>li&1;if(Le!==G[0]&&(Le=this.sqr(Le)),un===0&&ti===0){Ie=0;continue}ti<<=1,ti|=un,Ie++,!(Ie!==H&&(Ne!==0||li!==0))&&(Le=this.mul(Le,G[ti]),Ie=0,ti=0)}s=26}return Le},Bn.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},Bn.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},R.mont=function(t){return new ko(t)};function ko(ii){Bn.call(this,ii),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new R(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}W(ko,Bn),ko.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},ko.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},ko.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var H=t.imul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new R(0)._forceRed(this);var H=t.mul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$2)),bn$2.exports}var browser$4,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$4;hasRequiredBrowser$2=1;var r=requireElliptic(),e=requireBn$1();browser$4=function(Wr){return new P(Wr)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1;function P(R){this.curveType=i[R],this.curveType||(this.curveType={name:R}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}P.prototype.generateKeys=function(R,Wr){return this.keys=this.curve.genKeyPair(),this.getPublicKey(R,Wr)},P.prototype.computeSecret=function(R,Wr,ei){Wr=Wr||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,Wr));var ni=this.curve.keyFromPublic(R).getPublic(),Xr=ni.mul(this.keys.getPrivate()).getX();return W(Xr,ei,this.curveType.byteLength)},P.prototype.getPublicKey=function(R,Wr){var ei=this.keys.getPublic(Wr==="compressed",!0);return Wr==="hybrid"&&(ei[ei.length-1]%2?ei[0]=7:ei[0]=6),W(ei,R)},P.prototype.getPrivateKey=function(R){return W(this.keys.getPrivate(),R)},P.prototype.setPublicKey=function(R,Wr){return Wr=Wr||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,Wr)),this.keys._importPublic(R),this},P.prototype.setPrivateKey=function(R,Wr){Wr=Wr||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,Wr));var ei=new e(R);return ei=ei.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(ei),this};function W(R,Wr,ei){Array.isArray(R)||(R=R.toArray());var ni=new Buffer(R);if(ei&&ni.length<ei){var Xr=new Buffer(ei-ni.length);Xr.fill(0),ni=Buffer.concat([Xr,ni])}return Wr?ni.toString(Wr):ni}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var r=requireBrowser$9(),e=safeBufferExports.Buffer;mgf=function(P,W){for(var R=e.alloc(0),Wr=0,ei;R.length<W;)ei=i(Wr++),R=e.concat([R,r("sha1").update(P).update(ei).digest()]);return R.slice(0,W)};function i(P){var W=e.allocUnsafe(4);return W.writeUInt32BE(P,0),W}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,i){for(var P=e.length,W=-1;++W<P;)e[W]^=i[W];return e}),xor}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(r){(function(e,i){function P(ii,t){if(!ii)throw new Error(t||"Assertion failed")}function W(ii,t){ii.super_=t;var o=function(){};o.prototype=t.prototype,ii.prototype=new o,ii.prototype.constructor=ii}function R(ii,t,o){if(R.isBN(ii))return ii;this.negative=0,this.words=null,this.length=0,this.red=null,ii!==null&&((t==="le"||t==="be")&&(o=t,t=10),this._init(ii||0,t||10,o||"be"))}typeof e=="object"?e.exports=R:i.BN=R,R.BN=R,R.wordSize=26;var Wr;try{typeof window<"u"&&typeof window.Buffer<"u"?Wr=window.Buffer:Wr=require$$0$6.Buffer}catch{}R.isBN=function(t){return t instanceof R?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===R.wordSize&&Array.isArray(t.words)},R.max=function(t,o){return t.cmp(o)>0?t:o},R.min=function(t,o){return t.cmp(o)<0?t:o},R.prototype._init=function(t,o,H){if(typeof t=="number")return this._initNumber(t,o,H);if(typeof t=="object")return this._initArray(t,o,H);o==="hex"&&(o=16),P(o===(o|0)&&o>=2&&o<=36),t=t.toString().replace(/\s+/g,"");var G=0;t[0]==="-"&&(G++,this.negative=1),G<t.length&&(o===16?this._parseHex(t,G,H):(this._parseBase(t,o,G),H==="le"&&this._initArray(this.toArray(),o,H)))},R.prototype._initNumber=function(t,o,H){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(P(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),H==="le"&&this._initArray(this.toArray(),o,H)},R.prototype._initArray=function(t,o,H){if(P(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne,Le,ti=0;if(H==="be")for(G=t.length-1,Ne=0;G>=0;G-=3)Le=t[G]|t[G-1]<<8|t[G-2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);else if(H==="le")for(G=0,Ne=0;G<t.length;G+=3)Le=t[G]|t[G+1]<<8|t[G+2]<<16,this.words[Ne]|=Le<<ti&67108863,this.words[Ne+1]=Le>>>26-ti&67108863,ti+=24,ti>=26&&(ti-=26,Ne++);return this.strip()};function ei(ii,t){var o=ii.charCodeAt(t);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function ni(ii,t,o){var H=ei(ii,o);return o-1>=t&&(H|=ei(ii,o-1)<<4),H}R.prototype._parseHex=function(t,o,H){this.length=Math.ceil((t.length-o)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var Ne=0,Le=0,ti;if(H==="be")for(G=t.length-1;G>=o;G-=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8;else{var Ie=t.length-o;for(G=Ie%2===0?o+1:o;G<t.length;G+=2)ti=ni(t,o,G)<<Ne,this.words[Le]|=ti&67108863,Ne>=18?(Ne-=18,Le+=1,this.words[Le]|=ti>>>26):Ne+=8}this.strip()};function Xr(ii,t,o,H){for(var G=0,Ne=Math.min(ii.length,o),Le=t;Le<Ne;Le++){var ti=ii.charCodeAt(Le)-48;G*=H,ti>=49?G+=ti-49+10:ti>=17?G+=ti-17+10:G+=ti}return G}R.prototype._parseBase=function(t,o,H){this.words=[0],this.length=1;for(var G=0,Ne=1;Ne<=67108863;Ne*=o)G++;G--,Ne=Ne/o|0;for(var Le=t.length-H,ti=Le%G,Ie=Math.min(Le,Le-ti)+H,s=0,Y=H;Y<Ie;Y+=G)s=Xr(t,Y,Y+G,o),this.imuln(Ne),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(ti!==0){var li=1;for(s=Xr(t,Y,t.length,o),Y=0;Y<ti;Y++)li*=o;this.imuln(li),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},R.prototype.copy=function(t){t.words=new Array(this.length);for(var o=0;o<this.length;o++)t.words[o]=this.words[o];t.length=this.length,t.negative=this.negative,t.red=this.red},R.prototype.clone=function(){var t=new R(null);return this.copy(t),t},R.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},R.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},R.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},R.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Zr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],si=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],oi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];R.prototype.toString=function(t,o){t=t||10,o=o|0||1;var H;if(t===16||t==="hex"){H="";for(var G=0,Ne=0,Le=0;Le<this.length;Le++){var ti=this.words[Le],Ie=((ti<<G|Ne)&16777215).toString(16);Ne=ti>>>24-G&16777215,Ne!==0||Le!==this.length-1?H=Zr[6-Ie.length]+Ie+H:H=Ie+H,G+=2,G>=26&&(G-=26,Le--)}for(Ne!==0&&(H=Ne.toString(16)+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}if(t===(t|0)&&t>=2&&t<=36){var s=si[t],Y=oi[t];H="";var li=this.clone();for(li.negative=0;!li.isZero();){var un=li.modn(Y).toString(t);li=li.idivn(Y),li.isZero()?H=un+H:H=Zr[s-un.length]+un+H}for(this.isZero()&&(H="0"+H);H.length%o!==0;)H="0"+H;return this.negative!==0&&(H="-"+H),H}P(!1,"Base should be between 2 and 36")},R.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},R.prototype.toJSON=function(){return this.toString(16)},R.prototype.toBuffer=function(t,o){return P(typeof Wr<"u"),this.toArrayLike(Wr,t,o)},R.prototype.toArray=function(t,o){return this.toArrayLike(Array,t,o)},R.prototype.toArrayLike=function(t,o,H){var G=this.byteLength(),Ne=H||Math.max(1,G);P(G<=Ne,"byte array longer than desired length"),P(Ne>0,"Requested array length <= 0"),this.strip();var Le=o==="le",ti=new t(Ne),Ie,s,Y=this.clone();if(Le){for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[s]=Ie;for(;s<Ne;s++)ti[s]=0}else{for(s=0;s<Ne-G;s++)ti[s]=0;for(s=0;!Y.isZero();s++)Ie=Y.andln(255),Y.iushrn(8),ti[Ne-s-1]=Ie}return ti},Math.clz32?R.prototype._countBits=function(t){return 32-Math.clz32(t)}:R.prototype._countBits=function(t){var o=t,H=0;return o>=4096&&(H+=13,o>>>=13),o>=64&&(H+=7,o>>>=7),o>=8&&(H+=4,o>>>=4),o>=2&&(H+=2,o>>>=2),H+o},R.prototype._zeroBits=function(t){if(t===0)return 26;var o=t,H=0;return o&8191||(H+=13,o>>>=13),o&127||(H+=7,o>>>=7),o&15||(H+=4,o>>>=4),o&3||(H+=2,o>>>=2),o&1||H++,H},R.prototype.bitLength=function(){var t=this.words[this.length-1],o=this._countBits(t);return(this.length-1)*26+o};function ai(ii){for(var t=new Array(ii.bitLength()),o=0;o<t.length;o++){var H=o/26|0,G=o%26;t[o]=(ii.words[H]&1<<G)>>>G}return t}R.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,o=0;o<this.length;o++){var H=this._zeroBits(this.words[o]);if(t+=H,H!==26)break}return t},R.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},R.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},R.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},R.prototype.isNeg=function(){return this.negative!==0},R.prototype.neg=function(){return this.clone().ineg()},R.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},R.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]|t.words[o];return this.strip()},R.prototype.ior=function(t){return P((this.negative|t.negative)===0),this.iuor(t)},R.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},R.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},R.prototype.iuand=function(t){var o;this.length>t.length?o=t:o=this;for(var H=0;H<o.length;H++)this.words[H]=this.words[H]&t.words[H];return this.length=o.length,this.strip()},R.prototype.iand=function(t){return P((this.negative|t.negative)===0),this.iuand(t)},R.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},R.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},R.prototype.iuxor=function(t){var o,H;this.length>t.length?(o=this,H=t):(o=t,H=this);for(var G=0;G<H.length;G++)this.words[G]=o.words[G]^H.words[G];if(this!==o)for(;G<o.length;G++)this.words[G]=o.words[G];return this.length=o.length,this.strip()},R.prototype.ixor=function(t){return P((this.negative|t.negative)===0),this.iuxor(t)},R.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},R.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},R.prototype.inotn=function(t){P(typeof t=="number"&&t>=0);var o=Math.ceil(t/26)|0,H=t%26;this._expand(o),H>0&&o--;for(var G=0;G<o;G++)this.words[G]=~this.words[G]&67108863;return H>0&&(this.words[G]=~this.words[G]&67108863>>26-H),this.strip()},R.prototype.notn=function(t){return this.clone().inotn(t)},R.prototype.setn=function(t,o){P(typeof t=="number"&&t>=0);var H=t/26|0,G=t%26;return this._expand(H+1),o?this.words[H]=this.words[H]|1<<G:this.words[H]=this.words[H]&~(1<<G),this.strip()},R.prototype.iadd=function(t){var o;if(this.negative!==0&&t.negative===0)return this.negative=0,o=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,o=this.isub(t),t.negative=1,o._normSign();var H,G;this.length>t.length?(H=this,G=t):(H=t,G=this);for(var Ne=0,Le=0;Le<G.length;Le++)o=(H.words[Le]|0)+(G.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;for(;Ne!==0&&Le<H.length;Le++)o=(H.words[Le]|0)+Ne,this.words[Le]=o&67108863,Ne=o>>>26;if(this.length=H.length,Ne!==0)this.words[this.length]=Ne,this.length++;else if(H!==this)for(;Le<H.length;Le++)this.words[Le]=H.words[Le];return this},R.prototype.add=function(t){var o;return t.negative!==0&&this.negative===0?(t.negative=0,o=this.sub(t),t.negative^=1,o):t.negative===0&&this.negative!==0?(this.negative=0,o=t.sub(this),this.negative=1,o):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},R.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var o=this.iadd(t);return t.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var H=this.cmp(t);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,Ne;H>0?(G=this,Ne=t):(G=t,Ne=this);for(var Le=0,ti=0;ti<Ne.length;ti++)o=(G.words[ti]|0)-(Ne.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;for(;Le!==0&&ti<G.length;ti++)o=(G.words[ti]|0)+Le,Le=o>>26,this.words[ti]=o&67108863;if(Le===0&&ti<G.length&&G!==this)for(;ti<G.length;ti++)this.words[ti]=G.words[ti];return this.length=Math.max(this.length,ti),G!==this&&(this.negative=1),this.strip()},R.prototype.sub=function(t){return this.clone().isub(t)};function fi(ii,t,o){o.negative=t.negative^ii.negative;var H=ii.length+t.length|0;o.length=H,H=H-1|0;var G=ii.words[0]|0,Ne=t.words[0]|0,Le=G*Ne,ti=Le&67108863,Ie=Le/67108864|0;o.words[0]=ti;for(var s=1;s<H;s++){for(var Y=Ie>>>26,li=Ie&67108863,un=Math.min(s,t.length-1),pn=Math.max(0,s-ii.length+1);pn<=un;pn++){var di=s-pn|0;G=ii.words[di]|0,Ne=t.words[pn]|0,Le=G*Ne+li,Y+=Le/67108864|0,li=Le&67108863}o.words[s]=li|0,Ie=Y|0}return Ie!==0?o.words[s]=Ie|0:o.length--,o.strip()}var ui=function(t,o,H){var G=t.words,Ne=o.words,Le=H.words,ti=0,Ie,s,Y,li=G[0]|0,un=li&8191,pn=li>>>13,di=G[1]|0,An=di&8191,$i=di>>>13,fn=G[2]|0,cn=fn&8191,ci=fn>>>13,Rn=G[3]|0,Zn=Rn&8191,ho=Rn>>>13,qh=G[4]|0,Lo=qh&8191,jo=qh>>>13,jh=G[5]|0,_h=jh&8191,tf=jh>>>13,zh=G[6]|0,Ko=zh&8191,Uo=zh>>>13,Uh=G[7]|0,Vo=Uh&8191,qo=Uh>>>13,Fh=G[8]|0,Zo=Fh&8191,Fo=Fh>>>13,Hh=G[9]|0,Vf=Hh&8191,Ho=Hh>>>13,Kh=Ne[0]|0,yh=Kh&8191,Yo=Kh>>>13,Vh=Ne[1]|0,Ih=Vh&8191,wh=Vh>>>13,uu=Ne[2]|0,Dh=uu&8191,Mh=uu>>>13,qu=Ne[3]|0,Bh=qu&8191,Xf=qu>>>13,Jh=Ne[4]|0,Eh=Jh&8191,ph=Jh>>>13,Qh=Ne[5]|0,xh=Qh&8191,mh=Qh>>>13,su=Ne[6]|0,Ah=su&8191,gh=su>>>13,Xh=Ne[7]|0,Sh=Xh&8191,vh=Xh>>>13,Wh=Ne[8]|0,Rh=Wh&8191,bh=Wh>>>13,Uu=Ne[9]|0,Ch=Uu&8191,$h=Uu>>>13;H.negative=t.negative^o.negative,H.length=19,Ie=Math.imul(un,yh),s=Math.imul(un,Yo),s=s+Math.imul(pn,yh)|0,Y=Math.imul(pn,Yo);var au=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(au>>>26)|0,au&=67108863,Ie=Math.imul(An,yh),s=Math.imul(An,Yo),s=s+Math.imul($i,yh)|0,Y=Math.imul($i,Yo),Ie=Ie+Math.imul(un,Ih)|0,s=s+Math.imul(un,wh)|0,s=s+Math.imul(pn,Ih)|0,Y=Y+Math.imul(pn,wh)|0;var f0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(f0>>>26)|0,f0&=67108863,Ie=Math.imul(cn,yh),s=Math.imul(cn,Yo),s=s+Math.imul(ci,yh)|0,Y=Math.imul(ci,Yo),Ie=Ie+Math.imul(An,Ih)|0,s=s+Math.imul(An,wh)|0,s=s+Math.imul($i,Ih)|0,Y=Y+Math.imul($i,wh)|0,Ie=Ie+Math.imul(un,Dh)|0,s=s+Math.imul(un,Mh)|0,s=s+Math.imul(pn,Dh)|0,Y=Y+Math.imul(pn,Mh)|0;var $0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+($0>>>26)|0,$0&=67108863,Ie=Math.imul(Zn,yh),s=Math.imul(Zn,Yo),s=s+Math.imul(ho,yh)|0,Y=Math.imul(ho,Yo),Ie=Ie+Math.imul(cn,Ih)|0,s=s+Math.imul(cn,wh)|0,s=s+Math.imul(ci,Ih)|0,Y=Y+Math.imul(ci,wh)|0,Ie=Ie+Math.imul(An,Dh)|0,s=s+Math.imul(An,Mh)|0,s=s+Math.imul($i,Dh)|0,Y=Y+Math.imul($i,Mh)|0,Ie=Ie+Math.imul(un,Bh)|0,s=s+Math.imul(un,Xf)|0,s=s+Math.imul(pn,Bh)|0,Y=Y+Math.imul(pn,Xf)|0;var D0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(D0>>>26)|0,D0&=67108863,Ie=Math.imul(Lo,yh),s=Math.imul(Lo,Yo),s=s+Math.imul(jo,yh)|0,Y=Math.imul(jo,Yo),Ie=Ie+Math.imul(Zn,Ih)|0,s=s+Math.imul(Zn,wh)|0,s=s+Math.imul(ho,Ih)|0,Y=Y+Math.imul(ho,wh)|0,Ie=Ie+Math.imul(cn,Dh)|0,s=s+Math.imul(cn,Mh)|0,s=s+Math.imul(ci,Dh)|0,Y=Y+Math.imul(ci,Mh)|0,Ie=Ie+Math.imul(An,Bh)|0,s=s+Math.imul(An,Xf)|0,s=s+Math.imul($i,Bh)|0,Y=Y+Math.imul($i,Xf)|0,Ie=Ie+Math.imul(un,Eh)|0,s=s+Math.imul(un,ph)|0,s=s+Math.imul(pn,Eh)|0,Y=Y+Math.imul(pn,ph)|0;var F0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(F0>>>26)|0,F0&=67108863,Ie=Math.imul(_h,yh),s=Math.imul(_h,Yo),s=s+Math.imul(tf,yh)|0,Y=Math.imul(tf,Yo),Ie=Ie+Math.imul(Lo,Ih)|0,s=s+Math.imul(Lo,wh)|0,s=s+Math.imul(jo,Ih)|0,Y=Y+Math.imul(jo,wh)|0,Ie=Ie+Math.imul(Zn,Dh)|0,s=s+Math.imul(Zn,Mh)|0,s=s+Math.imul(ho,Dh)|0,Y=Y+Math.imul(ho,Mh)|0,Ie=Ie+Math.imul(cn,Bh)|0,s=s+Math.imul(cn,Xf)|0,s=s+Math.imul(ci,Bh)|0,Y=Y+Math.imul(ci,Xf)|0,Ie=Ie+Math.imul(An,Eh)|0,s=s+Math.imul(An,ph)|0,s=s+Math.imul($i,Eh)|0,Y=Y+Math.imul($i,ph)|0,Ie=Ie+Math.imul(un,xh)|0,s=s+Math.imul(un,mh)|0,s=s+Math.imul(pn,xh)|0,Y=Y+Math.imul(pn,mh)|0;var tc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(tc>>>26)|0,tc&=67108863,Ie=Math.imul(Ko,yh),s=Math.imul(Ko,Yo),s=s+Math.imul(Uo,yh)|0,Y=Math.imul(Uo,Yo),Ie=Ie+Math.imul(_h,Ih)|0,s=s+Math.imul(_h,wh)|0,s=s+Math.imul(tf,Ih)|0,Y=Y+Math.imul(tf,wh)|0,Ie=Ie+Math.imul(Lo,Dh)|0,s=s+Math.imul(Lo,Mh)|0,s=s+Math.imul(jo,Dh)|0,Y=Y+Math.imul(jo,Mh)|0,Ie=Ie+Math.imul(Zn,Bh)|0,s=s+Math.imul(Zn,Xf)|0,s=s+Math.imul(ho,Bh)|0,Y=Y+Math.imul(ho,Xf)|0,Ie=Ie+Math.imul(cn,Eh)|0,s=s+Math.imul(cn,ph)|0,s=s+Math.imul(ci,Eh)|0,Y=Y+Math.imul(ci,ph)|0,Ie=Ie+Math.imul(An,xh)|0,s=s+Math.imul(An,mh)|0,s=s+Math.imul($i,xh)|0,Y=Y+Math.imul($i,mh)|0,Ie=Ie+Math.imul(un,Ah)|0,s=s+Math.imul(un,gh)|0,s=s+Math.imul(pn,Ah)|0,Y=Y+Math.imul(pn,gh)|0;var Ku=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,Ie=Math.imul(Vo,yh),s=Math.imul(Vo,Yo),s=s+Math.imul(qo,yh)|0,Y=Math.imul(qo,Yo),Ie=Ie+Math.imul(Ko,Ih)|0,s=s+Math.imul(Ko,wh)|0,s=s+Math.imul(Uo,Ih)|0,Y=Y+Math.imul(Uo,wh)|0,Ie=Ie+Math.imul(_h,Dh)|0,s=s+Math.imul(_h,Mh)|0,s=s+Math.imul(tf,Dh)|0,Y=Y+Math.imul(tf,Mh)|0,Ie=Ie+Math.imul(Lo,Bh)|0,s=s+Math.imul(Lo,Xf)|0,s=s+Math.imul(jo,Bh)|0,Y=Y+Math.imul(jo,Xf)|0,Ie=Ie+Math.imul(Zn,Eh)|0,s=s+Math.imul(Zn,ph)|0,s=s+Math.imul(ho,Eh)|0,Y=Y+Math.imul(ho,ph)|0,Ie=Ie+Math.imul(cn,xh)|0,s=s+Math.imul(cn,mh)|0,s=s+Math.imul(ci,xh)|0,Y=Y+Math.imul(ci,mh)|0,Ie=Ie+Math.imul(An,Ah)|0,s=s+Math.imul(An,gh)|0,s=s+Math.imul($i,Ah)|0,Y=Y+Math.imul($i,gh)|0,Ie=Ie+Math.imul(un,Sh)|0,s=s+Math.imul(un,vh)|0,s=s+Math.imul(pn,Sh)|0,Y=Y+Math.imul(pn,vh)|0;var sc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(sc>>>26)|0,sc&=67108863,Ie=Math.imul(Zo,yh),s=Math.imul(Zo,Yo),s=s+Math.imul(Fo,yh)|0,Y=Math.imul(Fo,Yo),Ie=Ie+Math.imul(Vo,Ih)|0,s=s+Math.imul(Vo,wh)|0,s=s+Math.imul(qo,Ih)|0,Y=Y+Math.imul(qo,wh)|0,Ie=Ie+Math.imul(Ko,Dh)|0,s=s+Math.imul(Ko,Mh)|0,s=s+Math.imul(Uo,Dh)|0,Y=Y+Math.imul(Uo,Mh)|0,Ie=Ie+Math.imul(_h,Bh)|0,s=s+Math.imul(_h,Xf)|0,s=s+Math.imul(tf,Bh)|0,Y=Y+Math.imul(tf,Xf)|0,Ie=Ie+Math.imul(Lo,Eh)|0,s=s+Math.imul(Lo,ph)|0,s=s+Math.imul(jo,Eh)|0,Y=Y+Math.imul(jo,ph)|0,Ie=Ie+Math.imul(Zn,xh)|0,s=s+Math.imul(Zn,mh)|0,s=s+Math.imul(ho,xh)|0,Y=Y+Math.imul(ho,mh)|0,Ie=Ie+Math.imul(cn,Ah)|0,s=s+Math.imul(cn,gh)|0,s=s+Math.imul(ci,Ah)|0,Y=Y+Math.imul(ci,gh)|0,Ie=Ie+Math.imul(An,Sh)|0,s=s+Math.imul(An,vh)|0,s=s+Math.imul($i,Sh)|0,Y=Y+Math.imul($i,vh)|0,Ie=Ie+Math.imul(un,Rh)|0,s=s+Math.imul(un,bh)|0,s=s+Math.imul(pn,Rh)|0,Y=Y+Math.imul(pn,bh)|0;var uc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(uc>>>26)|0,uc&=67108863,Ie=Math.imul(Vf,yh),s=Math.imul(Vf,Yo),s=s+Math.imul(Ho,yh)|0,Y=Math.imul(Ho,Yo),Ie=Ie+Math.imul(Zo,Ih)|0,s=s+Math.imul(Zo,wh)|0,s=s+Math.imul(Fo,Ih)|0,Y=Y+Math.imul(Fo,wh)|0,Ie=Ie+Math.imul(Vo,Dh)|0,s=s+Math.imul(Vo,Mh)|0,s=s+Math.imul(qo,Dh)|0,Y=Y+Math.imul(qo,Mh)|0,Ie=Ie+Math.imul(Ko,Bh)|0,s=s+Math.imul(Ko,Xf)|0,s=s+Math.imul(Uo,Bh)|0,Y=Y+Math.imul(Uo,Xf)|0,Ie=Ie+Math.imul(_h,Eh)|0,s=s+Math.imul(_h,ph)|0,s=s+Math.imul(tf,Eh)|0,Y=Y+Math.imul(tf,ph)|0,Ie=Ie+Math.imul(Lo,xh)|0,s=s+Math.imul(Lo,mh)|0,s=s+Math.imul(jo,xh)|0,Y=Y+Math.imul(jo,mh)|0,Ie=Ie+Math.imul(Zn,Ah)|0,s=s+Math.imul(Zn,gh)|0,s=s+Math.imul(ho,Ah)|0,Y=Y+Math.imul(ho,gh)|0,Ie=Ie+Math.imul(cn,Sh)|0,s=s+Math.imul(cn,vh)|0,s=s+Math.imul(ci,Sh)|0,Y=Y+Math.imul(ci,vh)|0,Ie=Ie+Math.imul(An,Rh)|0,s=s+Math.imul(An,bh)|0,s=s+Math.imul($i,Rh)|0,Y=Y+Math.imul($i,bh)|0,Ie=Ie+Math.imul(un,Ch)|0,s=s+Math.imul(un,$h)|0,s=s+Math.imul(pn,Ch)|0,Y=Y+Math.imul(pn,$h)|0;var ac=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(ac>>>26)|0,ac&=67108863,Ie=Math.imul(Vf,Ih),s=Math.imul(Vf,wh),s=s+Math.imul(Ho,Ih)|0,Y=Math.imul(Ho,wh),Ie=Ie+Math.imul(Zo,Dh)|0,s=s+Math.imul(Zo,Mh)|0,s=s+Math.imul(Fo,Dh)|0,Y=Y+Math.imul(Fo,Mh)|0,Ie=Ie+Math.imul(Vo,Bh)|0,s=s+Math.imul(Vo,Xf)|0,s=s+Math.imul(qo,Bh)|0,Y=Y+Math.imul(qo,Xf)|0,Ie=Ie+Math.imul(Ko,Eh)|0,s=s+Math.imul(Ko,ph)|0,s=s+Math.imul(Uo,Eh)|0,Y=Y+Math.imul(Uo,ph)|0,Ie=Ie+Math.imul(_h,xh)|0,s=s+Math.imul(_h,mh)|0,s=s+Math.imul(tf,xh)|0,Y=Y+Math.imul(tf,mh)|0,Ie=Ie+Math.imul(Lo,Ah)|0,s=s+Math.imul(Lo,gh)|0,s=s+Math.imul(jo,Ah)|0,Y=Y+Math.imul(jo,gh)|0,Ie=Ie+Math.imul(Zn,Sh)|0,s=s+Math.imul(Zn,vh)|0,s=s+Math.imul(ho,Sh)|0,Y=Y+Math.imul(ho,vh)|0,Ie=Ie+Math.imul(cn,Rh)|0,s=s+Math.imul(cn,bh)|0,s=s+Math.imul(ci,Rh)|0,Y=Y+Math.imul(ci,bh)|0,Ie=Ie+Math.imul(An,Ch)|0,s=s+Math.imul(An,$h)|0,s=s+Math.imul($i,Ch)|0,Y=Y+Math.imul($i,$h)|0;var cc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(cc>>>26)|0,cc&=67108863,Ie=Math.imul(Vf,Dh),s=Math.imul(Vf,Mh),s=s+Math.imul(Ho,Dh)|0,Y=Math.imul(Ho,Mh),Ie=Ie+Math.imul(Zo,Bh)|0,s=s+Math.imul(Zo,Xf)|0,s=s+Math.imul(Fo,Bh)|0,Y=Y+Math.imul(Fo,Xf)|0,Ie=Ie+Math.imul(Vo,Eh)|0,s=s+Math.imul(Vo,ph)|0,s=s+Math.imul(qo,Eh)|0,Y=Y+Math.imul(qo,ph)|0,Ie=Ie+Math.imul(Ko,xh)|0,s=s+Math.imul(Ko,mh)|0,s=s+Math.imul(Uo,xh)|0,Y=Y+Math.imul(Uo,mh)|0,Ie=Ie+Math.imul(_h,Ah)|0,s=s+Math.imul(_h,gh)|0,s=s+Math.imul(tf,Ah)|0,Y=Y+Math.imul(tf,gh)|0,Ie=Ie+Math.imul(Lo,Sh)|0,s=s+Math.imul(Lo,vh)|0,s=s+Math.imul(jo,Sh)|0,Y=Y+Math.imul(jo,vh)|0,Ie=Ie+Math.imul(Zn,Rh)|0,s=s+Math.imul(Zn,bh)|0,s=s+Math.imul(ho,Rh)|0,Y=Y+Math.imul(ho,bh)|0,Ie=Ie+Math.imul(cn,Ch)|0,s=s+Math.imul(cn,$h)|0,s=s+Math.imul(ci,Ch)|0,Y=Y+Math.imul(ci,$h)|0;var lc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(lc>>>26)|0,lc&=67108863,Ie=Math.imul(Vf,Bh),s=Math.imul(Vf,Xf),s=s+Math.imul(Ho,Bh)|0,Y=Math.imul(Ho,Xf),Ie=Ie+Math.imul(Zo,Eh)|0,s=s+Math.imul(Zo,ph)|0,s=s+Math.imul(Fo,Eh)|0,Y=Y+Math.imul(Fo,ph)|0,Ie=Ie+Math.imul(Vo,xh)|0,s=s+Math.imul(Vo,mh)|0,s=s+Math.imul(qo,xh)|0,Y=Y+Math.imul(qo,mh)|0,Ie=Ie+Math.imul(Ko,Ah)|0,s=s+Math.imul(Ko,gh)|0,s=s+Math.imul(Uo,Ah)|0,Y=Y+Math.imul(Uo,gh)|0,Ie=Ie+Math.imul(_h,Sh)|0,s=s+Math.imul(_h,vh)|0,s=s+Math.imul(tf,Sh)|0,Y=Y+Math.imul(tf,vh)|0,Ie=Ie+Math.imul(Lo,Rh)|0,s=s+Math.imul(Lo,bh)|0,s=s+Math.imul(jo,Rh)|0,Y=Y+Math.imul(jo,bh)|0,Ie=Ie+Math.imul(Zn,Ch)|0,s=s+Math.imul(Zn,$h)|0,s=s+Math.imul(ho,Ch)|0,Y=Y+Math.imul(ho,$h)|0;var oc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(oc>>>26)|0,oc&=67108863,Ie=Math.imul(Vf,Eh),s=Math.imul(Vf,ph),s=s+Math.imul(Ho,Eh)|0,Y=Math.imul(Ho,ph),Ie=Ie+Math.imul(Zo,xh)|0,s=s+Math.imul(Zo,mh)|0,s=s+Math.imul(Fo,xh)|0,Y=Y+Math.imul(Fo,mh)|0,Ie=Ie+Math.imul(Vo,Ah)|0,s=s+Math.imul(Vo,gh)|0,s=s+Math.imul(qo,Ah)|0,Y=Y+Math.imul(qo,gh)|0,Ie=Ie+Math.imul(Ko,Sh)|0,s=s+Math.imul(Ko,vh)|0,s=s+Math.imul(Uo,Sh)|0,Y=Y+Math.imul(Uo,vh)|0,Ie=Ie+Math.imul(_h,Rh)|0,s=s+Math.imul(_h,bh)|0,s=s+Math.imul(tf,Rh)|0,Y=Y+Math.imul(tf,bh)|0,Ie=Ie+Math.imul(Lo,Ch)|0,s=s+Math.imul(Lo,$h)|0,s=s+Math.imul(jo,Ch)|0,Y=Y+Math.imul(jo,$h)|0;var fc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(fc>>>26)|0,fc&=67108863,Ie=Math.imul(Vf,xh),s=Math.imul(Vf,mh),s=s+Math.imul(Ho,xh)|0,Y=Math.imul(Ho,mh),Ie=Ie+Math.imul(Zo,Ah)|0,s=s+Math.imul(Zo,gh)|0,s=s+Math.imul(Fo,Ah)|0,Y=Y+Math.imul(Fo,gh)|0,Ie=Ie+Math.imul(Vo,Sh)|0,s=s+Math.imul(Vo,vh)|0,s=s+Math.imul(qo,Sh)|0,Y=Y+Math.imul(qo,vh)|0,Ie=Ie+Math.imul(Ko,Rh)|0,s=s+Math.imul(Ko,bh)|0,s=s+Math.imul(Uo,Rh)|0,Y=Y+Math.imul(Uo,bh)|0,Ie=Ie+Math.imul(_h,Ch)|0,s=s+Math.imul(_h,$h)|0,s=s+Math.imul(tf,Ch)|0,Y=Y+Math.imul(tf,$h)|0;var hc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(hc>>>26)|0,hc&=67108863,Ie=Math.imul(Vf,Ah),s=Math.imul(Vf,gh),s=s+Math.imul(Ho,Ah)|0,Y=Math.imul(Ho,gh),Ie=Ie+Math.imul(Zo,Sh)|0,s=s+Math.imul(Zo,vh)|0,s=s+Math.imul(Fo,Sh)|0,Y=Y+Math.imul(Fo,vh)|0,Ie=Ie+Math.imul(Vo,Rh)|0,s=s+Math.imul(Vo,bh)|0,s=s+Math.imul(qo,Rh)|0,Y=Y+Math.imul(qo,bh)|0,Ie=Ie+Math.imul(Ko,Ch)|0,s=s+Math.imul(Ko,$h)|0,s=s+Math.imul(Uo,Ch)|0,Y=Y+Math.imul(Uo,$h)|0;var r0=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(r0>>>26)|0,r0&=67108863,Ie=Math.imul(Vf,Sh),s=Math.imul(Vf,vh),s=s+Math.imul(Ho,Sh)|0,Y=Math.imul(Ho,vh),Ie=Ie+Math.imul(Zo,Rh)|0,s=s+Math.imul(Zo,bh)|0,s=s+Math.imul(Fo,Rh)|0,Y=Y+Math.imul(Fo,bh)|0,Ie=Ie+Math.imul(Vo,Ch)|0,s=s+Math.imul(Vo,$h)|0,s=s+Math.imul(qo,Ch)|0,Y=Y+Math.imul(qo,$h)|0;var dc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(dc>>>26)|0,dc&=67108863,Ie=Math.imul(Vf,Rh),s=Math.imul(Vf,bh),s=s+Math.imul(Ho,Rh)|0,Y=Math.imul(Ho,bh),Ie=Ie+Math.imul(Zo,Ch)|0,s=s+Math.imul(Zo,$h)|0,s=s+Math.imul(Fo,Ch)|0,Y=Y+Math.imul(Fo,$h)|0;var pc=(ti+Ie|0)+((s&8191)<<13)|0;ti=(Y+(s>>>13)|0)+(pc>>>26)|0,pc&=67108863,Ie=Math.imul(Vf,Ch),s=Math.imul(Vf,$h),s=s+Math.imul(Ho,Ch)|0,Y=Math.imul(Ho,$h);var vc=(ti+Ie|0)+((s&8191)<<13)|0;return ti=(Y+(s>>>13)|0)+(vc>>>26)|0,vc&=67108863,Le[0]=au,Le[1]=f0,Le[2]=$0,Le[3]=D0,Le[4]=F0,Le[5]=tc,Le[6]=Ku,Le[7]=sc,Le[8]=uc,Le[9]=ac,Le[10]=cc,Le[11]=lc,Le[12]=oc,Le[13]=fc,Le[14]=hc,Le[15]=r0,Le[16]=dc,Le[17]=pc,Le[18]=vc,ti!==0&&(Le[19]=ti,H.length++),H};Math.imul||(ui=fi);function sn(ii,t,o){o.negative=t.negative^ii.negative,o.length=ii.length+t.length;for(var H=0,G=0,Ne=0;Ne<o.length-1;Ne++){var Le=G;G=0;for(var ti=H&67108863,Ie=Math.min(Ne,t.length-1),s=Math.max(0,Ne-ii.length+1);s<=Ie;s++){var Y=Ne-s,li=ii.words[Y]|0,un=t.words[s]|0,pn=li*un,di=pn&67108863;Le=Le+(pn/67108864|0)|0,di=di+ti|0,ti=di&67108863,Le=Le+(di>>>26)|0,G+=Le>>>26,Le&=67108863}o.words[Ne]=ti,H=Le,Le=G}return H!==0?o.words[Ne]=H:o.length--,o.strip()}function hn(ii,t,o){var H=new nn;return H.mulp(ii,t,o)}R.prototype.mulTo=function(t,o){var H,G=this.length+t.length;return this.length===10&&t.length===10?H=ui(this,t,o):G<63?H=fi(this,t,o):G<1024?H=sn(this,t,o):H=hn(this,t,o),H};function nn(ii,t){this.x=ii,this.y=t}nn.prototype.makeRBT=function(t){for(var o=new Array(t),H=R.prototype._countBits(t)-1,G=0;G<t;G++)o[G]=this.revBin(G,H,t);return o},nn.prototype.revBin=function(t,o,H){if(t===0||t===H-1)return t;for(var G=0,Ne=0;Ne<o;Ne++)G|=(t&1)<<o-Ne-1,t>>=1;return G},nn.prototype.permute=function(t,o,H,G,Ne,Le){for(var ti=0;ti<Le;ti++)G[ti]=o[t[ti]],Ne[ti]=H[t[ti]]},nn.prototype.transform=function(t,o,H,G,Ne,Le){this.permute(Le,t,o,H,G,Ne);for(var ti=1;ti<Ne;ti<<=1)for(var Ie=ti<<1,s=Math.cos(2*Math.PI/Ie),Y=Math.sin(2*Math.PI/Ie),li=0;li<Ne;li+=Ie)for(var un=s,pn=Y,di=0;di<ti;di++){var An=H[li+di],$i=G[li+di],fn=H[li+di+ti],cn=G[li+di+ti],ci=un*fn-pn*cn;cn=un*cn+pn*fn,fn=ci,H[li+di]=An+fn,G[li+di]=$i+cn,H[li+di+ti]=An-fn,G[li+di+ti]=$i-cn,di!==Ie&&(ci=s*un-Y*pn,pn=s*pn+Y*un,un=ci)}},nn.prototype.guessLen13b=function(t,o){var H=Math.max(o,t)|1,G=H&1,Ne=0;for(H=H/2|0;H;H=H>>>1)Ne++;return 1<<Ne+1+G},nn.prototype.conjugate=function(t,o,H){if(!(H<=1))for(var G=0;G<H/2;G++){var Ne=t[G];t[G]=t[H-G-1],t[H-G-1]=Ne,Ne=o[G],o[G]=-o[H-G-1],o[H-G-1]=-Ne}},nn.prototype.normalize13b=function(t,o){for(var H=0,G=0;G<o/2;G++){var Ne=Math.round(t[2*G+1]/o)*8192+Math.round(t[2*G]/o)+H;t[G]=Ne&67108863,Ne<67108864?H=0:H=Ne/67108864|0}return t},nn.prototype.convert13b=function(t,o,H,G){for(var Ne=0,Le=0;Le<o;Le++)Ne=Ne+(t[Le]|0),H[2*Le]=Ne&8191,Ne=Ne>>>13,H[2*Le+1]=Ne&8191,Ne=Ne>>>13;for(Le=2*o;Le<G;++Le)H[Le]=0;P(Ne===0),P((Ne&-8192)===0)},nn.prototype.stub=function(t){for(var o=new Array(t),H=0;H<t;H++)o[H]=0;return o},nn.prototype.mulp=function(t,o,H){var G=2*this.guessLen13b(t.length,o.length),Ne=this.makeRBT(G),Le=this.stub(G),ti=new Array(G),Ie=new Array(G),s=new Array(G),Y=new Array(G),li=new Array(G),un=new Array(G),pn=H.words;pn.length=G,this.convert13b(t.words,t.length,ti,G),this.convert13b(o.words,o.length,Y,G),this.transform(ti,Le,Ie,s,G,Ne),this.transform(Y,Le,li,un,G,Ne);for(var di=0;di<G;di++){var An=Ie[di]*li[di]-s[di]*un[di];s[di]=Ie[di]*un[di]+s[di]*li[di],Ie[di]=An}return this.conjugate(Ie,s,G),this.transform(Ie,s,pn,Le,G,Ne),this.conjugate(pn,Le,G),this.normalize13b(pn,G),H.negative=t.negative^o.negative,H.length=t.length+o.length,H.strip()},R.prototype.mul=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),this.mulTo(t,o)},R.prototype.mulf=function(t){var o=new R(null);return o.words=new Array(this.length+t.length),hn(this,t,o)},R.prototype.imul=function(t){return this.clone().mulTo(t,this)},R.prototype.imuln=function(t){P(typeof t=="number"),P(t<67108864);for(var o=0,H=0;H<this.length;H++){var G=(this.words[H]|0)*t,Ne=(G&67108863)+(o&67108863);o>>=26,o+=G/67108864|0,o+=Ne>>>26,this.words[H]=Ne&67108863}return o!==0&&(this.words[H]=o,this.length++),this},R.prototype.muln=function(t){return this.clone().imuln(t)},R.prototype.sqr=function(){return this.mul(this)},R.prototype.isqr=function(){return this.imul(this.clone())},R.prototype.pow=function(t){var o=ai(t);if(o.length===0)return new R(1);for(var H=this,G=0;G<o.length&&o[G]===0;G++,H=H.sqr());if(++G<o.length)for(var Ne=H.sqr();G<o.length;G++,Ne=Ne.sqr())o[G]!==0&&(H=H.mul(Ne));return H},R.prototype.iushln=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=67108863>>>26-o<<26-o,Ne;if(o!==0){var Le=0;for(Ne=0;Ne<this.length;Ne++){var ti=this.words[Ne]&G,Ie=(this.words[Ne]|0)-ti<<o;this.words[Ne]=Ie|Le,Le=ti>>>26-o}Le&&(this.words[Ne]=Le,this.length++)}if(H!==0){for(Ne=this.length-1;Ne>=0;Ne--)this.words[Ne+H]=this.words[Ne];for(Ne=0;Ne<H;Ne++)this.words[Ne]=0;this.length+=H}return this.strip()},R.prototype.ishln=function(t){return P(this.negative===0),this.iushln(t)},R.prototype.iushrn=function(t,o,H){P(typeof t=="number"&&t>=0);var G;o?G=(o-o%26)/26:G=0;var Ne=t%26,Le=Math.min((t-Ne)/26,this.length),ti=67108863^67108863>>>Ne<<Ne,Ie=H;if(G-=Le,G=Math.max(0,G),Ie){for(var s=0;s<Le;s++)Ie.words[s]=this.words[s];Ie.length=Le}if(Le!==0)if(this.length>Le)for(this.length-=Le,s=0;s<this.length;s++)this.words[s]=this.words[s+Le];else this.words[0]=0,this.length=1;var Y=0;for(s=this.length-1;s>=0&&(Y!==0||s>=G);s--){var li=this.words[s]|0;this.words[s]=Y<<26-Ne|li>>>Ne,Y=li&ti}return Ie&&Y!==0&&(Ie.words[Ie.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},R.prototype.ishrn=function(t,o,H){return P(this.negative===0),this.iushrn(t,o,H)},R.prototype.shln=function(t){return this.clone().ishln(t)},R.prototype.ushln=function(t){return this.clone().iushln(t)},R.prototype.shrn=function(t){return this.clone().ishrn(t)},R.prototype.ushrn=function(t){return this.clone().iushrn(t)},R.prototype.testn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return!1;var Ne=this.words[H];return!!(Ne&G)},R.prototype.imaskn=function(t){P(typeof t=="number"&&t>=0);var o=t%26,H=(t-o)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=H)return this;if(o!==0&&H++,this.length=Math.min(H,this.length),o!==0){var G=67108863^67108863>>>o<<o;this.words[this.length-1]&=G}return this.strip()},R.prototype.maskn=function(t){return this.clone().imaskn(t)},R.prototype.iaddn=function(t){return P(typeof t=="number"),P(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},R.prototype._iaddn=function(t){this.words[0]+=t;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},R.prototype.isubn=function(t){if(P(typeof t=="number"),P(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},R.prototype.addn=function(t){return this.clone().iaddn(t)},R.prototype.subn=function(t){return this.clone().isubn(t)},R.prototype.iabs=function(){return this.negative=0,this},R.prototype.abs=function(){return this.clone().iabs()},R.prototype._ishlnsubmul=function(t,o,H){var G=t.length+H,Ne;this._expand(G);var Le,ti=0;for(Ne=0;Ne<t.length;Ne++){Le=(this.words[Ne+H]|0)+ti;var Ie=(t.words[Ne]|0)*o;Le-=Ie&67108863,ti=(Le>>26)-(Ie/67108864|0),this.words[Ne+H]=Le&67108863}for(;Ne<this.length-H;Ne++)Le=(this.words[Ne+H]|0)+ti,ti=Le>>26,this.words[Ne+H]=Le&67108863;if(ti===0)return this.strip();for(P(ti===-1),ti=0,Ne=0;Ne<this.length;Ne++)Le=-(this.words[Ne]|0)+ti,ti=Le>>26,this.words[Ne]=Le&67108863;return this.negative=1,this.strip()},R.prototype._wordDiv=function(t,o){var H=this.length-t.length,G=this.clone(),Ne=t,Le=Ne.words[Ne.length-1]|0,ti=this._countBits(Le);H=26-ti,H!==0&&(Ne=Ne.ushln(H),G.iushln(H),Le=Ne.words[Ne.length-1]|0);var Ie=G.length-Ne.length,s;if(o!=="mod"){s=new R(null),s.length=Ie+1,s.words=new Array(s.length);for(var Y=0;Y<s.length;Y++)s.words[Y]=0}var li=G.clone()._ishlnsubmul(Ne,1,Ie);li.negative===0&&(G=li,s&&(s.words[Ie]=1));for(var un=Ie-1;un>=0;un--){var pn=(G.words[Ne.length+un]|0)*67108864+(G.words[Ne.length+un-1]|0);for(pn=Math.min(pn/Le|0,67108863),G._ishlnsubmul(Ne,pn,un);G.negative!==0;)pn--,G.negative=0,G._ishlnsubmul(Ne,1,un),G.isZero()||(G.negative^=1);s&&(s.words[un]=pn)}return s&&s.strip(),G.strip(),o!=="div"&&H!==0&&G.iushrn(H),{div:s||null,mod:G}},R.prototype.divmod=function(t,o,H){if(P(!t.isZero()),this.isZero())return{div:new R(0),mod:new R(0)};var G,Ne,Le;return this.negative!==0&&t.negative===0?(Le=this.neg().divmod(t,o),o!=="mod"&&(G=Le.div.neg()),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.iadd(t)),{div:G,mod:Ne}):this.negative===0&&t.negative!==0?(Le=this.divmod(t.neg(),o),o!=="mod"&&(G=Le.div.neg()),{div:G,mod:Le.mod}):this.negative&t.negative?(Le=this.neg().divmod(t.neg(),o),o!=="div"&&(Ne=Le.mod.neg(),H&&Ne.negative!==0&&Ne.isub(t)),{div:Le.div,mod:Ne}):t.length>this.length||this.cmp(t)<0?{div:new R(0),mod:this}:t.length===1?o==="div"?{div:this.divn(t.words[0]),mod:null}:o==="mod"?{div:null,mod:new R(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new R(this.modn(t.words[0]))}:this._wordDiv(t,o)},R.prototype.div=function(t){return this.divmod(t,"div",!1).div},R.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},R.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},R.prototype.divRound=function(t){var o=this.divmod(t);if(o.mod.isZero())return o.div;var H=o.div.negative!==0?o.mod.isub(t):o.mod,G=t.ushrn(1),Ne=t.andln(1),Le=H.cmp(G);return Le<0||Ne===1&&Le===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},R.prototype.modn=function(t){P(t<=67108863);for(var o=(1<<26)%t,H=0,G=this.length-1;G>=0;G--)H=(o*H+(this.words[G]|0))%t;return H},R.prototype.idivn=function(t){P(t<=67108863);for(var o=0,H=this.length-1;H>=0;H--){var G=(this.words[H]|0)+o*67108864;this.words[H]=G/t|0,o=G%t}return this.strip()},R.prototype.divn=function(t){return this.clone().idivn(t)},R.prototype.egcd=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=new R(0),ti=new R(1),Ie=0;o.isEven()&&H.isEven();)o.iushrn(1),H.iushrn(1),++Ie;for(var s=H.clone(),Y=o.clone();!o.isZero();){for(var li=0,un=1;!(o.words[0]&un)&&li<26;++li,un<<=1);if(li>0)for(o.iushrn(li);li-- >0;)(G.isOdd()||Ne.isOdd())&&(G.iadd(s),Ne.isub(Y)),G.iushrn(1),Ne.iushrn(1);for(var pn=0,di=1;!(H.words[0]&di)&&pn<26;++pn,di<<=1);if(pn>0)for(H.iushrn(pn);pn-- >0;)(Le.isOdd()||ti.isOdd())&&(Le.iadd(s),ti.isub(Y)),Le.iushrn(1),ti.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Le),Ne.isub(ti)):(H.isub(o),Le.isub(G),ti.isub(Ne))}return{a:Le,b:ti,gcd:H.iushln(Ie)}},R.prototype._invmp=function(t){P(t.negative===0),P(!t.isZero());var o=this,H=t.clone();o.negative!==0?o=o.umod(t):o=o.clone();for(var G=new R(1),Ne=new R(0),Le=H.clone();o.cmpn(1)>0&&H.cmpn(1)>0;){for(var ti=0,Ie=1;!(o.words[0]&Ie)&&ti<26;++ti,Ie<<=1);if(ti>0)for(o.iushrn(ti);ti-- >0;)G.isOdd()&&G.iadd(Le),G.iushrn(1);for(var s=0,Y=1;!(H.words[0]&Y)&&s<26;++s,Y<<=1);if(s>0)for(H.iushrn(s);s-- >0;)Ne.isOdd()&&Ne.iadd(Le),Ne.iushrn(1);o.cmp(H)>=0?(o.isub(H),G.isub(Ne)):(H.isub(o),Ne.isub(G))}var li;return o.cmpn(1)===0?li=G:li=Ne,li.cmpn(0)<0&&li.iadd(t),li},R.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var o=this.clone(),H=t.clone();o.negative=0,H.negative=0;for(var G=0;o.isEven()&&H.isEven();G++)o.iushrn(1),H.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;H.isEven();)H.iushrn(1);var Ne=o.cmp(H);if(Ne<0){var Le=o;o=H,H=Le}else if(Ne===0||H.cmpn(1)===0)break;o.isub(H)}while(!0);return H.iushln(G)},R.prototype.invm=function(t){return this.egcd(t).a.umod(t)},R.prototype.isEven=function(){return(this.words[0]&1)===0},R.prototype.isOdd=function(){return(this.words[0]&1)===1},R.prototype.andln=function(t){return this.words[0]&t},R.prototype.bincn=function(t){P(typeof t=="number");var o=t%26,H=(t-o)/26,G=1<<o;if(this.length<=H)return this._expand(H+1),this.words[H]|=G,this;for(var Ne=G,Le=H;Ne!==0&&Le<this.length;Le++){var ti=this.words[Le]|0;ti+=Ne,Ne=ti>>>26,ti&=67108863,this.words[Le]=ti}return Ne!==0&&(this.words[Le]=Ne,this.length++),this},R.prototype.isZero=function(){return this.length===1&&this.words[0]===0},R.prototype.cmpn=function(t){var o=t<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var H;if(this.length>1)H=1;else{o&&(t=-t),P(t<=67108863,"Number is too big");var G=this.words[0]|0;H=G===t?0:G<t?-1:1}return this.negative!==0?-H|0:H},R.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var o=this.ucmp(t);return this.negative!==0?-o|0:o},R.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var o=0,H=this.length-1;H>=0;H--){var G=this.words[H]|0,Ne=t.words[H]|0;if(G!==Ne){G<Ne?o=-1:G>Ne&&(o=1);break}}return o},R.prototype.gtn=function(t){return this.cmpn(t)===1},R.prototype.gt=function(t){return this.cmp(t)===1},R.prototype.gten=function(t){return this.cmpn(t)>=0},R.prototype.gte=function(t){return this.cmp(t)>=0},R.prototype.ltn=function(t){return this.cmpn(t)===-1},R.prototype.lt=function(t){return this.cmp(t)===-1},R.prototype.lten=function(t){return this.cmpn(t)<=0},R.prototype.lte=function(t){return this.cmp(t)<=0},R.prototype.eqn=function(t){return this.cmpn(t)===0},R.prototype.eq=function(t){return this.cmp(t)===0},R.red=function(t){return new Bn(t)},R.prototype.toRed=function(t){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},R.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},R.prototype._forceRed=function(t){return this.red=t,this},R.prototype.forceRed=function(t){return P(!this.red,"Already a number in reduction context"),this._forceRed(t)},R.prototype.redAdd=function(t){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},R.prototype.redIAdd=function(t){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},R.prototype.redSub=function(t){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},R.prototype.redISub=function(t){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},R.prototype.redShl=function(t){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},R.prototype.redMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},R.prototype.redIMul=function(t){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},R.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},R.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},R.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},R.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},R.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},R.prototype.redPow=function(t){return P(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var ln={k256:null,p224:null,p192:null,p25519:null};function on(ii,t){this.name=ii,this.p=new R(t,16),this.n=this.p.bitLength(),this.k=new R(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}on.prototype._tmp=function(){var t=new R(null);return t.words=new Array(Math.ceil(this.n/13)),t},on.prototype.ireduce=function(t){var o=t,H;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),H=o.bitLength();while(H>this.n);var G=H<this.n?-1:o.ucmp(this.p);return G===0?(o.words[0]=0,o.length=1):G>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},on.prototype.split=function(t,o){t.iushrn(this.n,0,o)},on.prototype.imulK=function(t){return t.imul(this.k)};function vn(){on.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}W(vn,on),vn.prototype.split=function(t,o){for(var H=4194303,G=Math.min(t.length,9),Ne=0;Ne<G;Ne++)o.words[Ne]=t.words[Ne];if(o.length=G,t.length<=9){t.words[0]=0,t.length=1;return}var Le=t.words[9];for(o.words[o.length++]=Le&H,Ne=10;Ne<t.length;Ne++){var ti=t.words[Ne]|0;t.words[Ne-10]=(ti&H)<<4|Le>>>22,Le=ti}Le>>>=22,t.words[Ne-10]=Le,Le===0&&t.length>10?t.length-=10:t.length-=9},vn.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var o=0,H=0;H<t.length;H++){var G=t.words[H]|0;o+=G*977,t.words[H]=o&67108863,o=G*64+(o/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Mn(){on.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}W(Mn,on);function mi(){on.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}W(mi,on);function mn(){on.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}W(mn,on),mn.prototype.imulK=function(t){for(var o=0,H=0;H<t.length;H++){var G=(t.words[H]|0)*19+o,Ne=G&67108863;G>>>=26,t.words[H]=Ne,o=G}return o!==0&&(t.words[t.length++]=o),t},R._prime=function(t){if(ln[t])return ln[t];var o;if(t==="k256")o=new vn;else if(t==="p224")o=new Mn;else if(t==="p192")o=new mi;else if(t==="p25519")o=new mn;else throw new Error("Unknown prime "+t);return ln[t]=o,o};function Bn(ii){if(typeof ii=="string"){var t=R._prime(ii);this.m=t.p,this.prime=t}else P(ii.gtn(1),"modulus must be greater than 1"),this.m=ii,this.prime=null}Bn.prototype._verify1=function(t){P(t.negative===0,"red works only with positives"),P(t.red,"red works only with red numbers")},Bn.prototype._verify2=function(t,o){P((t.negative|o.negative)===0,"red works only with positives"),P(t.red&&t.red===o.red,"red works only with red numbers")},Bn.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},Bn.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},Bn.prototype.add=function(t,o){this._verify2(t,o);var H=t.add(o);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},Bn.prototype.iadd=function(t,o){this._verify2(t,o);var H=t.iadd(o);return H.cmp(this.m)>=0&&H.isub(this.m),H},Bn.prototype.sub=function(t,o){this._verify2(t,o);var H=t.sub(o);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},Bn.prototype.isub=function(t,o){this._verify2(t,o);var H=t.isub(o);return H.cmpn(0)<0&&H.iadd(this.m),H},Bn.prototype.shl=function(t,o){return this._verify1(t),this.imod(t.ushln(o))},Bn.prototype.imul=function(t,o){return this._verify2(t,o),this.imod(t.imul(o))},Bn.prototype.mul=function(t,o){return this._verify2(t,o),this.imod(t.mul(o))},Bn.prototype.isqr=function(t){return this.imul(t,t.clone())},Bn.prototype.sqr=function(t){return this.mul(t,t)},Bn.prototype.sqrt=function(t){if(t.isZero())return t.clone();var o=this.m.andln(3);if(P(o%2===1),o===3){var H=this.m.add(new R(1)).iushrn(2);return this.pow(t,H)}for(var G=this.m.subn(1),Ne=0;!G.isZero()&&G.andln(1)===0;)Ne++,G.iushrn(1);P(!G.isZero());var Le=new R(1).toRed(this),ti=Le.redNeg(),Ie=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new R(2*s*s).toRed(this);this.pow(s,Ie).cmp(ti)!==0;)s.redIAdd(ti);for(var Y=this.pow(s,G),li=this.pow(t,G.addn(1).iushrn(1)),un=this.pow(t,G),pn=Ne;un.cmp(Le)!==0;){for(var di=un,An=0;di.cmp(Le)!==0;An++)di=di.redSqr();P(An<pn);var $i=this.pow(Y,new R(1).iushln(pn-An-1));li=li.redMul($i),Y=$i.redSqr(),un=un.redMul(Y),pn=An}return li},Bn.prototype.invm=function(t){var o=t._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},Bn.prototype.pow=function(t,o){if(o.isZero())return new R(1).toRed(this);if(o.cmpn(1)===0)return t.clone();var H=4,G=new Array(1<<H);G[0]=new R(1).toRed(this),G[1]=t;for(var Ne=2;Ne<G.length;Ne++)G[Ne]=this.mul(G[Ne-1],t);var Le=G[0],ti=0,Ie=0,s=o.bitLength()%26;for(s===0&&(s=26),Ne=o.length-1;Ne>=0;Ne--){for(var Y=o.words[Ne],li=s-1;li>=0;li--){var un=Y>>li&1;if(Le!==G[0]&&(Le=this.sqr(Le)),un===0&&ti===0){Ie=0;continue}ti<<=1,ti|=un,Ie++,!(Ie!==H&&(Ne!==0||li!==0))&&(Le=this.mul(Le,G[ti]),Ie=0,ti=0)}s=26}return Le},Bn.prototype.convertTo=function(t){var o=t.umod(this.m);return o===t?o.clone():o},Bn.prototype.convertFrom=function(t){var o=t.clone();return o.red=null,o},R.mont=function(t){return new ko(t)};function ko(ii){Bn.call(this,ii),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new R(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}W(ko,Bn),ko.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},ko.prototype.convertFrom=function(t){var o=this.imod(t.mul(this.rinv));return o.red=null,o},ko.prototype.imul=function(t,o){if(t.isZero()||o.isZero())return t.words[0]=0,t.length=1,t;var H=t.imul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.mul=function(t,o){if(t.isZero()||o.isZero())return new R(0)._forceRed(this);var H=t.mul(o),G=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ne=H.isub(G).iushrn(this.shift),Le=Ne;return Ne.cmp(this.m)>=0?Le=Ne.isub(this.m):Ne.cmpn(0)<0&&(Le=Ne.iadd(this.m)),Le._forceRed(this)},ko.prototype.invm=function(t){var o=this.imod(t._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(r,commonjsGlobal)}(bn$1)),bn$1.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var r=requireBn(),e=safeBufferExports.Buffer;function i(P,W){return e.from(P.toRed(r.mont(W.modulus)).redPow(new r(W.publicExponent)).fromRed().toArray())}return withPublic_1=i,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var r=requireParseAsn1(),e=requireBrowser$a(),i=requireBrowser$9(),P=requireMgf(),W=requireXor(),R=requireBn(),Wr=requireWithPublic(),ei=requireBrowserifyRsa(),ni=safeBufferExports.Buffer;publicEncrypt=function(ai,fi,ui){var sn;ai.padding?sn=ai.padding:ui?sn=1:sn=4;var hn=r(ai),nn;if(sn===4)nn=Xr(hn,fi);else if(sn===1)nn=Zr(hn,fi,ui);else if(sn===3){if(nn=new R(fi),nn.cmp(hn.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return ui?ei(nn,hn):Wr(nn,hn)};function Xr(oi,ai){var fi=oi.modulus.byteLength(),ui=ai.length,sn=i("sha1").update(ni.alloc(0)).digest(),hn=sn.length,nn=2*hn;if(ui>fi-nn-2)throw new Error("message too long");var ln=ni.alloc(fi-ui-nn-2),on=fi-hn-1,vn=e(hn),Mn=W(ni.concat([sn,ln,ni.alloc(1,1),ai],on),P(vn,on)),mi=W(vn,P(Mn,hn));return new R(ni.concat([ni.alloc(1),mi,Mn],fi))}function Zr(oi,ai,fi){var ui=ai.length,sn=oi.modulus.byteLength();if(ui>sn-11)throw new Error("message too long");var hn;return fi?hn=ni.alloc(sn-ui-3,255):hn=si(sn-ui-3),new R(ni.concat([ni.from([0,fi?1:2]),hn,ni.alloc(1),ai],sn))}function si(oi){for(var ai=ni.allocUnsafe(oi),fi=0,ui=e(oi*2),sn=0,hn;fi<oi;)sn===ui.length&&(ui=e(oi*2),sn=0),hn=ui[sn++],hn&&(ai[fi++]=hn);return ai}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var r=requireParseAsn1(),e=requireMgf(),i=requireXor(),P=requireBn(),W=requireBrowserifyRsa(),R=requireBrowser$9(),Wr=requireWithPublic(),ei=safeBufferExports.Buffer;privateDecrypt=function(oi,ai,fi){var ui;oi.padding?ui=oi.padding:fi?ui=1:ui=4;var sn=r(oi),hn=sn.modulus.byteLength();if(ai.length>hn||new P(ai).cmp(sn.modulus)>=0)throw new Error("decryption error");var nn;fi?nn=Wr(new P(ai),sn):nn=W(ai,sn);var ln=ei.alloc(hn-nn.length);if(nn=ei.concat([ln,nn],hn),ui===4)return ni(sn,nn);if(ui===1)return Xr(sn,nn,fi);if(ui===3)return nn;throw new Error("unknown padding")};function ni(si,oi){var ai=si.modulus.byteLength(),fi=R("sha1").update(ei.alloc(0)).digest(),ui=fi.length;if(oi[0]!==0)throw new Error("decryption error");var sn=oi.slice(1,ui+1),hn=oi.slice(ui+1),nn=i(sn,e(hn,ui)),ln=i(hn,e(nn,ai-ui-1));if(Zr(fi,ln.slice(0,ui)))throw new Error("decryption error");for(var on=ui;ln[on]===0;)on++;if(ln[on++]!==1)throw new Error("decryption error");return ln.slice(on)}function Xr(si,oi,ai){for(var fi=oi.slice(0,2),ui=2,sn=0;oi[ui++]!==0;)if(ui>=oi.length){sn++;break}var hn=oi.slice(2,ui-1);if((fi.toString("hex")!=="0002"&&!ai||fi.toString("hex")!=="0001"&&ai)&&sn++,hn.length<8&&sn++,sn)throw new Error("decryption error");return oi.slice(ui)}function Zr(si,oi){si=ei.from(si),oi=ei.from(oi);var ai=0,fi=si.length;si.length!==oi.length&&(ai++,fi=Math.min(si.length,oi.length));for(var ui=-1;++ui<fi;)ai+=si[ui]^oi[ui];return ai}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(r){r.publicEncrypt=requirePublicEncrypt(),r.privateDecrypt=requirePrivateDecrypt(),r.privateEncrypt=function(i,P){return r.publicEncrypt(i,P,!0)},r.publicDecrypt=function(i,P){return r.privateDecrypt(i,P,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;function r(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=safeBufferExports,i=requireBrowser$a(),P=e.Buffer,W=e.kMaxLength,R=commonjsGlobal.crypto||commonjsGlobal.msCrypto,Wr=Math.pow(2,32)-1;function ei(oi,ai){if(typeof oi!="number"||oi!==oi)throw new TypeError("offset must be a number");if(oi>Wr||oi<0)throw new TypeError("offset must be a uint32");if(oi>W||oi>ai)throw new RangeError("offset out of range")}function ni(oi,ai,fi){if(typeof oi!="number"||oi!==oi)throw new TypeError("size must be a number");if(oi>Wr||oi<0)throw new TypeError("size must be a uint32");if(oi+ai>fi||oi>W)throw new RangeError("buffer too small")}R&&R.getRandomValues||!process$1.browser?(browser$2.randomFill=Xr,browser$2.randomFillSync=si):(browser$2.randomFill=r,browser$2.randomFillSync=r);function Xr(oi,ai,fi,ui){if(!P.isBuffer(oi)&&!(oi instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof ai=="function")ui=ai,ai=0,fi=oi.length;else if(typeof fi=="function")ui=fi,fi=oi.length-ai;else if(typeof ui!="function")throw new TypeError('"cb" argument must be a function');return ei(ai,oi.length),ni(fi,ai,oi.length),Zr(oi,ai,fi,ui)}function Zr(oi,ai,fi,ui){if(process$1.browser){var sn=oi.buffer,hn=new Uint8Array(sn,ai,fi);if(R.getRandomValues(hn),ui){process$1.nextTick(function(){ui(null,oi)});return}return oi}if(ui){i(fi,function(ln,on){if(ln)return ui(ln);on.copy(oi,ai),ui(null,oi)});return}var nn=i(fi);return nn.copy(oi,ai),oi}function si(oi,ai,fi){if(typeof ai>"u"&&(ai=0),!P.isBuffer(oi)&&!(oi instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return ei(ai,oi.length),fi===void 0&&(fi=oi.length-ai),ni(fi,ai,oi.length),Zr(oi,ai,fi)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$a(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var r=requireAlgos(),e=Object.keys(r),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return i};var P=requireBrowser$7();cryptoBrowserify.pbkdf2=P.pbkdf2,cryptoBrowserify.pbkdf2Sync=P.pbkdf2Sync;var W=requireBrowser$5();cryptoBrowserify.Cipher=W.Cipher,cryptoBrowserify.createCipher=W.createCipher,cryptoBrowserify.Cipheriv=W.Cipheriv,cryptoBrowserify.createCipheriv=W.createCipheriv,cryptoBrowserify.Decipher=W.Decipher,cryptoBrowserify.createDecipher=W.createDecipher,cryptoBrowserify.Decipheriv=W.Decipheriv,cryptoBrowserify.createDecipheriv=W.createDecipheriv,cryptoBrowserify.getCiphers=W.getCiphers,cryptoBrowserify.listCiphers=W.listCiphers;var R=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=R.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=R.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=R.getDiffieHellman,cryptoBrowserify.createDiffieHellman=R.createDiffieHellman,cryptoBrowserify.DiffieHellman=R.DiffieHellman;var Wr=requireBrowser$3();cryptoBrowserify.createSign=Wr.createSign,cryptoBrowserify.Sign=Wr.Sign,cryptoBrowserify.createVerify=Wr.createVerify,cryptoBrowserify.Verify=Wr.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var ei=requireBrowser$1();cryptoBrowserify.publicEncrypt=ei.publicEncrypt,cryptoBrowserify.privateEncrypt=ei.privateEncrypt,cryptoBrowserify.publicDecrypt=ei.publicDecrypt,cryptoBrowserify.privateDecrypt=ei.privateDecrypt;var ni=requireBrowser();return cryptoBrowserify.randomFill=ni.randomFill,cryptoBrowserify.randomFillSync=ni.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$1,"__esModule",{value:!0});node$1.NodeRandomSource=void 0;const wipe_1=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const e=requireCryptoBrowserify();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let i=this._crypto.randomBytes(e);if(i.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const P=new Uint8Array(e);for(let W=0;W<P.length;W++)P[W]=i[W];return(0,wipe_1.wipe)(i),P}}node$1.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$d,node_1=node$1;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}system.SystemRandomSource=SystemRandomSource;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=system,i=binary,P=wipe$1;r.defaultRandomSource=new e.SystemRandomSource;function W(Xr,Zr=r.defaultRandomSource){return Zr.randomBytes(Xr)}r.randomBytes=W;function R(Xr=r.defaultRandomSource){const Zr=W(4,Xr),si=(0,i.readUint32LE)(Zr);return(0,P.wipe)(Zr),si}r.randomUint32=R;const Wr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function ei(Xr,Zr=Wr,si=r.defaultRandomSource){if(Zr.length<2)throw new Error("randomString charset is too short");if(Zr.length>256)throw new Error("randomString charset is too long");let oi="";const ai=Zr.length,fi=256-256%ai;for(;Xr>0;){const ui=W(Math.ceil(Xr*256/fi),si);for(let sn=0;sn<ui.length&&Xr>0;sn++){const hn=ui[sn];hn<fi&&(oi+=Zr.charAt(hn%ai),Xr--)}(0,P.wipe)(ui)}return oi}r.randomString=ei;function ni(Xr,Zr=Wr,si=r.defaultRandomSource){const oi=Math.ceil(Xr/(Math.log(Zr.length)/Math.LN2));return ei(oi,Zr,si)}r.randomStringForEntropy=ni})(random);var sha256={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=binary,i=wipe$1;r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var P=function(){function ei(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return ei.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},ei.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},ei.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},ei.prototype.update=function(ni,Xr){if(Xr===void 0&&(Xr=ni.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var Zr=0;if(this._bytesHashed+=Xr,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&Xr>0;)this._buffer[this._bufferLength++]=ni[Zr++],Xr--;this._bufferLength===this.blockSize&&(R(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(Xr>=this.blockSize&&(Zr=R(this._temp,this._state,ni,Zr,Xr),Xr%=this.blockSize);Xr>0;)this._buffer[this._bufferLength++]=ni[Zr++],Xr--;return this},ei.prototype.finish=function(ni){if(!this._finished){var Xr=this._bytesHashed,Zr=this._bufferLength,si=Xr/536870912|0,oi=Xr<<3,ai=Xr%64<56?64:128;this._buffer[Zr]=128;for(var fi=Zr+1;fi<ai-8;fi++)this._buffer[fi]=0;e.writeUint32BE(si,this._buffer,ai-8),e.writeUint32BE(oi,this._buffer,ai-4),R(this._temp,this._state,this._buffer,0,ai),this._finished=!0}for(var fi=0;fi<this.digestLength/4;fi++)e.writeUint32BE(this._state[fi],ni,fi*4);return this},ei.prototype.digest=function(){var ni=new Uint8Array(this.digestLength);return this.finish(ni),ni},ei.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},ei.prototype.restoreState=function(ni){return this._state.set(ni.state),this._bufferLength=ni.bufferLength,ni.buffer&&this._buffer.set(ni.buffer),this._bytesHashed=ni.bytesHashed,this._finished=!1,this},ei.prototype.cleanSavedState=function(ni){i.wipe(ni.state),ni.buffer&&i.wipe(ni.buffer),ni.bufferLength=0,ni.bytesHashed=0},ei}();r.SHA256=P;var W=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function R(ei,ni,Xr,Zr,si){for(;si>=64;){for(var oi=ni[0],ai=ni[1],fi=ni[2],ui=ni[3],sn=ni[4],hn=ni[5],nn=ni[6],ln=ni[7],on=0;on<16;on++){var vn=Zr+on*4;ei[on]=e.readUint32BE(Xr,vn)}for(var on=16;on<64;on++){var Mn=ei[on-2],mi=(Mn>>>17|Mn<<15)^(Mn>>>19|Mn<<13)^Mn>>>10;Mn=ei[on-15];var mn=(Mn>>>7|Mn<<25)^(Mn>>>18|Mn<<14)^Mn>>>3;ei[on]=(mi+ei[on-7]|0)+(mn+ei[on-16]|0)}for(var on=0;on<64;on++){var mi=(((sn>>>6|sn<<26)^(sn>>>11|sn<<21)^(sn>>>25|sn<<7))+(sn&hn^~sn&nn)|0)+(ln+(W[on]+ei[on]|0)|0)|0,mn=((oi>>>2|oi<<30)^(oi>>>13|oi<<19)^(oi>>>22|oi<<10))+(oi&ai^oi&fi^ai&fi)|0;ln=nn,nn=hn,hn=sn,sn=ui+mi|0,ui=fi,fi=ai,ai=oi,oi=mi+mn|0}ni[0]+=oi,ni[1]+=ai,ni[2]+=fi,ni[3]+=ui,ni[4]+=sn,ni[5]+=hn,ni[6]+=nn,ni[7]+=ln,Zr+=64,si-=64}return Zr}function Wr(ei){var ni=new P;ni.update(ei);var Xr=ni.digest();return ni.clean(),Xr}r.hash=Wr})(sha256);var x25519={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=random,i=wipe$1;r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function P(on){const vn=new Float64Array(16);if(on)for(let Mn=0;Mn<on.length;Mn++)vn[Mn]=on[Mn];return vn}const W=new Uint8Array(32);W[0]=9;const R=P([56129,1]);function Wr(on){let vn=1;for(let Mn=0;Mn<16;Mn++){let mi=on[Mn]+vn+65535;vn=Math.floor(mi/65536),on[Mn]=mi-vn*65536}on[0]+=vn-1+37*(vn-1)}function ei(on,vn,Mn){const mi=~(Mn-1);for(let mn=0;mn<16;mn++){const Bn=mi&(on[mn]^vn[mn]);on[mn]^=Bn,vn[mn]^=Bn}}function ni(on,vn){const Mn=P(),mi=P();for(let mn=0;mn<16;mn++)mi[mn]=vn[mn];Wr(mi),Wr(mi),Wr(mi);for(let mn=0;mn<2;mn++){Mn[0]=mi[0]-65517;for(let ko=1;ko<15;ko++)Mn[ko]=mi[ko]-65535-(Mn[ko-1]>>16&1),Mn[ko-1]&=65535;Mn[15]=mi[15]-32767-(Mn[14]>>16&1);const Bn=Mn[15]>>16&1;Mn[14]&=65535,ei(mi,Mn,1-Bn)}for(let mn=0;mn<16;mn++)on[2*mn]=mi[mn]&255,on[2*mn+1]=mi[mn]>>8}function Xr(on,vn){for(let Mn=0;Mn<16;Mn++)on[Mn]=vn[2*Mn]+(vn[2*Mn+1]<<8);on[15]&=32767}function Zr(on,vn,Mn){for(let mi=0;mi<16;mi++)on[mi]=vn[mi]+Mn[mi]}function si(on,vn,Mn){for(let mi=0;mi<16;mi++)on[mi]=vn[mi]-Mn[mi]}function oi(on,vn,Mn){let mi,mn,Bn=0,ko=0,ii=0,t=0,o=0,H=0,G=0,Ne=0,Le=0,ti=0,Ie=0,s=0,Y=0,li=0,un=0,pn=0,di=0,An=0,$i=0,fn=0,cn=0,ci=0,Rn=0,Zn=0,ho=0,qh=0,Lo=0,jo=0,jh=0,_h=0,tf=0,zh=Mn[0],Ko=Mn[1],Uo=Mn[2],Uh=Mn[3],Vo=Mn[4],qo=Mn[5],Fh=Mn[6],Zo=Mn[7],Fo=Mn[8],Hh=Mn[9],Vf=Mn[10],Ho=Mn[11],Kh=Mn[12],yh=Mn[13],Yo=Mn[14],Vh=Mn[15];mi=vn[0],Bn+=mi*zh,ko+=mi*Ko,ii+=mi*Uo,t+=mi*Uh,o+=mi*Vo,H+=mi*qo,G+=mi*Fh,Ne+=mi*Zo,Le+=mi*Fo,ti+=mi*Hh,Ie+=mi*Vf,s+=mi*Ho,Y+=mi*Kh,li+=mi*yh,un+=mi*Yo,pn+=mi*Vh,mi=vn[1],ko+=mi*zh,ii+=mi*Ko,t+=mi*Uo,o+=mi*Uh,H+=mi*Vo,G+=mi*qo,Ne+=mi*Fh,Le+=mi*Zo,ti+=mi*Fo,Ie+=mi*Hh,s+=mi*Vf,Y+=mi*Ho,li+=mi*Kh,un+=mi*yh,pn+=mi*Yo,di+=mi*Vh,mi=vn[2],ii+=mi*zh,t+=mi*Ko,o+=mi*Uo,H+=mi*Uh,G+=mi*Vo,Ne+=mi*qo,Le+=mi*Fh,ti+=mi*Zo,Ie+=mi*Fo,s+=mi*Hh,Y+=mi*Vf,li+=mi*Ho,un+=mi*Kh,pn+=mi*yh,di+=mi*Yo,An+=mi*Vh,mi=vn[3],t+=mi*zh,o+=mi*Ko,H+=mi*Uo,G+=mi*Uh,Ne+=mi*Vo,Le+=mi*qo,ti+=mi*Fh,Ie+=mi*Zo,s+=mi*Fo,Y+=mi*Hh,li+=mi*Vf,un+=mi*Ho,pn+=mi*Kh,di+=mi*yh,An+=mi*Yo,$i+=mi*Vh,mi=vn[4],o+=mi*zh,H+=mi*Ko,G+=mi*Uo,Ne+=mi*Uh,Le+=mi*Vo,ti+=mi*qo,Ie+=mi*Fh,s+=mi*Zo,Y+=mi*Fo,li+=mi*Hh,un+=mi*Vf,pn+=mi*Ho,di+=mi*Kh,An+=mi*yh,$i+=mi*Yo,fn+=mi*Vh,mi=vn[5],H+=mi*zh,G+=mi*Ko,Ne+=mi*Uo,Le+=mi*Uh,ti+=mi*Vo,Ie+=mi*qo,s+=mi*Fh,Y+=mi*Zo,li+=mi*Fo,un+=mi*Hh,pn+=mi*Vf,di+=mi*Ho,An+=mi*Kh,$i+=mi*yh,fn+=mi*Yo,cn+=mi*Vh,mi=vn[6],G+=mi*zh,Ne+=mi*Ko,Le+=mi*Uo,ti+=mi*Uh,Ie+=mi*Vo,s+=mi*qo,Y+=mi*Fh,li+=mi*Zo,un+=mi*Fo,pn+=mi*Hh,di+=mi*Vf,An+=mi*Ho,$i+=mi*Kh,fn+=mi*yh,cn+=mi*Yo,ci+=mi*Vh,mi=vn[7],Ne+=mi*zh,Le+=mi*Ko,ti+=mi*Uo,Ie+=mi*Uh,s+=mi*Vo,Y+=mi*qo,li+=mi*Fh,un+=mi*Zo,pn+=mi*Fo,di+=mi*Hh,An+=mi*Vf,$i+=mi*Ho,fn+=mi*Kh,cn+=mi*yh,ci+=mi*Yo,Rn+=mi*Vh,mi=vn[8],Le+=mi*zh,ti+=mi*Ko,Ie+=mi*Uo,s+=mi*Uh,Y+=mi*Vo,li+=mi*qo,un+=mi*Fh,pn+=mi*Zo,di+=mi*Fo,An+=mi*Hh,$i+=mi*Vf,fn+=mi*Ho,cn+=mi*Kh,ci+=mi*yh,Rn+=mi*Yo,Zn+=mi*Vh,mi=vn[9],ti+=mi*zh,Ie+=mi*Ko,s+=mi*Uo,Y+=mi*Uh,li+=mi*Vo,un+=mi*qo,pn+=mi*Fh,di+=mi*Zo,An+=mi*Fo,$i+=mi*Hh,fn+=mi*Vf,cn+=mi*Ho,ci+=mi*Kh,Rn+=mi*yh,Zn+=mi*Yo,ho+=mi*Vh,mi=vn[10],Ie+=mi*zh,s+=mi*Ko,Y+=mi*Uo,li+=mi*Uh,un+=mi*Vo,pn+=mi*qo,di+=mi*Fh,An+=mi*Zo,$i+=mi*Fo,fn+=mi*Hh,cn+=mi*Vf,ci+=mi*Ho,Rn+=mi*Kh,Zn+=mi*yh,ho+=mi*Yo,qh+=mi*Vh,mi=vn[11],s+=mi*zh,Y+=mi*Ko,li+=mi*Uo,un+=mi*Uh,pn+=mi*Vo,di+=mi*qo,An+=mi*Fh,$i+=mi*Zo,fn+=mi*Fo,cn+=mi*Hh,ci+=mi*Vf,Rn+=mi*Ho,Zn+=mi*Kh,ho+=mi*yh,qh+=mi*Yo,Lo+=mi*Vh,mi=vn[12],Y+=mi*zh,li+=mi*Ko,un+=mi*Uo,pn+=mi*Uh,di+=mi*Vo,An+=mi*qo,$i+=mi*Fh,fn+=mi*Zo,cn+=mi*Fo,ci+=mi*Hh,Rn+=mi*Vf,Zn+=mi*Ho,ho+=mi*Kh,qh+=mi*yh,Lo+=mi*Yo,jo+=mi*Vh,mi=vn[13],li+=mi*zh,un+=mi*Ko,pn+=mi*Uo,di+=mi*Uh,An+=mi*Vo,$i+=mi*qo,fn+=mi*Fh,cn+=mi*Zo,ci+=mi*Fo,Rn+=mi*Hh,Zn+=mi*Vf,ho+=mi*Ho,qh+=mi*Kh,Lo+=mi*yh,jo+=mi*Yo,jh+=mi*Vh,mi=vn[14],un+=mi*zh,pn+=mi*Ko,di+=mi*Uo,An+=mi*Uh,$i+=mi*Vo,fn+=mi*qo,cn+=mi*Fh,ci+=mi*Zo,Rn+=mi*Fo,Zn+=mi*Hh,ho+=mi*Vf,qh+=mi*Ho,Lo+=mi*Kh,jo+=mi*yh,jh+=mi*Yo,_h+=mi*Vh,mi=vn[15],pn+=mi*zh,di+=mi*Ko,An+=mi*Uo,$i+=mi*Uh,fn+=mi*Vo,cn+=mi*qo,ci+=mi*Fh,Rn+=mi*Zo,Zn+=mi*Fo,ho+=mi*Hh,qh+=mi*Vf,Lo+=mi*Ho,jo+=mi*Kh,jh+=mi*yh,_h+=mi*Yo,tf+=mi*Vh,Bn+=38*di,ko+=38*An,ii+=38*$i,t+=38*fn,o+=38*cn,H+=38*ci,G+=38*Rn,Ne+=38*Zn,Le+=38*ho,ti+=38*qh,Ie+=38*Lo,s+=38*jo,Y+=38*jh,li+=38*_h,un+=38*tf,mn=1,mi=Bn+mn+65535,mn=Math.floor(mi/65536),Bn=mi-mn*65536,mi=ko+mn+65535,mn=Math.floor(mi/65536),ko=mi-mn*65536,mi=ii+mn+65535,mn=Math.floor(mi/65536),ii=mi-mn*65536,mi=t+mn+65535,mn=Math.floor(mi/65536),t=mi-mn*65536,mi=o+mn+65535,mn=Math.floor(mi/65536),o=mi-mn*65536,mi=H+mn+65535,mn=Math.floor(mi/65536),H=mi-mn*65536,mi=G+mn+65535,mn=Math.floor(mi/65536),G=mi-mn*65536,mi=Ne+mn+65535,mn=Math.floor(mi/65536),Ne=mi-mn*65536,mi=Le+mn+65535,mn=Math.floor(mi/65536),Le=mi-mn*65536,mi=ti+mn+65535,mn=Math.floor(mi/65536),ti=mi-mn*65536,mi=Ie+mn+65535,mn=Math.floor(mi/65536),Ie=mi-mn*65536,mi=s+mn+65535,mn=Math.floor(mi/65536),s=mi-mn*65536,mi=Y+mn+65535,mn=Math.floor(mi/65536),Y=mi-mn*65536,mi=li+mn+65535,mn=Math.floor(mi/65536),li=mi-mn*65536,mi=un+mn+65535,mn=Math.floor(mi/65536),un=mi-mn*65536,mi=pn+mn+65535,mn=Math.floor(mi/65536),pn=mi-mn*65536,Bn+=mn-1+37*(mn-1),mn=1,mi=Bn+mn+65535,mn=Math.floor(mi/65536),Bn=mi-mn*65536,mi=ko+mn+65535,mn=Math.floor(mi/65536),ko=mi-mn*65536,mi=ii+mn+65535,mn=Math.floor(mi/65536),ii=mi-mn*65536,mi=t+mn+65535,mn=Math.floor(mi/65536),t=mi-mn*65536,mi=o+mn+65535,mn=Math.floor(mi/65536),o=mi-mn*65536,mi=H+mn+65535,mn=Math.floor(mi/65536),H=mi-mn*65536,mi=G+mn+65535,mn=Math.floor(mi/65536),G=mi-mn*65536,mi=Ne+mn+65535,mn=Math.floor(mi/65536),Ne=mi-mn*65536,mi=Le+mn+65535,mn=Math.floor(mi/65536),Le=mi-mn*65536,mi=ti+mn+65535,mn=Math.floor(mi/65536),ti=mi-mn*65536,mi=Ie+mn+65535,mn=Math.floor(mi/65536),Ie=mi-mn*65536,mi=s+mn+65535,mn=Math.floor(mi/65536),s=mi-mn*65536,mi=Y+mn+65535,mn=Math.floor(mi/65536),Y=mi-mn*65536,mi=li+mn+65535,mn=Math.floor(mi/65536),li=mi-mn*65536,mi=un+mn+65535,mn=Math.floor(mi/65536),un=mi-mn*65536,mi=pn+mn+65535,mn=Math.floor(mi/65536),pn=mi-mn*65536,Bn+=mn-1+37*(mn-1),on[0]=Bn,on[1]=ko,on[2]=ii,on[3]=t,on[4]=o,on[5]=H,on[6]=G,on[7]=Ne,on[8]=Le,on[9]=ti,on[10]=Ie,on[11]=s,on[12]=Y,on[13]=li,on[14]=un,on[15]=pn}function ai(on,vn){oi(on,vn,vn)}function fi(on,vn){const Mn=P();for(let mi=0;mi<16;mi++)Mn[mi]=vn[mi];for(let mi=253;mi>=0;mi--)ai(Mn,Mn),mi!==2&&mi!==4&&oi(Mn,Mn,vn);for(let mi=0;mi<16;mi++)on[mi]=Mn[mi]}function ui(on,vn){const Mn=new Uint8Array(32),mi=new Float64Array(80),mn=P(),Bn=P(),ko=P(),ii=P(),t=P(),o=P();for(let Le=0;Le<31;Le++)Mn[Le]=on[Le];Mn[31]=on[31]&127|64,Mn[0]&=248,Xr(mi,vn);for(let Le=0;Le<16;Le++)Bn[Le]=mi[Le];mn[0]=ii[0]=1;for(let Le=254;Le>=0;--Le){const ti=Mn[Le>>>3]>>>(Le&7)&1;ei(mn,Bn,ti),ei(ko,ii,ti),Zr(t,mn,ko),si(mn,mn,ko),Zr(ko,Bn,ii),si(Bn,Bn,ii),ai(ii,t),ai(o,mn),oi(mn,ko,mn),oi(ko,Bn,t),Zr(t,mn,ko),si(mn,mn,ko),ai(Bn,mn),si(ko,ii,o),oi(mn,ko,R),Zr(mn,mn,ii),oi(ko,ko,mn),oi(mn,ii,o),oi(ii,Bn,mi),ai(Bn,t),ei(mn,Bn,ti),ei(ko,ii,ti)}for(let Le=0;Le<16;Le++)mi[Le+16]=mn[Le],mi[Le+32]=ko[Le],mi[Le+48]=Bn[Le],mi[Le+64]=ii[Le];const H=mi.subarray(32),G=mi.subarray(16);fi(H,H),oi(G,G,H);const Ne=new Uint8Array(32);return ni(Ne,G),Ne}r.scalarMult=ui;function sn(on){return ui(on,W)}r.scalarMultBase=sn;function hn(on){if(on.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const vn=new Uint8Array(on);return{publicKey:sn(vn),secretKey:vn}}r.generateKeyPairFromSeed=hn;function nn(on){const vn=(0,e.randomBytes)(32,on),Mn=hn(vn);return(0,i.wipe)(vn),Mn}r.generateKeyPair=nn;function ln(on,vn,Mn=!1){if(on.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(vn.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const mi=ui(on,vn);if(Mn){let mn=0;for(let Bn=0;Bn<mi.length;Bn++)mn|=mi[Bn];if(mn===0)throw new Error("X25519: invalid shared key")}return mi}r.sharedKey=ln})(x25519);function asUint8Array(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function allocUnsafe(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function concat(r,e){e||(e=r.reduce((W,R)=>W+R.length,0));const i=allocUnsafe(e);let P=0;for(const W of r)i.set(W,P),P+=W.length;return asUint8Array(i)}function base(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),P=0;P<i.length;P++)i[P]=255;for(var W=0;W<r.length;W++){var R=r.charAt(W),Wr=R.charCodeAt(0);if(i[Wr]!==255)throw new TypeError(R+" is ambiguous");i[Wr]=W}var ei=r.length,ni=r.charAt(0),Xr=Math.log(ei)/Math.log(256),Zr=Math.log(256)/Math.log(ei);function si(fi){if(fi instanceof Uint8Array||(ArrayBuffer.isView(fi)?fi=new Uint8Array(fi.buffer,fi.byteOffset,fi.byteLength):Array.isArray(fi)&&(fi=Uint8Array.from(fi))),!(fi instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(fi.length===0)return"";for(var ui=0,sn=0,hn=0,nn=fi.length;hn!==nn&&fi[hn]===0;)hn++,ui++;for(var ln=(nn-hn)*Zr+1>>>0,on=new Uint8Array(ln);hn!==nn;){for(var vn=fi[hn],Mn=0,mi=ln-1;(vn!==0||Mn<sn)&&mi!==-1;mi--,Mn++)vn+=256*on[mi]>>>0,on[mi]=vn%ei>>>0,vn=vn/ei>>>0;if(vn!==0)throw new Error("Non-zero carry");sn=Mn,hn++}for(var mn=ln-sn;mn!==ln&&on[mn]===0;)mn++;for(var Bn=ni.repeat(ui);mn<ln;++mn)Bn+=r.charAt(on[mn]);return Bn}function oi(fi){if(typeof fi!="string")throw new TypeError("Expected String");if(fi.length===0)return new Uint8Array;var ui=0;if(fi[ui]!==" "){for(var sn=0,hn=0;fi[ui]===ni;)sn++,ui++;for(var nn=(fi.length-ui)*Xr+1>>>0,ln=new Uint8Array(nn);fi[ui];){var on=i[fi.charCodeAt(ui)];if(on===255)return;for(var vn=0,Mn=nn-1;(on!==0||vn<hn)&&Mn!==-1;Mn--,vn++)on+=ei*ln[Mn]>>>0,ln[Mn]=on%256>>>0,on=on/256>>>0;if(on!==0)throw new Error("Non-zero carry");hn=vn,ui++}if(fi[ui]!==" "){for(var mi=nn-hn;mi!==nn&&ln[mi]===0;)mi++;for(var mn=new Uint8Array(sn+(nn-mi)),Bn=sn;mi!==nn;)mn[Bn++]=ln[mi++];return mn}}}function ai(fi){var ui=oi(fi);if(ui)return ui;throw new Error(`Non-${e} character`)}return{encode:si,decodeUnsafe:oi,decode:ai}}var src=base,_brrp__multiformats_scope_baseX=src;const coerce=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=r=>new TextEncoder().encode(r),toString$1=r=>new TextDecoder().decode(r);class Encoder{constructor(e,i,P){this.name=e,this.prefix=i,this.baseEncode=P}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(e,i,P){if(this.name=e,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=P}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$2(this,e)}}class ComposedDecoder{constructor(e){this.decoders=e}or(e){return or$2(this,e)}decode(e){const i=e[0],P=this.decoders[i];if(P)return P.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$2=(r,e)=>new ComposedDecoder({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class Codec{constructor(e,i,P,W){this.name=e,this.prefix=i,this.baseEncode=P,this.baseDecode=W,this.encoder=new Encoder(e,i,P),this.decoder=new Decoder(e,i,W)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const from=({name:r,prefix:e,encode:i,decode:P})=>new Codec(r,e,i,P),baseX=({prefix:r,name:e,alphabet:i})=>{const{encode:P,decode:W}=_brrp__multiformats_scope_baseX(i,e);return from({prefix:r,name:e,encode:P,decode:R=>coerce(W(R))})},decode$1=(r,e,i,P)=>{const W={};for(let Zr=0;Zr<e.length;++Zr)W[e[Zr]]=Zr;let R=r.length;for(;r[R-1]==="=";)--R;const Wr=new Uint8Array(R*i/8|0);let ei=0,ni=0,Xr=0;for(let Zr=0;Zr<R;++Zr){const si=W[r[Zr]];if(si===void 0)throw new SyntaxError(`Non-${P} character`);ni=ni<<i|si,ei+=i,ei>=8&&(ei-=8,Wr[Xr++]=255&ni>>ei)}if(ei>=i||255&ni<<8-ei)throw new SyntaxError("Unexpected end of data");return Wr},encode$1=(r,e,i)=>{const P=e[e.length-1]==="=",W=(1<<i)-1;let R="",Wr=0,ei=0;for(let ni=0;ni<r.length;++ni)for(ei=ei<<8|r[ni],Wr+=8;Wr>i;)Wr-=i,R+=e[W&ei>>Wr];if(Wr&&(R+=e[W&ei<<i-Wr]),P)for(;R.length*i&7;)R+="=";return R},rfc4648=({name:r,prefix:e,bitsPerChar:i,alphabet:P})=>from({prefix:e,name:r,encode(W){return encode$1(W,P,i)},decode(W){return decode$1(W,P,i,r)}}),identity=from({prefix:"\0",name:"identity",encode:r=>toString$1(r),decode:r=>fromString$1(r)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((r,e,i)=>(r[i]=e,r),[]),alphabetCharsToBytes=alphabet.reduce((r,e,i)=>(r[e.codePointAt(0)]=i,r),[]);function encode(r){return r.reduce((e,i)=>(e+=alphabetBytesToChars[i],e),"")}function decode(r){const e=[];for(const i of r){const P=alphabetCharsToBytes[i.codePointAt(0)];if(P===void 0)throw new Error(`Non-base256emoji character: ${i}`);e.push(P)}return new Uint8Array(e)}const base256emoji=from({prefix:"🚀",name:"base256emoji",encode,decode}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function createCodec(r,e,i,P){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:i},decoder:{decode:P}}}const string=createCodec("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ascii=createCodec("ascii","a",r=>{let e="a";for(let i=0;i<r.length;i++)e+=String.fromCharCode(r[i]);return e},r=>{r=r.substring(1);const e=allocUnsafe(r.length);for(let i=0;i<r.length;i++)e[i]=r.charCodeAt(i);return e}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(r,e="utf8"){const i=BASES[e];if(!i)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(r,"utf-8")):i.decoder.decode(`${i.prefix}${r}`)}function toString(r,e="utf8"){const i=BASES[e];if(!i)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):i.encoder.encode(r).substring(1)}const RELAY_JSONRPC={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},Ir$1=":";function dn(r){const[e,i]=r.split(Ir$1);return{namespace:e,reference:i}}function zo(r,e=[]){const i=[];return Object.keys(r).forEach(P=>{if(e.length&&!e.includes(P))return;const W=r[P];i.push(...W.accounts)}),i}function _r$1(r,e){return r.includes(":")?[r]:e.chains||[]}var Qo=Object.defineProperty,bn=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Go=Object.prototype.propertyIsEnumerable,yn=(r,e,i)=>e in r?Qo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,wn=(r,e)=>{for(var i in e||(e={}))Jo.call(e,i)&&yn(r,i,e[i]);if(bn)for(var i of bn(e))Go.call(e,i)&&yn(r,i,e[i]);return r};const xn="ReactNative",qt$1={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},En="js";function pi(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function er$1(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===xn}function pr$1(){return!pi()&&!!getNavigator_1()&&!!getDocument_1()}function We$2(){return er$1()?qt$1.reactNative:pi()?qt$1.node:pr$1()?qt$1.browser:qt$1.unknown}function Wo(){var r;try{return er$1()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function Sn(r,e){let i=queryString.parse(r);return i=wn(wn({},i),e),r=queryString.stringify(i),r}function Xo(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function Nn(){if(We$2()===qt$1.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:i,Version:P}=global.Platform;return[i,P].join("-")}const r=detect();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function In(){var r;const e=We$2();return e===qt$1.browser?[e,((r=getLocation_1())==null?void 0:r.host)||"unknown"].join(":"):e}function _n(r,e,i){const P=Nn(),W=In();return[[r,e].join("-"),[En,i].join("-"),P,W].join("/")}function $o({protocol:r,version:e,relayUrl:i,sdkVersion:P,auth:W,projectId:R,useOnCloseEvent:Wr,bundleId:ei}){const ni=i.split("?"),Xr=_n(r,e,P),Zr={auth:W,ua:Xr,projectId:R,useOnCloseEvent:Wr||void 0,origin:ei||void 0},si=Sn(ni[1]||"",Zr);return ni[0]+"?"+si}function _e$1(r,e){return r.filter(i=>e.includes(i)).length===r.length}function i0(r){return Object.fromEntries(r.entries())}function n0(r){return new Map(Object.entries(r))}function a0(r=cjs$4.FIVE_MINUTES,e){const i=cjs$4.toMiliseconds(r||cjs$4.FIVE_MINUTES);let P,W,R;return{resolve:Wr=>{R&&P&&(clearTimeout(R),P(Wr))},reject:Wr=>{R&&W&&(clearTimeout(R),W(Wr))},done:()=>new Promise((Wr,ei)=>{R=setTimeout(()=>{ei(new Error(e))},i),P=Wr,W=ei})}}function u0(r,e,i){return new Promise(async(P,W)=>{const R=setTimeout(()=>W(new Error(i)),e);try{const Wr=await r;P(Wr)}catch(Wr){W(Wr)}clearTimeout(R)})}function vi(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function h0(r){return vi("topic",r)}function c0(r){return vi("id",r)}function l0(r){const[e,i]=r.split(":"),P={id:void 0,topic:void 0};if(e==="topic"&&typeof i=="string")P.topic=i;else if(e==="id"&&Number.isInteger(Number(i)))P.id=Number(i);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${i}`);return P}function d0(r,e){return cjs$4.fromMiliseconds((e||Date.now())+cjs$4.toMiliseconds(r))}function p0(r){return Date.now()>=cjs$4.toMiliseconds(r)}function v0(r,e){return`${r}${e?`:${e}`:""}`}function ge$2(r=[],e=[]){return[...new Set([...r,...e])]}async function m0({id:r,topic:e,wcDeepLink:i}){try{if(!i)return;const P=typeof i=="string"?JSON.parse(i):i;let W=P==null?void 0:P.href;if(typeof W!="string")return;W.endsWith("/")&&(W=W.slice(0,-1));const R=`${W}/wc?requestId=${r}&sessionTopic=${e}`,Wr=We$2();Wr===qt$1.browser?R.startsWith("https://")||R.startsWith("http://")?window.open(R,"_blank","noreferrer noopener"):window.open(R,"_self","noreferrer noopener"):Wr===qt$1.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(R)}catch(P){console.error(P)}}async function g0(r,e){try{return await r.getItem(e)||(pr$1()?localStorage.getItem(e):void 0)}catch(i){console.error(i)}}var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A0(r){var e=r.default;if(typeof e=="function"){var i=function(){return e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(P){var W=Object.getOwnPropertyDescriptor(r,P);Object.defineProperty(i,P,W.get?W:{enumerable:!0,get:function(){return r[P]}})}),i}var Pn={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(r){(function(){var e="input is invalid type",i="finalize already called",P=typeof window=="object",W=P?window:{};W.JS_SHA3_NO_WINDOW&&(P=!1);var R=!P&&typeof self=="object",Wr=!W.JS_SHA3_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;Wr?W=On:R&&(W=self);var ei=!W.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,ni=!W.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",Xr="0123456789abcdef".split(""),Zr=[31,7936,2031616,520093696],si=[4,1024,262144,67108864],oi=[1,256,65536,16777216],ai=[6,1536,393216,100663296],fi=[0,8,16,24],ui=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],sn=[224,256,384,512],hn=[128,256],nn=["hex","buffer","arrayBuffer","array","digest"],ln={128:168,256:136};(W.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(di){return Object.prototype.toString.call(di)==="[object Array]"}),ni&&(W.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(di){return typeof di=="object"&&di.buffer&&di.buffer.constructor===ArrayBuffer});for(var on=function(di,An,$i){return function(fn){return new li(di,An,di).update(fn)[$i]()}},vn=function(di,An,$i){return function(fn,cn){return new li(di,An,cn).update(fn)[$i]()}},Mn=function(di,An,$i){return function(fn,cn,ci,Rn){return H["cshake"+di].update(fn,cn,ci,Rn)[$i]()}},mi=function(di,An,$i){return function(fn,cn,ci,Rn){return H["kmac"+di].update(fn,cn,ci,Rn)[$i]()}},mn=function(di,An,$i,fn){for(var cn=0;cn<nn.length;++cn){var ci=nn[cn];di[ci]=An($i,fn,ci)}return di},Bn=function(di,An){var $i=on(di,An,"hex");return $i.create=function(){return new li(di,An,di)},$i.update=function(fn){return $i.create().update(fn)},mn($i,on,di,An)},ko=function(di,An){var $i=vn(di,An,"hex");return $i.create=function(fn){return new li(di,An,fn)},$i.update=function(fn,cn){return $i.create(cn).update(fn)},mn($i,vn,di,An)},ii=function(di,An){var $i=ln[di],fn=Mn(di,An,"hex");return fn.create=function(cn,ci,Rn){return!ci&&!Rn?H["shake"+di].create(cn):new li(di,An,cn).bytepad([ci,Rn],$i)},fn.update=function(cn,ci,Rn,Zn){return fn.create(ci,Rn,Zn).update(cn)},mn(fn,Mn,di,An)},t=function(di,An){var $i=ln[di],fn=mi(di,An,"hex");return fn.create=function(cn,ci,Rn){return new un(di,An,ci).bytepad(["KMAC",Rn],$i).bytepad([cn],$i)},fn.update=function(cn,ci,Rn,Zn){return fn.create(cn,Rn,Zn).update(ci)},mn(fn,mi,di,An)},o=[{name:"keccak",padding:oi,bits:sn,createMethod:Bn},{name:"sha3",padding:ai,bits:sn,createMethod:Bn},{name:"shake",padding:Zr,bits:hn,createMethod:ko},{name:"cshake",padding:si,bits:hn,createMethod:ii},{name:"kmac",padding:si,bits:hn,createMethod:t}],H={},G=[],Ne=0;Ne<o.length;++Ne)for(var Le=o[Ne],ti=Le.bits,Ie=0;Ie<ti.length;++Ie){var s=Le.name+"_"+ti[Ie];if(G.push(s),H[s]=Le.createMethod(ti[Ie],Le.padding),Le.name!=="sha3"){var Y=Le.name+ti[Ie];G.push(Y),H[Y]=H[s]}}function li(di,An,$i){this.blocks=[],this.s=[],this.padding=An,this.outputBits=$i,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(di<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=$i>>5,this.extraBytes=($i&31)>>3;for(var fn=0;fn<50;++fn)this.s[fn]=0}li.prototype.update=function(di){if(this.finalized)throw new Error(i);var An,$i=typeof di;if($i!=="string"){if($i==="object"){if(di===null)throw new Error(e);if(ni&&di.constructor===ArrayBuffer)di=new Uint8Array(di);else if(!Array.isArray(di)&&(!ni||!ArrayBuffer.isView(di)))throw new Error(e)}else throw new Error(e);An=!0}for(var fn=this.blocks,cn=this.byteCount,ci=di.length,Rn=this.blockCount,Zn=0,ho=this.s,qh,Lo;Zn<ci;){if(this.reset)for(this.reset=!1,fn[0]=this.block,qh=1;qh<Rn+1;++qh)fn[qh]=0;if(An)for(qh=this.start;Zn<ci&&qh<cn;++Zn)fn[qh>>2]|=di[Zn]<<fi[qh++&3];else for(qh=this.start;Zn<ci&&qh<cn;++Zn)Lo=di.charCodeAt(Zn),Lo<128?fn[qh>>2]|=Lo<<fi[qh++&3]:Lo<2048?(fn[qh>>2]|=(192|Lo>>6)<<fi[qh++&3],fn[qh>>2]|=(128|Lo&63)<<fi[qh++&3]):Lo<55296||Lo>=57344?(fn[qh>>2]|=(224|Lo>>12)<<fi[qh++&3],fn[qh>>2]|=(128|Lo>>6&63)<<fi[qh++&3],fn[qh>>2]|=(128|Lo&63)<<fi[qh++&3]):(Lo=65536+((Lo&1023)<<10|di.charCodeAt(++Zn)&1023),fn[qh>>2]|=(240|Lo>>18)<<fi[qh++&3],fn[qh>>2]|=(128|Lo>>12&63)<<fi[qh++&3],fn[qh>>2]|=(128|Lo>>6&63)<<fi[qh++&3],fn[qh>>2]|=(128|Lo&63)<<fi[qh++&3]);if(this.lastByteIndex=qh,qh>=cn){for(this.start=qh-cn,this.block=fn[Rn],qh=0;qh<Rn;++qh)ho[qh]^=fn[qh];pn(ho),this.reset=!0}else this.start=qh}return this},li.prototype.encode=function(di,An){var $i=di&255,fn=1,cn=[$i];for(di=di>>8,$i=di&255;$i>0;)cn.unshift($i),di=di>>8,$i=di&255,++fn;return An?cn.push(fn):cn.unshift(fn),this.update(cn),cn.length},li.prototype.encodeString=function(di){var An,$i=typeof di;if($i!=="string"){if($i==="object"){if(di===null)throw new Error(e);if(ni&&di.constructor===ArrayBuffer)di=new Uint8Array(di);else if(!Array.isArray(di)&&(!ni||!ArrayBuffer.isView(di)))throw new Error(e)}else throw new Error(e);An=!0}var fn=0,cn=di.length;if(An)fn=cn;else for(var ci=0;ci<di.length;++ci){var Rn=di.charCodeAt(ci);Rn<128?fn+=1:Rn<2048?fn+=2:Rn<55296||Rn>=57344?fn+=3:(Rn=65536+((Rn&1023)<<10|di.charCodeAt(++ci)&1023),fn+=4)}return fn+=this.encode(fn*8),this.update(di),fn},li.prototype.bytepad=function(di,An){for(var $i=this.encode(An),fn=0;fn<di.length;++fn)$i+=this.encodeString(di[fn]);var cn=An-$i%An,ci=[];return ci.length=cn,this.update(ci),this},li.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var di=this.blocks,An=this.lastByteIndex,$i=this.blockCount,fn=this.s;if(di[An>>2]|=this.padding[An&3],this.lastByteIndex===this.byteCount)for(di[0]=di[$i],An=1;An<$i+1;++An)di[An]=0;for(di[$i-1]|=2147483648,An=0;An<$i;++An)fn[An]^=di[An];pn(fn)}},li.prototype.toString=li.prototype.hex=function(){this.finalize();for(var di=this.blockCount,An=this.s,$i=this.outputBlocks,fn=this.extraBytes,cn=0,ci=0,Rn="",Zn;ci<$i;){for(cn=0;cn<di&&ci<$i;++cn,++ci)Zn=An[cn],Rn+=Xr[Zn>>4&15]+Xr[Zn&15]+Xr[Zn>>12&15]+Xr[Zn>>8&15]+Xr[Zn>>20&15]+Xr[Zn>>16&15]+Xr[Zn>>28&15]+Xr[Zn>>24&15];ci%di===0&&(pn(An),cn=0)}return fn&&(Zn=An[cn],Rn+=Xr[Zn>>4&15]+Xr[Zn&15],fn>1&&(Rn+=Xr[Zn>>12&15]+Xr[Zn>>8&15]),fn>2&&(Rn+=Xr[Zn>>20&15]+Xr[Zn>>16&15])),Rn},li.prototype.arrayBuffer=function(){this.finalize();var di=this.blockCount,An=this.s,$i=this.outputBlocks,fn=this.extraBytes,cn=0,ci=0,Rn=this.outputBits>>3,Zn;fn?Zn=new ArrayBuffer($i+1<<2):Zn=new ArrayBuffer(Rn);for(var ho=new Uint32Array(Zn);ci<$i;){for(cn=0;cn<di&&ci<$i;++cn,++ci)ho[ci]=An[cn];ci%di===0&&pn(An)}return fn&&(ho[cn]=An[cn],Zn=Zn.slice(0,Rn)),Zn},li.prototype.buffer=li.prototype.arrayBuffer,li.prototype.digest=li.prototype.array=function(){this.finalize();for(var di=this.blockCount,An=this.s,$i=this.outputBlocks,fn=this.extraBytes,cn=0,ci=0,Rn=[],Zn,ho;ci<$i;){for(cn=0;cn<di&&ci<$i;++cn,++ci)Zn=ci<<2,ho=An[cn],Rn[Zn]=ho&255,Rn[Zn+1]=ho>>8&255,Rn[Zn+2]=ho>>16&255,Rn[Zn+3]=ho>>24&255;ci%di===0&&pn(An)}return fn&&(Zn=ci<<2,ho=An[cn],Rn[Zn]=ho&255,fn>1&&(Rn[Zn+1]=ho>>8&255),fn>2&&(Rn[Zn+2]=ho>>16&255)),Rn};function un(di,An,$i){li.call(this,di,An,$i)}un.prototype=new li,un.prototype.finalize=function(){return this.encode(this.outputBits,!0),li.prototype.finalize.call(this)};var pn=function(di){var An,$i,fn,cn,ci,Rn,Zn,ho,qh,Lo,jo,jh,_h,tf,zh,Ko,Uo,Uh,Vo,qo,Fh,Zo,Fo,Hh,Vf,Ho,Kh,yh,Yo,Vh,Ih,wh,uu,Dh,Mh,qu,Bh,Xf,Jh,Eh,ph,Qh,xh,mh,su,Ah,gh,Xh,Sh,vh,Wh,Rh,bh,Uu,Ch,$h,au,f0,$0,D0,F0,tc,Ku;for(fn=0;fn<48;fn+=2)cn=di[0]^di[10]^di[20]^di[30]^di[40],ci=di[1]^di[11]^di[21]^di[31]^di[41],Rn=di[2]^di[12]^di[22]^di[32]^di[42],Zn=di[3]^di[13]^di[23]^di[33]^di[43],ho=di[4]^di[14]^di[24]^di[34]^di[44],qh=di[5]^di[15]^di[25]^di[35]^di[45],Lo=di[6]^di[16]^di[26]^di[36]^di[46],jo=di[7]^di[17]^di[27]^di[37]^di[47],jh=di[8]^di[18]^di[28]^di[38]^di[48],_h=di[9]^di[19]^di[29]^di[39]^di[49],An=jh^(Rn<<1|Zn>>>31),$i=_h^(Zn<<1|Rn>>>31),di[0]^=An,di[1]^=$i,di[10]^=An,di[11]^=$i,di[20]^=An,di[21]^=$i,di[30]^=An,di[31]^=$i,di[40]^=An,di[41]^=$i,An=cn^(ho<<1|qh>>>31),$i=ci^(qh<<1|ho>>>31),di[2]^=An,di[3]^=$i,di[12]^=An,di[13]^=$i,di[22]^=An,di[23]^=$i,di[32]^=An,di[33]^=$i,di[42]^=An,di[43]^=$i,An=Rn^(Lo<<1|jo>>>31),$i=Zn^(jo<<1|Lo>>>31),di[4]^=An,di[5]^=$i,di[14]^=An,di[15]^=$i,di[24]^=An,di[25]^=$i,di[34]^=An,di[35]^=$i,di[44]^=An,di[45]^=$i,An=ho^(jh<<1|_h>>>31),$i=qh^(_h<<1|jh>>>31),di[6]^=An,di[7]^=$i,di[16]^=An,di[17]^=$i,di[26]^=An,di[27]^=$i,di[36]^=An,di[37]^=$i,di[46]^=An,di[47]^=$i,An=Lo^(cn<<1|ci>>>31),$i=jo^(ci<<1|cn>>>31),di[8]^=An,di[9]^=$i,di[18]^=An,di[19]^=$i,di[28]^=An,di[29]^=$i,di[38]^=An,di[39]^=$i,di[48]^=An,di[49]^=$i,tf=di[0],zh=di[1],Ah=di[11]<<4|di[10]>>>28,gh=di[10]<<4|di[11]>>>28,yh=di[20]<<3|di[21]>>>29,Yo=di[21]<<3|di[20]>>>29,D0=di[31]<<9|di[30]>>>23,F0=di[30]<<9|di[31]>>>23,Qh=di[40]<<18|di[41]>>>14,xh=di[41]<<18|di[40]>>>14,Dh=di[2]<<1|di[3]>>>31,Mh=di[3]<<1|di[2]>>>31,Ko=di[13]<<12|di[12]>>>20,Uo=di[12]<<12|di[13]>>>20,Xh=di[22]<<10|di[23]>>>22,Sh=di[23]<<10|di[22]>>>22,Vh=di[33]<<13|di[32]>>>19,Ih=di[32]<<13|di[33]>>>19,tc=di[42]<<2|di[43]>>>30,Ku=di[43]<<2|di[42]>>>30,Uu=di[5]<<30|di[4]>>>2,Ch=di[4]<<30|di[5]>>>2,qu=di[14]<<6|di[15]>>>26,Bh=di[15]<<6|di[14]>>>26,Uh=di[25]<<11|di[24]>>>21,Vo=di[24]<<11|di[25]>>>21,vh=di[34]<<15|di[35]>>>17,Wh=di[35]<<15|di[34]>>>17,wh=di[45]<<29|di[44]>>>3,uu=di[44]<<29|di[45]>>>3,Hh=di[6]<<28|di[7]>>>4,Vf=di[7]<<28|di[6]>>>4,$h=di[17]<<23|di[16]>>>9,au=di[16]<<23|di[17]>>>9,Xf=di[26]<<25|di[27]>>>7,Jh=di[27]<<25|di[26]>>>7,qo=di[36]<<21|di[37]>>>11,Fh=di[37]<<21|di[36]>>>11,Rh=di[47]<<24|di[46]>>>8,bh=di[46]<<24|di[47]>>>8,mh=di[8]<<27|di[9]>>>5,su=di[9]<<27|di[8]>>>5,Ho=di[18]<<20|di[19]>>>12,Kh=di[19]<<20|di[18]>>>12,f0=di[29]<<7|di[28]>>>25,$0=di[28]<<7|di[29]>>>25,Eh=di[38]<<8|di[39]>>>24,ph=di[39]<<8|di[38]>>>24,Zo=di[48]<<14|di[49]>>>18,Fo=di[49]<<14|di[48]>>>18,di[0]=tf^~Ko&Uh,di[1]=zh^~Uo&Vo,di[10]=Hh^~Ho&yh,di[11]=Vf^~Kh&Yo,di[20]=Dh^~qu&Xf,di[21]=Mh^~Bh&Jh,di[30]=mh^~Ah&Xh,di[31]=su^~gh&Sh,di[40]=Uu^~$h&f0,di[41]=Ch^~au&$0,di[2]=Ko^~Uh&qo,di[3]=Uo^~Vo&Fh,di[12]=Ho^~yh&Vh,di[13]=Kh^~Yo&Ih,di[22]=qu^~Xf&Eh,di[23]=Bh^~Jh&ph,di[32]=Ah^~Xh&vh,di[33]=gh^~Sh&Wh,di[42]=$h^~f0&D0,di[43]=au^~$0&F0,di[4]=Uh^~qo&Zo,di[5]=Vo^~Fh&Fo,di[14]=yh^~Vh&wh,di[15]=Yo^~Ih&uu,di[24]=Xf^~Eh&Qh,di[25]=Jh^~ph&xh,di[34]=Xh^~vh&Rh,di[35]=Sh^~Wh&bh,di[44]=f0^~D0&tc,di[45]=$0^~F0&Ku,di[6]=qo^~Zo&tf,di[7]=Fh^~Fo&zh,di[16]=Vh^~wh&Hh,di[17]=Ih^~uu&Vf,di[26]=Eh^~Qh&Dh,di[27]=ph^~xh&Mh,di[36]=vh^~Rh&mh,di[37]=Wh^~bh&su,di[46]=D0^~tc&Uu,di[47]=F0^~Ku&Ch,di[8]=Zo^~tf&Ko,di[9]=Fo^~zh&Uo,di[18]=wh^~Hh&Ho,di[19]=uu^~Vf&Kh,di[28]=Qh^~Dh&qu,di[29]=xh^~Mh&Bh,di[38]=Rh^~mh&Ah,di[39]=bh^~su&gh,di[48]=tc^~Uu&$h,di[49]=Ku^~Ch&au,di[0]^=ui[fn],di[1]^=ui[fn+1]};if(ei)r.exports=H;else for(Ne=0;Ne<G.length;++Ne)W[G[Ne]]=H[G[Ne]]})()})(Pn);var b0=Pn.exports;const y0="logger/5.7.0";let Dn=!1,Fn=!1;const Cr$1={debug:1,default:2,info:2,warning:3,error:4,off:5};let Tn=Cr$1.default,gi=null;function w0(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(r){return r.message}return null}const Un=w0();var Ai;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Ai||(Ai={}));var re$1;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(re$1||(re$1={}));const kn="0123456789abcdef";let L$3=class Tc{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,i){const P=e.toLowerCase();Cr$1[P]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Tn>Cr$1[P])&&console.log.apply(console,i)}debug(...e){this._log(Tc.levels.DEBUG,e)}info(...e){this._log(Tc.levels.INFO,e)}warn(...e){this._log(Tc.levels.WARNING,e)}makeError(e,i,P){if(Fn)return this.makeError("censored error",i,{});i||(i=Tc.errors.UNKNOWN_ERROR),P||(P={});const W=[];Object.keys(P).forEach(ni=>{const Xr=P[ni];try{if(Xr instanceof Uint8Array){let Zr="";for(let si=0;si<Xr.length;si++)Zr+=kn[Xr[si]>>4],Zr+=kn[Xr[si]&15];W.push(ni+"=Uint8Array(0x"+Zr+")")}else W.push(ni+"="+JSON.stringify(Xr))}catch{W.push(ni+"="+JSON.stringify(P[ni].toString()))}}),W.push(`code=${i}`),W.push(`version=${this.version}`);const R=e;let Wr="";switch(i){case re$1.NUMERIC_FAULT:{Wr="NUMERIC_FAULT";const ni=e;switch(ni){case"overflow":case"underflow":case"division-by-zero":Wr+="-"+ni;break;case"negative-power":case"negative-width":Wr+="-unsupported";break;case"unbound-bitwise-result":Wr+="-unbound-result";break}break}case re$1.CALL_EXCEPTION:case re$1.INSUFFICIENT_FUNDS:case re$1.MISSING_NEW:case re$1.NONCE_EXPIRED:case re$1.REPLACEMENT_UNDERPRICED:case re$1.TRANSACTION_REPLACED:case re$1.UNPREDICTABLE_GAS_LIMIT:Wr=i;break}Wr&&(e+=" [ See: https://links.ethers.org/v5-errors-"+Wr+" ]"),W.length&&(e+=" ("+W.join(", ")+")");const ei=new Error(e);return ei.reason=R,ei.code=i,Object.keys(P).forEach(function(ni){ei[ni]=P[ni]}),ei}throwError(e,i,P){throw this.makeError(e,i,P)}throwArgumentError(e,i,P){return this.throwError(e,Tc.errors.INVALID_ARGUMENT,{argument:i,value:P})}assert(e,i,P,W){e||this.throwError(i,P,W)}assertArgument(e,i,P,W){e||this.throwArgumentError(i,P,W)}checkNormalize(e){Un&&this.throwError("platform missing String.prototype.normalize",Tc.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Un})}checkSafeUint53(e,i){typeof e=="number"&&(i==null&&(i="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(i,Tc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(i,Tc.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,i,P){P?P=": "+P:P="",e<i&&this.throwError("missing argument"+P,Tc.errors.MISSING_ARGUMENT,{count:e,expectedCount:i}),e>i&&this.throwError("too many arguments"+P,Tc.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:i})}checkNew(e,i){(e===Object||e==null)&&this.throwError("missing new",Tc.errors.MISSING_NEW,{name:i.name})}checkAbstract(e,i){e===i?this.throwError("cannot instantiate abstract class "+JSON.stringify(i.name)+" directly; use a sub-class",Tc.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Tc.errors.MISSING_NEW,{name:i.name})}static globalLogger(){return gi||(gi=new Tc(y0)),gi}static setCensorship(e,i){if(!e&&i&&this.globalLogger().throwError("cannot permanently disable censorship",Tc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Dn){if(!e)return;this.globalLogger().throwError("error censorship permanent",Tc.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Fn=!!e,Dn=!!i}static setLogLevel(e){const i=Cr$1[e.toLowerCase()];if(i==null){Tc.globalLogger().warn("invalid log level - "+e);return}Tn=i}static from(e){return new Tc(e)}};L$3.errors=re$1,L$3.levels=Ai;const x0="bytes/5.7.0",Dt$1=new L$3(x0);function qn(r){return!!r.toHexString}function rr$1(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return rr$1(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function M0(r){return Qt(r)&&!(r.length%2)||ir$1(r)}function Kn(r){return typeof r=="number"&&r==r&&r%1===0}function ir$1(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Kn(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const i=r[e];if(!Kn(i)||i<0||i>=256)return!1}return!0}function Ot$1(r,e){if(e||(e={}),typeof r=="number"){Dt$1.checkSafeUint53(r,"invalid arrayify value");const i=[];for(;r;)i.unshift(r&255),r=parseInt(String(r/256));return i.length===0&&i.push(0),rr$1(new Uint8Array(i))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),qn(r)&&(r=r.toHexString()),Qt(r)){let i=r.substring(2);i.length%2&&(e.hexPad==="left"?i="0"+i:e.hexPad==="right"?i+="0":Dt$1.throwArgumentError("hex data is odd-length","value",r));const P=[];for(let W=0;W<i.length;W+=2)P.push(parseInt(i.substring(W,W+2),16));return rr$1(new Uint8Array(P))}return ir$1(r)?rr$1(new Uint8Array(r)):Dt$1.throwArgumentError("invalid arrayify value","value",r)}function E0(r){const e=r.map(W=>Ot$1(W)),i=e.reduce((W,R)=>W+R.length,0),P=new Uint8Array(i);return e.reduce((W,R)=>(P.set(R,W),W+R.length),0),rr$1(P)}function S0(r,e){r=Ot$1(r),r.length>e&&Dt$1.throwArgumentError("value out of range","value",arguments[0]);const i=new Uint8Array(e);return i.set(r,e-r.length),rr$1(i)}function Qt(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const bi="0123456789abcdef";function Kt$1(r,e){if(e||(e={}),typeof r=="number"){Dt$1.checkSafeUint53(r,"invalid hexlify value");let i="";for(;r;)i=bi[r&15]+i,r=Math.floor(r/16);return i.length?(i.length%2&&(i="0"+i),"0x"+i):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),qn(r))return r.toHexString();if(Qt(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Dt$1.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(ir$1(r)){let i="0x";for(let P=0;P<r.length;P++){let W=r[P];i+=bi[(W&240)>>4]+bi[W&15]}return i}return Dt$1.throwArgumentError("invalid hexlify value","value",r)}function N0(r){if(typeof r!="string")r=Kt$1(r);else if(!Qt(r)||r.length%2)return null;return(r.length-2)/2}function Hn(r,e,i){return typeof r!="string"?r=Kt$1(r):(!Qt(r)||r.length%2)&&Dt$1.throwArgumentError("invalid hexData","value",r),e=2+2*e,i!=null?"0x"+r.substring(e,2+2*i):"0x"+r.substring(e)}function oe(r,e){for(typeof r!="string"?r=Kt$1(r):Qt(r)||Dt$1.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Dt$1.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function zn(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(M0(r)){let i=Ot$1(r);i.length===64?(e.v=27+(i[32]>>7),i[32]&=127,e.r=Kt$1(i.slice(0,32)),e.s=Kt$1(i.slice(32,64))):i.length===65?(e.r=Kt$1(i.slice(0,32)),e.s=Kt$1(i.slice(32,64)),e.v=i[64]):Dt$1.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Dt$1.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(i[32]|=128),e._vs=Kt$1(i.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const W=S0(Ot$1(e._vs),32);e._vs=Kt$1(W);const R=W[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=R:e.recoveryParam!==R&&Dt$1.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),W[0]&=127;const Wr=Kt$1(W);e.s==null?e.s=Wr:e.s!==Wr&&Dt$1.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Dt$1.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const W=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==W&&Dt$1.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Qt(e.r)?Dt$1.throwArgumentError("signature missing or invalid r","signature",r):e.r=oe(e.r,32),e.s==null||!Qt(e.s)?Dt$1.throwArgumentError("signature missing or invalid s","signature",r):e.s=oe(e.s,32);const i=Ot$1(e.s);i[0]>=128&&Dt$1.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(i[0]|=128);const P=Kt$1(i);e._vs&&(Qt(e._vs)||Dt$1.throwArgumentError("signature invalid _vs","signature",r),e._vs=oe(e._vs,32)),e._vs==null?e._vs=P:e._vs!==P&&Dt$1.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function yi(r){return"0x"+b0.keccak_256(Ot$1(r))}var Ln={exports:{}},I0={},_0=Object.freeze({__proto__:null,default:I0}),B0=A0(_0);(function(r){(function(e,i){function P(o,H){if(!o)throw new Error(H||"Assertion failed")}function W(o,H){o.super_=H;var G=function(){};G.prototype=H.prototype,o.prototype=new G,o.prototype.constructor=o}function R(o,H,G){if(R.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((H==="le"||H==="be")&&(G=H,H=10),this._init(o||0,H||10,G||"be"))}typeof e=="object"?e.exports=R:i.BN=R,R.BN=R,R.wordSize=26;var Wr;try{typeof window<"u"&&typeof window.Buffer<"u"?Wr=window.Buffer:Wr=B0.Buffer}catch{}R.isBN=function(o){return o instanceof R?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===R.wordSize&&Array.isArray(o.words)},R.max=function(o,H){return o.cmp(H)>0?o:H},R.min=function(o,H){return o.cmp(H)<0?o:H},R.prototype._init=function(o,H,G){if(typeof o=="number")return this._initNumber(o,H,G);if(typeof o=="object")return this._initArray(o,H,G);H==="hex"&&(H=16),P(H===(H|0)&&H>=2&&H<=36),o=o.toString().replace(/\s+/g,"");var Ne=0;o[0]==="-"&&(Ne++,this.negative=1),Ne<o.length&&(H===16?this._parseHex(o,Ne,G):(this._parseBase(o,H,Ne),G==="le"&&this._initArray(this.toArray(),H,G)))},R.prototype._initNumber=function(o,H,G){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(P(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),G==="le"&&this._initArray(this.toArray(),H,G)},R.prototype._initArray=function(o,H,G){if(P(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var Ne=0;Ne<this.length;Ne++)this.words[Ne]=0;var Le,ti,Ie=0;if(G==="be")for(Ne=o.length-1,Le=0;Ne>=0;Ne-=3)ti=o[Ne]|o[Ne-1]<<8|o[Ne-2]<<16,this.words[Le]|=ti<<Ie&67108863,this.words[Le+1]=ti>>>26-Ie&67108863,Ie+=24,Ie>=26&&(Ie-=26,Le++);else if(G==="le")for(Ne=0,Le=0;Ne<o.length;Ne+=3)ti=o[Ne]|o[Ne+1]<<8|o[Ne+2]<<16,this.words[Le]|=ti<<Ie&67108863,this.words[Le+1]=ti>>>26-Ie&67108863,Ie+=24,Ie>=26&&(Ie-=26,Le++);return this._strip()};function ei(o,H){var G=o.charCodeAt(H);if(G>=48&&G<=57)return G-48;if(G>=65&&G<=70)return G-55;if(G>=97&&G<=102)return G-87;P(!1,"Invalid character in "+o)}function ni(o,H,G){var Ne=ei(o,G);return G-1>=H&&(Ne|=ei(o,G-1)<<4),Ne}R.prototype._parseHex=function(o,H,G){this.length=Math.ceil((o.length-H)/6),this.words=new Array(this.length);for(var Ne=0;Ne<this.length;Ne++)this.words[Ne]=0;var Le=0,ti=0,Ie;if(G==="be")for(Ne=o.length-1;Ne>=H;Ne-=2)Ie=ni(o,H,Ne)<<Le,this.words[ti]|=Ie&67108863,Le>=18?(Le-=18,ti+=1,this.words[ti]|=Ie>>>26):Le+=8;else{var s=o.length-H;for(Ne=s%2===0?H+1:H;Ne<o.length;Ne+=2)Ie=ni(o,H,Ne)<<Le,this.words[ti]|=Ie&67108863,Le>=18?(Le-=18,ti+=1,this.words[ti]|=Ie>>>26):Le+=8}this._strip()};function Xr(o,H,G,Ne){for(var Le=0,ti=0,Ie=Math.min(o.length,G),s=H;s<Ie;s++){var Y=o.charCodeAt(s)-48;Le*=Ne,Y>=49?ti=Y-49+10:Y>=17?ti=Y-17+10:ti=Y,P(Y>=0&&ti<Ne,"Invalid character"),Le+=ti}return Le}R.prototype._parseBase=function(o,H,G){this.words=[0],this.length=1;for(var Ne=0,Le=1;Le<=67108863;Le*=H)Ne++;Ne--,Le=Le/H|0;for(var ti=o.length-G,Ie=ti%Ne,s=Math.min(ti,ti-Ie)+G,Y=0,li=G;li<s;li+=Ne)Y=Xr(o,li,li+Ne,H),this.imuln(Le),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(Ie!==0){var un=1;for(Y=Xr(o,li,o.length,H),li=0;li<Ie;li++)un*=H;this.imuln(un),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this._strip()},R.prototype.copy=function(o){o.words=new Array(this.length);for(var H=0;H<this.length;H++)o.words[H]=this.words[H];o.length=this.length,o.negative=this.negative,o.red=this.red};function Zr(o,H){o.words=H.words,o.length=H.length,o.negative=H.negative,o.red=H.red}if(R.prototype._move=function(o){Zr(o,this)},R.prototype.clone=function(){var o=new R(null);return this.copy(o),o},R.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},R.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},R.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{R.prototype[Symbol.for("nodejs.util.inspect.custom")]=si}catch{R.prototype.inspect=si}else R.prototype.inspect=si;function si(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var oi=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ai=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],fi=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];R.prototype.toString=function(o,H){o=o||10,H=H|0||1;var G;if(o===16||o==="hex"){G="";for(var Ne=0,Le=0,ti=0;ti<this.length;ti++){var Ie=this.words[ti],s=((Ie<<Ne|Le)&16777215).toString(16);Le=Ie>>>24-Ne&16777215,Ne+=2,Ne>=26&&(Ne-=26,ti--),Le!==0||ti!==this.length-1?G=oi[6-s.length]+s+G:G=s+G}for(Le!==0&&(G=Le.toString(16)+G);G.length%H!==0;)G="0"+G;return this.negative!==0&&(G="-"+G),G}if(o===(o|0)&&o>=2&&o<=36){var Y=ai[o],li=fi[o];G="";var un=this.clone();for(un.negative=0;!un.isZero();){var pn=un.modrn(li).toString(o);un=un.idivn(li),un.isZero()?G=pn+G:G=oi[Y-pn.length]+pn+G}for(this.isZero()&&(G="0"+G);G.length%H!==0;)G="0"+G;return this.negative!==0&&(G="-"+G),G}P(!1,"Base should be between 2 and 36")},R.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},R.prototype.toJSON=function(){return this.toString(16,2)},Wr&&(R.prototype.toBuffer=function(o,H){return this.toArrayLike(Wr,o,H)}),R.prototype.toArray=function(o,H){return this.toArrayLike(Array,o,H)};var ui=function(o,H){return o.allocUnsafe?o.allocUnsafe(H):new o(H)};R.prototype.toArrayLike=function(o,H,G){this._strip();var Ne=this.byteLength(),Le=G||Math.max(1,Ne);P(Ne<=Le,"byte array longer than desired length"),P(Le>0,"Requested array length <= 0");var ti=ui(o,Le),Ie=H==="le"?"LE":"BE";return this["_toArrayLike"+Ie](ti,Ne),ti},R.prototype._toArrayLikeLE=function(o,H){for(var G=0,Ne=0,Le=0,ti=0;Le<this.length;Le++){var Ie=this.words[Le]<<ti|Ne;o[G++]=Ie&255,G<o.length&&(o[G++]=Ie>>8&255),G<o.length&&(o[G++]=Ie>>16&255),ti===6?(G<o.length&&(o[G++]=Ie>>24&255),Ne=0,ti=0):(Ne=Ie>>>24,ti+=2)}if(G<o.length)for(o[G++]=Ne;G<o.length;)o[G++]=0},R.prototype._toArrayLikeBE=function(o,H){for(var G=o.length-1,Ne=0,Le=0,ti=0;Le<this.length;Le++){var Ie=this.words[Le]<<ti|Ne;o[G--]=Ie&255,G>=0&&(o[G--]=Ie>>8&255),G>=0&&(o[G--]=Ie>>16&255),ti===6?(G>=0&&(o[G--]=Ie>>24&255),Ne=0,ti=0):(Ne=Ie>>>24,ti+=2)}if(G>=0)for(o[G--]=Ne;G>=0;)o[G--]=0},Math.clz32?R.prototype._countBits=function(o){return 32-Math.clz32(o)}:R.prototype._countBits=function(o){var H=o,G=0;return H>=4096&&(G+=13,H>>>=13),H>=64&&(G+=7,H>>>=7),H>=8&&(G+=4,H>>>=4),H>=2&&(G+=2,H>>>=2),G+H},R.prototype._zeroBits=function(o){if(o===0)return 26;var H=o,G=0;return H&8191||(G+=13,H>>>=13),H&127||(G+=7,H>>>=7),H&15||(G+=4,H>>>=4),H&3||(G+=2,H>>>=2),H&1||G++,G},R.prototype.bitLength=function(){var o=this.words[this.length-1],H=this._countBits(o);return(this.length-1)*26+H};function sn(o){for(var H=new Array(o.bitLength()),G=0;G<H.length;G++){var Ne=G/26|0,Le=G%26;H[G]=o.words[Ne]>>>Le&1}return H}R.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,H=0;H<this.length;H++){var G=this._zeroBits(this.words[H]);if(o+=G,G!==26)break}return o},R.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},R.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},R.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},R.prototype.isNeg=function(){return this.negative!==0},R.prototype.neg=function(){return this.clone().ineg()},R.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},R.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var H=0;H<o.length;H++)this.words[H]=this.words[H]|o.words[H];return this._strip()},R.prototype.ior=function(o){return P((this.negative|o.negative)===0),this.iuor(o)},R.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},R.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},R.prototype.iuand=function(o){var H;this.length>o.length?H=o:H=this;for(var G=0;G<H.length;G++)this.words[G]=this.words[G]&o.words[G];return this.length=H.length,this._strip()},R.prototype.iand=function(o){return P((this.negative|o.negative)===0),this.iuand(o)},R.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},R.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},R.prototype.iuxor=function(o){var H,G;this.length>o.length?(H=this,G=o):(H=o,G=this);for(var Ne=0;Ne<G.length;Ne++)this.words[Ne]=H.words[Ne]^G.words[Ne];if(this!==H)for(;Ne<H.length;Ne++)this.words[Ne]=H.words[Ne];return this.length=H.length,this._strip()},R.prototype.ixor=function(o){return P((this.negative|o.negative)===0),this.iuxor(o)},R.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},R.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},R.prototype.inotn=function(o){P(typeof o=="number"&&o>=0);var H=Math.ceil(o/26)|0,G=o%26;this._expand(H),G>0&&H--;for(var Ne=0;Ne<H;Ne++)this.words[Ne]=~this.words[Ne]&67108863;return G>0&&(this.words[Ne]=~this.words[Ne]&67108863>>26-G),this._strip()},R.prototype.notn=function(o){return this.clone().inotn(o)},R.prototype.setn=function(o,H){P(typeof o=="number"&&o>=0);var G=o/26|0,Ne=o%26;return this._expand(G+1),H?this.words[G]=this.words[G]|1<<Ne:this.words[G]=this.words[G]&~(1<<Ne),this._strip()},R.prototype.iadd=function(o){var H;if(this.negative!==0&&o.negative===0)return this.negative=0,H=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,H=this.isub(o),o.negative=1,H._normSign();var G,Ne;this.length>o.length?(G=this,Ne=o):(G=o,Ne=this);for(var Le=0,ti=0;ti<Ne.length;ti++)H=(G.words[ti]|0)+(Ne.words[ti]|0)+Le,this.words[ti]=H&67108863,Le=H>>>26;for(;Le!==0&&ti<G.length;ti++)H=(G.words[ti]|0)+Le,this.words[ti]=H&67108863,Le=H>>>26;if(this.length=G.length,Le!==0)this.words[this.length]=Le,this.length++;else if(G!==this)for(;ti<G.length;ti++)this.words[ti]=G.words[ti];return this},R.prototype.add=function(o){var H;return o.negative!==0&&this.negative===0?(o.negative=0,H=this.sub(o),o.negative^=1,H):o.negative===0&&this.negative!==0?(this.negative=0,H=o.sub(this),this.negative=1,H):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},R.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var H=this.iadd(o);return o.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var G=this.cmp(o);if(G===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ne,Le;G>0?(Ne=this,Le=o):(Ne=o,Le=this);for(var ti=0,Ie=0;Ie<Le.length;Ie++)H=(Ne.words[Ie]|0)-(Le.words[Ie]|0)+ti,ti=H>>26,this.words[Ie]=H&67108863;for(;ti!==0&&Ie<Ne.length;Ie++)H=(Ne.words[Ie]|0)+ti,ti=H>>26,this.words[Ie]=H&67108863;if(ti===0&&Ie<Ne.length&&Ne!==this)for(;Ie<Ne.length;Ie++)this.words[Ie]=Ne.words[Ie];return this.length=Math.max(this.length,Ie),Ne!==this&&(this.negative=1),this._strip()},R.prototype.sub=function(o){return this.clone().isub(o)};function hn(o,H,G){G.negative=H.negative^o.negative;var Ne=o.length+H.length|0;G.length=Ne,Ne=Ne-1|0;var Le=o.words[0]|0,ti=H.words[0]|0,Ie=Le*ti,s=Ie&67108863,Y=Ie/67108864|0;G.words[0]=s;for(var li=1;li<Ne;li++){for(var un=Y>>>26,pn=Y&67108863,di=Math.min(li,H.length-1),An=Math.max(0,li-o.length+1);An<=di;An++){var $i=li-An|0;Le=o.words[$i]|0,ti=H.words[An]|0,Ie=Le*ti+pn,un+=Ie/67108864|0,pn=Ie&67108863}G.words[li]=pn|0,Y=un|0}return Y!==0?G.words[li]=Y|0:G.length--,G._strip()}var nn=function(o,H,G){var Ne=o.words,Le=H.words,ti=G.words,Ie=0,s,Y,li,un=Ne[0]|0,pn=un&8191,di=un>>>13,An=Ne[1]|0,$i=An&8191,fn=An>>>13,cn=Ne[2]|0,ci=cn&8191,Rn=cn>>>13,Zn=Ne[3]|0,ho=Zn&8191,qh=Zn>>>13,Lo=Ne[4]|0,jo=Lo&8191,jh=Lo>>>13,_h=Ne[5]|0,tf=_h&8191,zh=_h>>>13,Ko=Ne[6]|0,Uo=Ko&8191,Uh=Ko>>>13,Vo=Ne[7]|0,qo=Vo&8191,Fh=Vo>>>13,Zo=Ne[8]|0,Fo=Zo&8191,Hh=Zo>>>13,Vf=Ne[9]|0,Ho=Vf&8191,Kh=Vf>>>13,yh=Le[0]|0,Yo=yh&8191,Vh=yh>>>13,Ih=Le[1]|0,wh=Ih&8191,uu=Ih>>>13,Dh=Le[2]|0,Mh=Dh&8191,qu=Dh>>>13,Bh=Le[3]|0,Xf=Bh&8191,Jh=Bh>>>13,Eh=Le[4]|0,ph=Eh&8191,Qh=Eh>>>13,xh=Le[5]|0,mh=xh&8191,su=xh>>>13,Ah=Le[6]|0,gh=Ah&8191,Xh=Ah>>>13,Sh=Le[7]|0,vh=Sh&8191,Wh=Sh>>>13,Rh=Le[8]|0,bh=Rh&8191,Uu=Rh>>>13,Ch=Le[9]|0,$h=Ch&8191,au=Ch>>>13;G.negative=o.negative^H.negative,G.length=19,s=Math.imul(pn,Yo),Y=Math.imul(pn,Vh),Y=Y+Math.imul(di,Yo)|0,li=Math.imul(di,Vh);var f0=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(f0>>>26)|0,f0&=67108863,s=Math.imul($i,Yo),Y=Math.imul($i,Vh),Y=Y+Math.imul(fn,Yo)|0,li=Math.imul(fn,Vh),s=s+Math.imul(pn,wh)|0,Y=Y+Math.imul(pn,uu)|0,Y=Y+Math.imul(di,wh)|0,li=li+Math.imul(di,uu)|0;var $0=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+($0>>>26)|0,$0&=67108863,s=Math.imul(ci,Yo),Y=Math.imul(ci,Vh),Y=Y+Math.imul(Rn,Yo)|0,li=Math.imul(Rn,Vh),s=s+Math.imul($i,wh)|0,Y=Y+Math.imul($i,uu)|0,Y=Y+Math.imul(fn,wh)|0,li=li+Math.imul(fn,uu)|0,s=s+Math.imul(pn,Mh)|0,Y=Y+Math.imul(pn,qu)|0,Y=Y+Math.imul(di,Mh)|0,li=li+Math.imul(di,qu)|0;var D0=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(D0>>>26)|0,D0&=67108863,s=Math.imul(ho,Yo),Y=Math.imul(ho,Vh),Y=Y+Math.imul(qh,Yo)|0,li=Math.imul(qh,Vh),s=s+Math.imul(ci,wh)|0,Y=Y+Math.imul(ci,uu)|0,Y=Y+Math.imul(Rn,wh)|0,li=li+Math.imul(Rn,uu)|0,s=s+Math.imul($i,Mh)|0,Y=Y+Math.imul($i,qu)|0,Y=Y+Math.imul(fn,Mh)|0,li=li+Math.imul(fn,qu)|0,s=s+Math.imul(pn,Xf)|0,Y=Y+Math.imul(pn,Jh)|0,Y=Y+Math.imul(di,Xf)|0,li=li+Math.imul(di,Jh)|0;var F0=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(F0>>>26)|0,F0&=67108863,s=Math.imul(jo,Yo),Y=Math.imul(jo,Vh),Y=Y+Math.imul(jh,Yo)|0,li=Math.imul(jh,Vh),s=s+Math.imul(ho,wh)|0,Y=Y+Math.imul(ho,uu)|0,Y=Y+Math.imul(qh,wh)|0,li=li+Math.imul(qh,uu)|0,s=s+Math.imul(ci,Mh)|0,Y=Y+Math.imul(ci,qu)|0,Y=Y+Math.imul(Rn,Mh)|0,li=li+Math.imul(Rn,qu)|0,s=s+Math.imul($i,Xf)|0,Y=Y+Math.imul($i,Jh)|0,Y=Y+Math.imul(fn,Xf)|0,li=li+Math.imul(fn,Jh)|0,s=s+Math.imul(pn,ph)|0,Y=Y+Math.imul(pn,Qh)|0,Y=Y+Math.imul(di,ph)|0,li=li+Math.imul(di,Qh)|0;var tc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(tc>>>26)|0,tc&=67108863,s=Math.imul(tf,Yo),Y=Math.imul(tf,Vh),Y=Y+Math.imul(zh,Yo)|0,li=Math.imul(zh,Vh),s=s+Math.imul(jo,wh)|0,Y=Y+Math.imul(jo,uu)|0,Y=Y+Math.imul(jh,wh)|0,li=li+Math.imul(jh,uu)|0,s=s+Math.imul(ho,Mh)|0,Y=Y+Math.imul(ho,qu)|0,Y=Y+Math.imul(qh,Mh)|0,li=li+Math.imul(qh,qu)|0,s=s+Math.imul(ci,Xf)|0,Y=Y+Math.imul(ci,Jh)|0,Y=Y+Math.imul(Rn,Xf)|0,li=li+Math.imul(Rn,Jh)|0,s=s+Math.imul($i,ph)|0,Y=Y+Math.imul($i,Qh)|0,Y=Y+Math.imul(fn,ph)|0,li=li+Math.imul(fn,Qh)|0,s=s+Math.imul(pn,mh)|0,Y=Y+Math.imul(pn,su)|0,Y=Y+Math.imul(di,mh)|0,li=li+Math.imul(di,su)|0;var Ku=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,s=Math.imul(Uo,Yo),Y=Math.imul(Uo,Vh),Y=Y+Math.imul(Uh,Yo)|0,li=Math.imul(Uh,Vh),s=s+Math.imul(tf,wh)|0,Y=Y+Math.imul(tf,uu)|0,Y=Y+Math.imul(zh,wh)|0,li=li+Math.imul(zh,uu)|0,s=s+Math.imul(jo,Mh)|0,Y=Y+Math.imul(jo,qu)|0,Y=Y+Math.imul(jh,Mh)|0,li=li+Math.imul(jh,qu)|0,s=s+Math.imul(ho,Xf)|0,Y=Y+Math.imul(ho,Jh)|0,Y=Y+Math.imul(qh,Xf)|0,li=li+Math.imul(qh,Jh)|0,s=s+Math.imul(ci,ph)|0,Y=Y+Math.imul(ci,Qh)|0,Y=Y+Math.imul(Rn,ph)|0,li=li+Math.imul(Rn,Qh)|0,s=s+Math.imul($i,mh)|0,Y=Y+Math.imul($i,su)|0,Y=Y+Math.imul(fn,mh)|0,li=li+Math.imul(fn,su)|0,s=s+Math.imul(pn,gh)|0,Y=Y+Math.imul(pn,Xh)|0,Y=Y+Math.imul(di,gh)|0,li=li+Math.imul(di,Xh)|0;var sc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(sc>>>26)|0,sc&=67108863,s=Math.imul(qo,Yo),Y=Math.imul(qo,Vh),Y=Y+Math.imul(Fh,Yo)|0,li=Math.imul(Fh,Vh),s=s+Math.imul(Uo,wh)|0,Y=Y+Math.imul(Uo,uu)|0,Y=Y+Math.imul(Uh,wh)|0,li=li+Math.imul(Uh,uu)|0,s=s+Math.imul(tf,Mh)|0,Y=Y+Math.imul(tf,qu)|0,Y=Y+Math.imul(zh,Mh)|0,li=li+Math.imul(zh,qu)|0,s=s+Math.imul(jo,Xf)|0,Y=Y+Math.imul(jo,Jh)|0,Y=Y+Math.imul(jh,Xf)|0,li=li+Math.imul(jh,Jh)|0,s=s+Math.imul(ho,ph)|0,Y=Y+Math.imul(ho,Qh)|0,Y=Y+Math.imul(qh,ph)|0,li=li+Math.imul(qh,Qh)|0,s=s+Math.imul(ci,mh)|0,Y=Y+Math.imul(ci,su)|0,Y=Y+Math.imul(Rn,mh)|0,li=li+Math.imul(Rn,su)|0,s=s+Math.imul($i,gh)|0,Y=Y+Math.imul($i,Xh)|0,Y=Y+Math.imul(fn,gh)|0,li=li+Math.imul(fn,Xh)|0,s=s+Math.imul(pn,vh)|0,Y=Y+Math.imul(pn,Wh)|0,Y=Y+Math.imul(di,vh)|0,li=li+Math.imul(di,Wh)|0;var uc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(uc>>>26)|0,uc&=67108863,s=Math.imul(Fo,Yo),Y=Math.imul(Fo,Vh),Y=Y+Math.imul(Hh,Yo)|0,li=Math.imul(Hh,Vh),s=s+Math.imul(qo,wh)|0,Y=Y+Math.imul(qo,uu)|0,Y=Y+Math.imul(Fh,wh)|0,li=li+Math.imul(Fh,uu)|0,s=s+Math.imul(Uo,Mh)|0,Y=Y+Math.imul(Uo,qu)|0,Y=Y+Math.imul(Uh,Mh)|0,li=li+Math.imul(Uh,qu)|0,s=s+Math.imul(tf,Xf)|0,Y=Y+Math.imul(tf,Jh)|0,Y=Y+Math.imul(zh,Xf)|0,li=li+Math.imul(zh,Jh)|0,s=s+Math.imul(jo,ph)|0,Y=Y+Math.imul(jo,Qh)|0,Y=Y+Math.imul(jh,ph)|0,li=li+Math.imul(jh,Qh)|0,s=s+Math.imul(ho,mh)|0,Y=Y+Math.imul(ho,su)|0,Y=Y+Math.imul(qh,mh)|0,li=li+Math.imul(qh,su)|0,s=s+Math.imul(ci,gh)|0,Y=Y+Math.imul(ci,Xh)|0,Y=Y+Math.imul(Rn,gh)|0,li=li+Math.imul(Rn,Xh)|0,s=s+Math.imul($i,vh)|0,Y=Y+Math.imul($i,Wh)|0,Y=Y+Math.imul(fn,vh)|0,li=li+Math.imul(fn,Wh)|0,s=s+Math.imul(pn,bh)|0,Y=Y+Math.imul(pn,Uu)|0,Y=Y+Math.imul(di,bh)|0,li=li+Math.imul(di,Uu)|0;var ac=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(ac>>>26)|0,ac&=67108863,s=Math.imul(Ho,Yo),Y=Math.imul(Ho,Vh),Y=Y+Math.imul(Kh,Yo)|0,li=Math.imul(Kh,Vh),s=s+Math.imul(Fo,wh)|0,Y=Y+Math.imul(Fo,uu)|0,Y=Y+Math.imul(Hh,wh)|0,li=li+Math.imul(Hh,uu)|0,s=s+Math.imul(qo,Mh)|0,Y=Y+Math.imul(qo,qu)|0,Y=Y+Math.imul(Fh,Mh)|0,li=li+Math.imul(Fh,qu)|0,s=s+Math.imul(Uo,Xf)|0,Y=Y+Math.imul(Uo,Jh)|0,Y=Y+Math.imul(Uh,Xf)|0,li=li+Math.imul(Uh,Jh)|0,s=s+Math.imul(tf,ph)|0,Y=Y+Math.imul(tf,Qh)|0,Y=Y+Math.imul(zh,ph)|0,li=li+Math.imul(zh,Qh)|0,s=s+Math.imul(jo,mh)|0,Y=Y+Math.imul(jo,su)|0,Y=Y+Math.imul(jh,mh)|0,li=li+Math.imul(jh,su)|0,s=s+Math.imul(ho,gh)|0,Y=Y+Math.imul(ho,Xh)|0,Y=Y+Math.imul(qh,gh)|0,li=li+Math.imul(qh,Xh)|0,s=s+Math.imul(ci,vh)|0,Y=Y+Math.imul(ci,Wh)|0,Y=Y+Math.imul(Rn,vh)|0,li=li+Math.imul(Rn,Wh)|0,s=s+Math.imul($i,bh)|0,Y=Y+Math.imul($i,Uu)|0,Y=Y+Math.imul(fn,bh)|0,li=li+Math.imul(fn,Uu)|0,s=s+Math.imul(pn,$h)|0,Y=Y+Math.imul(pn,au)|0,Y=Y+Math.imul(di,$h)|0,li=li+Math.imul(di,au)|0;var cc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(cc>>>26)|0,cc&=67108863,s=Math.imul(Ho,wh),Y=Math.imul(Ho,uu),Y=Y+Math.imul(Kh,wh)|0,li=Math.imul(Kh,uu),s=s+Math.imul(Fo,Mh)|0,Y=Y+Math.imul(Fo,qu)|0,Y=Y+Math.imul(Hh,Mh)|0,li=li+Math.imul(Hh,qu)|0,s=s+Math.imul(qo,Xf)|0,Y=Y+Math.imul(qo,Jh)|0,Y=Y+Math.imul(Fh,Xf)|0,li=li+Math.imul(Fh,Jh)|0,s=s+Math.imul(Uo,ph)|0,Y=Y+Math.imul(Uo,Qh)|0,Y=Y+Math.imul(Uh,ph)|0,li=li+Math.imul(Uh,Qh)|0,s=s+Math.imul(tf,mh)|0,Y=Y+Math.imul(tf,su)|0,Y=Y+Math.imul(zh,mh)|0,li=li+Math.imul(zh,su)|0,s=s+Math.imul(jo,gh)|0,Y=Y+Math.imul(jo,Xh)|0,Y=Y+Math.imul(jh,gh)|0,li=li+Math.imul(jh,Xh)|0,s=s+Math.imul(ho,vh)|0,Y=Y+Math.imul(ho,Wh)|0,Y=Y+Math.imul(qh,vh)|0,li=li+Math.imul(qh,Wh)|0,s=s+Math.imul(ci,bh)|0,Y=Y+Math.imul(ci,Uu)|0,Y=Y+Math.imul(Rn,bh)|0,li=li+Math.imul(Rn,Uu)|0,s=s+Math.imul($i,$h)|0,Y=Y+Math.imul($i,au)|0,Y=Y+Math.imul(fn,$h)|0,li=li+Math.imul(fn,au)|0;var lc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(lc>>>26)|0,lc&=67108863,s=Math.imul(Ho,Mh),Y=Math.imul(Ho,qu),Y=Y+Math.imul(Kh,Mh)|0,li=Math.imul(Kh,qu),s=s+Math.imul(Fo,Xf)|0,Y=Y+Math.imul(Fo,Jh)|0,Y=Y+Math.imul(Hh,Xf)|0,li=li+Math.imul(Hh,Jh)|0,s=s+Math.imul(qo,ph)|0,Y=Y+Math.imul(qo,Qh)|0,Y=Y+Math.imul(Fh,ph)|0,li=li+Math.imul(Fh,Qh)|0,s=s+Math.imul(Uo,mh)|0,Y=Y+Math.imul(Uo,su)|0,Y=Y+Math.imul(Uh,mh)|0,li=li+Math.imul(Uh,su)|0,s=s+Math.imul(tf,gh)|0,Y=Y+Math.imul(tf,Xh)|0,Y=Y+Math.imul(zh,gh)|0,li=li+Math.imul(zh,Xh)|0,s=s+Math.imul(jo,vh)|0,Y=Y+Math.imul(jo,Wh)|0,Y=Y+Math.imul(jh,vh)|0,li=li+Math.imul(jh,Wh)|0,s=s+Math.imul(ho,bh)|0,Y=Y+Math.imul(ho,Uu)|0,Y=Y+Math.imul(qh,bh)|0,li=li+Math.imul(qh,Uu)|0,s=s+Math.imul(ci,$h)|0,Y=Y+Math.imul(ci,au)|0,Y=Y+Math.imul(Rn,$h)|0,li=li+Math.imul(Rn,au)|0;var oc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(oc>>>26)|0,oc&=67108863,s=Math.imul(Ho,Xf),Y=Math.imul(Ho,Jh),Y=Y+Math.imul(Kh,Xf)|0,li=Math.imul(Kh,Jh),s=s+Math.imul(Fo,ph)|0,Y=Y+Math.imul(Fo,Qh)|0,Y=Y+Math.imul(Hh,ph)|0,li=li+Math.imul(Hh,Qh)|0,s=s+Math.imul(qo,mh)|0,Y=Y+Math.imul(qo,su)|0,Y=Y+Math.imul(Fh,mh)|0,li=li+Math.imul(Fh,su)|0,s=s+Math.imul(Uo,gh)|0,Y=Y+Math.imul(Uo,Xh)|0,Y=Y+Math.imul(Uh,gh)|0,li=li+Math.imul(Uh,Xh)|0,s=s+Math.imul(tf,vh)|0,Y=Y+Math.imul(tf,Wh)|0,Y=Y+Math.imul(zh,vh)|0,li=li+Math.imul(zh,Wh)|0,s=s+Math.imul(jo,bh)|0,Y=Y+Math.imul(jo,Uu)|0,Y=Y+Math.imul(jh,bh)|0,li=li+Math.imul(jh,Uu)|0,s=s+Math.imul(ho,$h)|0,Y=Y+Math.imul(ho,au)|0,Y=Y+Math.imul(qh,$h)|0,li=li+Math.imul(qh,au)|0;var fc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(fc>>>26)|0,fc&=67108863,s=Math.imul(Ho,ph),Y=Math.imul(Ho,Qh),Y=Y+Math.imul(Kh,ph)|0,li=Math.imul(Kh,Qh),s=s+Math.imul(Fo,mh)|0,Y=Y+Math.imul(Fo,su)|0,Y=Y+Math.imul(Hh,mh)|0,li=li+Math.imul(Hh,su)|0,s=s+Math.imul(qo,gh)|0,Y=Y+Math.imul(qo,Xh)|0,Y=Y+Math.imul(Fh,gh)|0,li=li+Math.imul(Fh,Xh)|0,s=s+Math.imul(Uo,vh)|0,Y=Y+Math.imul(Uo,Wh)|0,Y=Y+Math.imul(Uh,vh)|0,li=li+Math.imul(Uh,Wh)|0,s=s+Math.imul(tf,bh)|0,Y=Y+Math.imul(tf,Uu)|0,Y=Y+Math.imul(zh,bh)|0,li=li+Math.imul(zh,Uu)|0,s=s+Math.imul(jo,$h)|0,Y=Y+Math.imul(jo,au)|0,Y=Y+Math.imul(jh,$h)|0,li=li+Math.imul(jh,au)|0;var hc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(hc>>>26)|0,hc&=67108863,s=Math.imul(Ho,mh),Y=Math.imul(Ho,su),Y=Y+Math.imul(Kh,mh)|0,li=Math.imul(Kh,su),s=s+Math.imul(Fo,gh)|0,Y=Y+Math.imul(Fo,Xh)|0,Y=Y+Math.imul(Hh,gh)|0,li=li+Math.imul(Hh,Xh)|0,s=s+Math.imul(qo,vh)|0,Y=Y+Math.imul(qo,Wh)|0,Y=Y+Math.imul(Fh,vh)|0,li=li+Math.imul(Fh,Wh)|0,s=s+Math.imul(Uo,bh)|0,Y=Y+Math.imul(Uo,Uu)|0,Y=Y+Math.imul(Uh,bh)|0,li=li+Math.imul(Uh,Uu)|0,s=s+Math.imul(tf,$h)|0,Y=Y+Math.imul(tf,au)|0,Y=Y+Math.imul(zh,$h)|0,li=li+Math.imul(zh,au)|0;var r0=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(r0>>>26)|0,r0&=67108863,s=Math.imul(Ho,gh),Y=Math.imul(Ho,Xh),Y=Y+Math.imul(Kh,gh)|0,li=Math.imul(Kh,Xh),s=s+Math.imul(Fo,vh)|0,Y=Y+Math.imul(Fo,Wh)|0,Y=Y+Math.imul(Hh,vh)|0,li=li+Math.imul(Hh,Wh)|0,s=s+Math.imul(qo,bh)|0,Y=Y+Math.imul(qo,Uu)|0,Y=Y+Math.imul(Fh,bh)|0,li=li+Math.imul(Fh,Uu)|0,s=s+Math.imul(Uo,$h)|0,Y=Y+Math.imul(Uo,au)|0,Y=Y+Math.imul(Uh,$h)|0,li=li+Math.imul(Uh,au)|0;var dc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(dc>>>26)|0,dc&=67108863,s=Math.imul(Ho,vh),Y=Math.imul(Ho,Wh),Y=Y+Math.imul(Kh,vh)|0,li=Math.imul(Kh,Wh),s=s+Math.imul(Fo,bh)|0,Y=Y+Math.imul(Fo,Uu)|0,Y=Y+Math.imul(Hh,bh)|0,li=li+Math.imul(Hh,Uu)|0,s=s+Math.imul(qo,$h)|0,Y=Y+Math.imul(qo,au)|0,Y=Y+Math.imul(Fh,$h)|0,li=li+Math.imul(Fh,au)|0;var pc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(pc>>>26)|0,pc&=67108863,s=Math.imul(Ho,bh),Y=Math.imul(Ho,Uu),Y=Y+Math.imul(Kh,bh)|0,li=Math.imul(Kh,Uu),s=s+Math.imul(Fo,$h)|0,Y=Y+Math.imul(Fo,au)|0,Y=Y+Math.imul(Hh,$h)|0,li=li+Math.imul(Hh,au)|0;var vc=(Ie+s|0)+((Y&8191)<<13)|0;Ie=(li+(Y>>>13)|0)+(vc>>>26)|0,vc&=67108863,s=Math.imul(Ho,$h),Y=Math.imul(Ho,au),Y=Y+Math.imul(Kh,$h)|0,li=Math.imul(Kh,au);var Fl=(Ie+s|0)+((Y&8191)<<13)|0;return Ie=(li+(Y>>>13)|0)+(Fl>>>26)|0,Fl&=67108863,ti[0]=f0,ti[1]=$0,ti[2]=D0,ti[3]=F0,ti[4]=tc,ti[5]=Ku,ti[6]=sc,ti[7]=uc,ti[8]=ac,ti[9]=cc,ti[10]=lc,ti[11]=oc,ti[12]=fc,ti[13]=hc,ti[14]=r0,ti[15]=dc,ti[16]=pc,ti[17]=vc,ti[18]=Fl,Ie!==0&&(ti[19]=Ie,G.length++),G};Math.imul||(nn=hn);function ln(o,H,G){G.negative=H.negative^o.negative,G.length=o.length+H.length;for(var Ne=0,Le=0,ti=0;ti<G.length-1;ti++){var Ie=Le;Le=0;for(var s=Ne&67108863,Y=Math.min(ti,H.length-1),li=Math.max(0,ti-o.length+1);li<=Y;li++){var un=ti-li,pn=o.words[un]|0,di=H.words[li]|0,An=pn*di,$i=An&67108863;Ie=Ie+(An/67108864|0)|0,$i=$i+s|0,s=$i&67108863,Ie=Ie+($i>>>26)|0,Le+=Ie>>>26,Ie&=67108863}G.words[ti]=s,Ne=Ie,Ie=Le}return Ne!==0?G.words[ti]=Ne:G.length--,G._strip()}function on(o,H,G){return ln(o,H,G)}R.prototype.mulTo=function(o,H){var G,Ne=this.length+o.length;return this.length===10&&o.length===10?G=nn(this,o,H):Ne<63?G=hn(this,o,H):Ne<1024?G=ln(this,o,H):G=on(this,o,H),G},R.prototype.mul=function(o){var H=new R(null);return H.words=new Array(this.length+o.length),this.mulTo(o,H)},R.prototype.mulf=function(o){var H=new R(null);return H.words=new Array(this.length+o.length),on(this,o,H)},R.prototype.imul=function(o){return this.clone().mulTo(o,this)},R.prototype.imuln=function(o){var H=o<0;H&&(o=-o),P(typeof o=="number"),P(o<67108864);for(var G=0,Ne=0;Ne<this.length;Ne++){var Le=(this.words[Ne]|0)*o,ti=(Le&67108863)+(G&67108863);G>>=26,G+=Le/67108864|0,G+=ti>>>26,this.words[Ne]=ti&67108863}return G!==0&&(this.words[Ne]=G,this.length++),H?this.ineg():this},R.prototype.muln=function(o){return this.clone().imuln(o)},R.prototype.sqr=function(){return this.mul(this)},R.prototype.isqr=function(){return this.imul(this.clone())},R.prototype.pow=function(o){var H=sn(o);if(H.length===0)return new R(1);for(var G=this,Ne=0;Ne<H.length&&H[Ne]===0;Ne++,G=G.sqr());if(++Ne<H.length)for(var Le=G.sqr();Ne<H.length;Ne++,Le=Le.sqr())H[Ne]!==0&&(G=G.mul(Le));return G},R.prototype.iushln=function(o){P(typeof o=="number"&&o>=0);var H=o%26,G=(o-H)/26,Ne=67108863>>>26-H<<26-H,Le;if(H!==0){var ti=0;for(Le=0;Le<this.length;Le++){var Ie=this.words[Le]&Ne,s=(this.words[Le]|0)-Ie<<H;this.words[Le]=s|ti,ti=Ie>>>26-H}ti&&(this.words[Le]=ti,this.length++)}if(G!==0){for(Le=this.length-1;Le>=0;Le--)this.words[Le+G]=this.words[Le];for(Le=0;Le<G;Le++)this.words[Le]=0;this.length+=G}return this._strip()},R.prototype.ishln=function(o){return P(this.negative===0),this.iushln(o)},R.prototype.iushrn=function(o,H,G){P(typeof o=="number"&&o>=0);var Ne;H?Ne=(H-H%26)/26:Ne=0;var Le=o%26,ti=Math.min((o-Le)/26,this.length),Ie=67108863^67108863>>>Le<<Le,s=G;if(Ne-=ti,Ne=Math.max(0,Ne),s){for(var Y=0;Y<ti;Y++)s.words[Y]=this.words[Y];s.length=ti}if(ti!==0)if(this.length>ti)for(this.length-=ti,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ti];else this.words[0]=0,this.length=1;var li=0;for(Y=this.length-1;Y>=0&&(li!==0||Y>=Ne);Y--){var un=this.words[Y]|0;this.words[Y]=li<<26-Le|un>>>Le,li=un&Ie}return s&&li!==0&&(s.words[s.length++]=li),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},R.prototype.ishrn=function(o,H,G){return P(this.negative===0),this.iushrn(o,H,G)},R.prototype.shln=function(o){return this.clone().ishln(o)},R.prototype.ushln=function(o){return this.clone().iushln(o)},R.prototype.shrn=function(o){return this.clone().ishrn(o)},R.prototype.ushrn=function(o){return this.clone().iushrn(o)},R.prototype.testn=function(o){P(typeof o=="number"&&o>=0);var H=o%26,G=(o-H)/26,Ne=1<<H;if(this.length<=G)return!1;var Le=this.words[G];return!!(Le&Ne)},R.prototype.imaskn=function(o){P(typeof o=="number"&&o>=0);var H=o%26,G=(o-H)/26;if(P(this.negative===0,"imaskn works only with positive numbers"),this.length<=G)return this;if(H!==0&&G++,this.length=Math.min(G,this.length),H!==0){var Ne=67108863^67108863>>>H<<H;this.words[this.length-1]&=Ne}return this._strip()},R.prototype.maskn=function(o){return this.clone().imaskn(o)},R.prototype.iaddn=function(o){return P(typeof o=="number"),P(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},R.prototype._iaddn=function(o){this.words[0]+=o;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},R.prototype.isubn=function(o){if(P(typeof o=="number"),P(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this._strip()},R.prototype.addn=function(o){return this.clone().iaddn(o)},R.prototype.subn=function(o){return this.clone().isubn(o)},R.prototype.iabs=function(){return this.negative=0,this},R.prototype.abs=function(){return this.clone().iabs()},R.prototype._ishlnsubmul=function(o,H,G){var Ne=o.length+G,Le;this._expand(Ne);var ti,Ie=0;for(Le=0;Le<o.length;Le++){ti=(this.words[Le+G]|0)+Ie;var s=(o.words[Le]|0)*H;ti-=s&67108863,Ie=(ti>>26)-(s/67108864|0),this.words[Le+G]=ti&67108863}for(;Le<this.length-G;Le++)ti=(this.words[Le+G]|0)+Ie,Ie=ti>>26,this.words[Le+G]=ti&67108863;if(Ie===0)return this._strip();for(P(Ie===-1),Ie=0,Le=0;Le<this.length;Le++)ti=-(this.words[Le]|0)+Ie,Ie=ti>>26,this.words[Le]=ti&67108863;return this.negative=1,this._strip()},R.prototype._wordDiv=function(o,H){var G=this.length-o.length,Ne=this.clone(),Le=o,ti=Le.words[Le.length-1]|0,Ie=this._countBits(ti);G=26-Ie,G!==0&&(Le=Le.ushln(G),Ne.iushln(G),ti=Le.words[Le.length-1]|0);var s=Ne.length-Le.length,Y;if(H!=="mod"){Y=new R(null),Y.length=s+1,Y.words=new Array(Y.length);for(var li=0;li<Y.length;li++)Y.words[li]=0}var un=Ne.clone()._ishlnsubmul(Le,1,s);un.negative===0&&(Ne=un,Y&&(Y.words[s]=1));for(var pn=s-1;pn>=0;pn--){var di=(Ne.words[Le.length+pn]|0)*67108864+(Ne.words[Le.length+pn-1]|0);for(di=Math.min(di/ti|0,67108863),Ne._ishlnsubmul(Le,di,pn);Ne.negative!==0;)di--,Ne.negative=0,Ne._ishlnsubmul(Le,1,pn),Ne.isZero()||(Ne.negative^=1);Y&&(Y.words[pn]=di)}return Y&&Y._strip(),Ne._strip(),H!=="div"&&G!==0&&Ne.iushrn(G),{div:Y||null,mod:Ne}},R.prototype.divmod=function(o,H,G){if(P(!o.isZero()),this.isZero())return{div:new R(0),mod:new R(0)};var Ne,Le,ti;return this.negative!==0&&o.negative===0?(ti=this.neg().divmod(o,H),H!=="mod"&&(Ne=ti.div.neg()),H!=="div"&&(Le=ti.mod.neg(),G&&Le.negative!==0&&Le.iadd(o)),{div:Ne,mod:Le}):this.negative===0&&o.negative!==0?(ti=this.divmod(o.neg(),H),H!=="mod"&&(Ne=ti.div.neg()),{div:Ne,mod:ti.mod}):this.negative&o.negative?(ti=this.neg().divmod(o.neg(),H),H!=="div"&&(Le=ti.mod.neg(),G&&Le.negative!==0&&Le.isub(o)),{div:ti.div,mod:Le}):o.length>this.length||this.cmp(o)<0?{div:new R(0),mod:this}:o.length===1?H==="div"?{div:this.divn(o.words[0]),mod:null}:H==="mod"?{div:null,mod:new R(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new R(this.modrn(o.words[0]))}:this._wordDiv(o,H)},R.prototype.div=function(o){return this.divmod(o,"div",!1).div},R.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},R.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},R.prototype.divRound=function(o){var H=this.divmod(o);if(H.mod.isZero())return H.div;var G=H.div.negative!==0?H.mod.isub(o):H.mod,Ne=o.ushrn(1),Le=o.andln(1),ti=G.cmp(Ne);return ti<0||Le===1&&ti===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},R.prototype.modrn=function(o){var H=o<0;H&&(o=-o),P(o<=67108863);for(var G=(1<<26)%o,Ne=0,Le=this.length-1;Le>=0;Le--)Ne=(G*Ne+(this.words[Le]|0))%o;return H?-Ne:Ne},R.prototype.modn=function(o){return this.modrn(o)},R.prototype.idivn=function(o){var H=o<0;H&&(o=-o),P(o<=67108863);for(var G=0,Ne=this.length-1;Ne>=0;Ne--){var Le=(this.words[Ne]|0)+G*67108864;this.words[Ne]=Le/o|0,G=Le%o}return this._strip(),H?this.ineg():this},R.prototype.divn=function(o){return this.clone().idivn(o)},R.prototype.egcd=function(o){P(o.negative===0),P(!o.isZero());var H=this,G=o.clone();H.negative!==0?H=H.umod(o):H=H.clone();for(var Ne=new R(1),Le=new R(0),ti=new R(0),Ie=new R(1),s=0;H.isEven()&&G.isEven();)H.iushrn(1),G.iushrn(1),++s;for(var Y=G.clone(),li=H.clone();!H.isZero();){for(var un=0,pn=1;!(H.words[0]&pn)&&un<26;++un,pn<<=1);if(un>0)for(H.iushrn(un);un-- >0;)(Ne.isOdd()||Le.isOdd())&&(Ne.iadd(Y),Le.isub(li)),Ne.iushrn(1),Le.iushrn(1);for(var di=0,An=1;!(G.words[0]&An)&&di<26;++di,An<<=1);if(di>0)for(G.iushrn(di);di-- >0;)(ti.isOdd()||Ie.isOdd())&&(ti.iadd(Y),Ie.isub(li)),ti.iushrn(1),Ie.iushrn(1);H.cmp(G)>=0?(H.isub(G),Ne.isub(ti),Le.isub(Ie)):(G.isub(H),ti.isub(Ne),Ie.isub(Le))}return{a:ti,b:Ie,gcd:G.iushln(s)}},R.prototype._invmp=function(o){P(o.negative===0),P(!o.isZero());var H=this,G=o.clone();H.negative!==0?H=H.umod(o):H=H.clone();for(var Ne=new R(1),Le=new R(0),ti=G.clone();H.cmpn(1)>0&&G.cmpn(1)>0;){for(var Ie=0,s=1;!(H.words[0]&s)&&Ie<26;++Ie,s<<=1);if(Ie>0)for(H.iushrn(Ie);Ie-- >0;)Ne.isOdd()&&Ne.iadd(ti),Ne.iushrn(1);for(var Y=0,li=1;!(G.words[0]&li)&&Y<26;++Y,li<<=1);if(Y>0)for(G.iushrn(Y);Y-- >0;)Le.isOdd()&&Le.iadd(ti),Le.iushrn(1);H.cmp(G)>=0?(H.isub(G),Ne.isub(Le)):(G.isub(H),Le.isub(Ne))}var un;return H.cmpn(1)===0?un=Ne:un=Le,un.cmpn(0)<0&&un.iadd(o),un},R.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var H=this.clone(),G=o.clone();H.negative=0,G.negative=0;for(var Ne=0;H.isEven()&&G.isEven();Ne++)H.iushrn(1),G.iushrn(1);do{for(;H.isEven();)H.iushrn(1);for(;G.isEven();)G.iushrn(1);var Le=H.cmp(G);if(Le<0){var ti=H;H=G,G=ti}else if(Le===0||G.cmpn(1)===0)break;H.isub(G)}while(!0);return G.iushln(Ne)},R.prototype.invm=function(o){return this.egcd(o).a.umod(o)},R.prototype.isEven=function(){return(this.words[0]&1)===0},R.prototype.isOdd=function(){return(this.words[0]&1)===1},R.prototype.andln=function(o){return this.words[0]&o},R.prototype.bincn=function(o){P(typeof o=="number");var H=o%26,G=(o-H)/26,Ne=1<<H;if(this.length<=G)return this._expand(G+1),this.words[G]|=Ne,this;for(var Le=Ne,ti=G;Le!==0&&ti<this.length;ti++){var Ie=this.words[ti]|0;Ie+=Le,Le=Ie>>>26,Ie&=67108863,this.words[ti]=Ie}return Le!==0&&(this.words[ti]=Le,this.length++),this},R.prototype.isZero=function(){return this.length===1&&this.words[0]===0},R.prototype.cmpn=function(o){var H=o<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this._strip();var G;if(this.length>1)G=1;else{H&&(o=-o),P(o<=67108863,"Number is too big");var Ne=this.words[0]|0;G=Ne===o?0:Ne<o?-1:1}return this.negative!==0?-G|0:G},R.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var H=this.ucmp(o);return this.negative!==0?-H|0:H},R.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var H=0,G=this.length-1;G>=0;G--){var Ne=this.words[G]|0,Le=o.words[G]|0;if(Ne!==Le){Ne<Le?H=-1:Ne>Le&&(H=1);break}}return H},R.prototype.gtn=function(o){return this.cmpn(o)===1},R.prototype.gt=function(o){return this.cmp(o)===1},R.prototype.gten=function(o){return this.cmpn(o)>=0},R.prototype.gte=function(o){return this.cmp(o)>=0},R.prototype.ltn=function(o){return this.cmpn(o)===-1},R.prototype.lt=function(o){return this.cmp(o)===-1},R.prototype.lten=function(o){return this.cmpn(o)<=0},R.prototype.lte=function(o){return this.cmp(o)<=0},R.prototype.eqn=function(o){return this.cmpn(o)===0},R.prototype.eq=function(o){return this.cmp(o)===0},R.red=function(o){return new ii(o)},R.prototype.toRed=function(o){return P(!this.red,"Already a number in reduction context"),P(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},R.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},R.prototype._forceRed=function(o){return this.red=o,this},R.prototype.forceRed=function(o){return P(!this.red,"Already a number in reduction context"),this._forceRed(o)},R.prototype.redAdd=function(o){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},R.prototype.redIAdd=function(o){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},R.prototype.redSub=function(o){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},R.prototype.redISub=function(o){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},R.prototype.redShl=function(o){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},R.prototype.redMul=function(o){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},R.prototype.redIMul=function(o){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},R.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},R.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},R.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},R.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},R.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},R.prototype.redPow=function(o){return P(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var vn={k256:null,p224:null,p192:null,p25519:null};function Mn(o,H){this.name=o,this.p=new R(H,16),this.n=this.p.bitLength(),this.k=new R(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mn.prototype._tmp=function(){var o=new R(null);return o.words=new Array(Math.ceil(this.n/13)),o},Mn.prototype.ireduce=function(o){var H=o,G;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),G=H.bitLength();while(G>this.n);var Ne=G<this.n?-1:H.ucmp(this.p);return Ne===0?(H.words[0]=0,H.length=1):Ne>0?H.isub(this.p):H.strip!==void 0?H.strip():H._strip(),H},Mn.prototype.split=function(o,H){o.iushrn(this.n,0,H)},Mn.prototype.imulK=function(o){return o.imul(this.k)};function mi(){Mn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}W(mi,Mn),mi.prototype.split=function(o,H){for(var G=4194303,Ne=Math.min(o.length,9),Le=0;Le<Ne;Le++)H.words[Le]=o.words[Le];if(H.length=Ne,o.length<=9){o.words[0]=0,o.length=1;return}var ti=o.words[9];for(H.words[H.length++]=ti&G,Le=10;Le<o.length;Le++){var Ie=o.words[Le]|0;o.words[Le-10]=(Ie&G)<<4|ti>>>22,ti=Ie}ti>>>=22,o.words[Le-10]=ti,ti===0&&o.length>10?o.length-=10:o.length-=9},mi.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var H=0,G=0;G<o.length;G++){var Ne=o.words[G]|0;H+=Ne*977,o.words[G]=H&67108863,H=Ne*64+(H/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function mn(){Mn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}W(mn,Mn);function Bn(){Mn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}W(Bn,Mn);function ko(){Mn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}W(ko,Mn),ko.prototype.imulK=function(o){for(var H=0,G=0;G<o.length;G++){var Ne=(o.words[G]|0)*19+H,Le=Ne&67108863;Ne>>>=26,o.words[G]=Le,H=Ne}return H!==0&&(o.words[o.length++]=H),o},R._prime=function(o){if(vn[o])return vn[o];var H;if(o==="k256")H=new mi;else if(o==="p224")H=new mn;else if(o==="p192")H=new Bn;else if(o==="p25519")H=new ko;else throw new Error("Unknown prime "+o);return vn[o]=H,H};function ii(o){if(typeof o=="string"){var H=R._prime(o);this.m=H.p,this.prime=H}else P(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}ii.prototype._verify1=function(o){P(o.negative===0,"red works only with positives"),P(o.red,"red works only with red numbers")},ii.prototype._verify2=function(o,H){P((o.negative|H.negative)===0,"red works only with positives"),P(o.red&&o.red===H.red,"red works only with red numbers")},ii.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(Zr(o,o.umod(this.m)._forceRed(this)),o)},ii.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},ii.prototype.add=function(o,H){this._verify2(o,H);var G=o.add(H);return G.cmp(this.m)>=0&&G.isub(this.m),G._forceRed(this)},ii.prototype.iadd=function(o,H){this._verify2(o,H);var G=o.iadd(H);return G.cmp(this.m)>=0&&G.isub(this.m),G},ii.prototype.sub=function(o,H){this._verify2(o,H);var G=o.sub(H);return G.cmpn(0)<0&&G.iadd(this.m),G._forceRed(this)},ii.prototype.isub=function(o,H){this._verify2(o,H);var G=o.isub(H);return G.cmpn(0)<0&&G.iadd(this.m),G},ii.prototype.shl=function(o,H){return this._verify1(o),this.imod(o.ushln(H))},ii.prototype.imul=function(o,H){return this._verify2(o,H),this.imod(o.imul(H))},ii.prototype.mul=function(o,H){return this._verify2(o,H),this.imod(o.mul(H))},ii.prototype.isqr=function(o){return this.imul(o,o.clone())},ii.prototype.sqr=function(o){return this.mul(o,o)},ii.prototype.sqrt=function(o){if(o.isZero())return o.clone();var H=this.m.andln(3);if(P(H%2===1),H===3){var G=this.m.add(new R(1)).iushrn(2);return this.pow(o,G)}for(var Ne=this.m.subn(1),Le=0;!Ne.isZero()&&Ne.andln(1)===0;)Le++,Ne.iushrn(1);P(!Ne.isZero());var ti=new R(1).toRed(this),Ie=ti.redNeg(),s=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new R(2*Y*Y).toRed(this);this.pow(Y,s).cmp(Ie)!==0;)Y.redIAdd(Ie);for(var li=this.pow(Y,Ne),un=this.pow(o,Ne.addn(1).iushrn(1)),pn=this.pow(o,Ne),di=Le;pn.cmp(ti)!==0;){for(var An=pn,$i=0;An.cmp(ti)!==0;$i++)An=An.redSqr();P($i<di);var fn=this.pow(li,new R(1).iushln(di-$i-1));un=un.redMul(fn),li=fn.redSqr(),pn=pn.redMul(li),di=$i}return un},ii.prototype.invm=function(o){var H=o._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},ii.prototype.pow=function(o,H){if(H.isZero())return new R(1).toRed(this);if(H.cmpn(1)===0)return o.clone();var G=4,Ne=new Array(1<<G);Ne[0]=new R(1).toRed(this),Ne[1]=o;for(var Le=2;Le<Ne.length;Le++)Ne[Le]=this.mul(Ne[Le-1],o);var ti=Ne[0],Ie=0,s=0,Y=H.bitLength()%26;for(Y===0&&(Y=26),Le=H.length-1;Le>=0;Le--){for(var li=H.words[Le],un=Y-1;un>=0;un--){var pn=li>>un&1;if(ti!==Ne[0]&&(ti=this.sqr(ti)),pn===0&&Ie===0){s=0;continue}Ie<<=1,Ie|=pn,s++,!(s!==G&&(Le!==0||un!==0))&&(ti=this.mul(ti,Ne[Ie]),s=0,Ie=0)}Y=26}return ti},ii.prototype.convertTo=function(o){var H=o.umod(this.m);return H===o?H.clone():H},ii.prototype.convertFrom=function(o){var H=o.clone();return H.red=null,H},R.mont=function(o){return new t(o)};function t(o){ii.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new R(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}W(t,ii),t.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},t.prototype.convertFrom=function(o){var H=this.imod(o.mul(this.rinv));return H.red=null,H},t.prototype.imul=function(o,H){if(o.isZero()||H.isZero())return o.words[0]=0,o.length=1,o;var G=o.imul(H),Ne=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Le=G.isub(Ne).iushrn(this.shift),ti=Le;return Le.cmp(this.m)>=0?ti=Le.isub(this.m):Le.cmpn(0)<0&&(ti=Le.iadd(this.m)),ti._forceRed(this)},t.prototype.mul=function(o,H){if(o.isZero()||H.isZero())return new R(0)._forceRed(this);var G=o.mul(H),Ne=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Le=G.isub(Ne).iushrn(this.shift),ti=Le;return Le.cmp(this.m)>=0?ti=Le.isub(this.m):Le.cmpn(0)<0&&(ti=Le.iadd(this.m)),ti._forceRed(this)},t.prototype.invm=function(o){var H=this.imod(o._invmp(this.m).mul(this.r2));return H._forceRed(this)}})(r,On)})(Ln);var K$2=Ln.exports;const jn="bignumber/5.7.0";var Rr$1=K$2.BN;const Ae=new L$3(jn),wi={},Qn=9007199254740991;function C0(r){return r!=null&&(V$1.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Qt(r)||typeof r=="bigint"||ir$1(r))}let Jn=!1,V$1=class gl{constructor(e,i){e!==wi&&Ae.throwError("cannot call constructor directly; use BigNumber.from",L$3.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=i,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Lt$1(j$2(this).fromTwos(e))}toTwos(e){return Lt$1(j$2(this).toTwos(e))}abs(){return this._hex[0]==="-"?gl.from(this._hex.substring(1)):this}add(e){return Lt$1(j$2(this).add(j$2(e)))}sub(e){return Lt$1(j$2(this).sub(j$2(e)))}div(e){return gl.from(e).isZero()&&Wt$2("division-by-zero","div"),Lt$1(j$2(this).div(j$2(e)))}mul(e){return Lt$1(j$2(this).mul(j$2(e)))}mod(e){const i=j$2(e);return i.isNeg()&&Wt$2("division-by-zero","mod"),Lt$1(j$2(this).umod(i))}pow(e){const i=j$2(e);return i.isNeg()&&Wt$2("negative-power","pow"),Lt$1(j$2(this).pow(i))}and(e){const i=j$2(e);return(this.isNegative()||i.isNeg())&&Wt$2("unbound-bitwise-result","and"),Lt$1(j$2(this).and(i))}or(e){const i=j$2(e);return(this.isNegative()||i.isNeg())&&Wt$2("unbound-bitwise-result","or"),Lt$1(j$2(this).or(i))}xor(e){const i=j$2(e);return(this.isNegative()||i.isNeg())&&Wt$2("unbound-bitwise-result","xor"),Lt$1(j$2(this).xor(i))}mask(e){return(this.isNegative()||e<0)&&Wt$2("negative-width","mask"),Lt$1(j$2(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Wt$2("negative-width","shl"),Lt$1(j$2(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Wt$2("negative-width","shr"),Lt$1(j$2(this).shrn(e))}eq(e){return j$2(this).eq(j$2(e))}lt(e){return j$2(this).lt(j$2(e))}lte(e){return j$2(this).lte(j$2(e))}gt(e){return j$2(this).gt(j$2(e))}gte(e){return j$2(this).gte(j$2(e))}isNegative(){return this._hex[0]==="-"}isZero(){return j$2(this).isZero()}toNumber(){try{return j$2(this).toNumber()}catch{Wt$2("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ae.throwError("this platform does not support BigInt",L$3.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Jn||(Jn=!0,Ae.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ae.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",L$3.errors.UNEXPECTED_ARGUMENT,{}):Ae.throwError("BigNumber.toString does not accept parameters",L$3.errors.UNEXPECTED_ARGUMENT,{})),j$2(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof gl)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new gl(wi,vr(e)):e.match(/^-?[0-9]+$/)?new gl(wi,vr(new Rr$1(e))):Ae.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Wt$2("underflow","BigNumber.from",e),(e>=Qn||e<=-Qn)&&Wt$2("overflow","BigNumber.from",e),gl.from(String(e));const i=e;if(typeof i=="bigint")return gl.from(i.toString());if(ir$1(i))return gl.from(Kt$1(i));if(i)if(i.toHexString){const P=i.toHexString();if(typeof P=="string")return gl.from(P)}else{let P=i._hex;if(P==null&&i.type==="BigNumber"&&(P=i.hex),typeof P=="string"&&(Qt(P)||P[0]==="-"&&Qt(P.substring(1))))return gl.from(P)}return Ae.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function vr(r){if(typeof r!="string")return vr(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Ae.throwArgumentError("invalid hex","value",r),r=vr(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Lt$1(r){return V$1.from(vr(r))}function j$2(r){const e=V$1.from(r).toHexString();return e[0]==="-"?new Rr$1("-"+e.substring(3),16):new Rr$1(e.substring(2),16)}function Wt$2(r,e,i){const P={fault:r,operation:e};return i!=null&&(P.value=i),Ae.throwError(r,L$3.errors.NUMERIC_FAULT,P)}function R0(r){return new Rr$1(r,36).toString(16)}const Ht$2=new L$3(jn),mr$1={},Gn=V$1.from(0),Yn=V$1.from(-1);function Vn$1(r,e,i,P){const W={fault:e,operation:i};return P!==void 0&&(W.value=P),Ht$2.throwError(r,L$3.errors.NUMERIC_FAULT,W)}let gr$1="0";for(;gr$1.length<256;)gr$1+=gr$1;function xi(r){if(typeof r!="number")try{r=V$1.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+gr$1.substring(0,r):Ht$2.throwArgumentError("invalid decimal size","decimals",r)}function Mi$1(r,e){e==null&&(e=0);const i=xi(e);r=V$1.from(r);const P=r.lt(Gn);P&&(r=r.mul(Yn));let W=r.mod(i).toString();for(;W.length<i.length-1;)W="0"+W;W=W.match(/^([0-9]*[1-9]|0)(0*)/)[1];const R=r.div(i).toString();return i.length===1?r=R:r=R+"."+W,P&&(r="-"+r),r}function be$1(r,e){e==null&&(e=0);const i=xi(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Ht$2.throwArgumentError("invalid decimal value","value",r);const P=r.substring(0,1)==="-";P&&(r=r.substring(1)),r==="."&&Ht$2.throwArgumentError("missing value","value",r);const W=r.split(".");W.length>2&&Ht$2.throwArgumentError("too many decimal points","value",r);let R=W[0],Wr=W[1];for(R||(R="0"),Wr||(Wr="0");Wr[Wr.length-1]==="0";)Wr=Wr.substring(0,Wr.length-1);for(Wr.length>i.length-1&&Vn$1("fractional component exceeds decimals","underflow","parseFixed"),Wr===""&&(Wr="0");Wr.length<i.length-1;)Wr+="0";const ei=V$1.from(R),ni=V$1.from(Wr);let Xr=ei.mul(i).add(ni);return P&&(Xr=Xr.mul(Yn)),Xr}let dr$1=class Qp{constructor(e,i,P,W){e!==mr$1&&Ht$2.throwError("cannot use FixedFormat constructor; use FixedFormat.from",L$3.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=i,this.width=P,this.decimals=W,this.name=(i?"":"u")+"fixed"+String(P)+"x"+String(W),this._multiplier=xi(W),Object.freeze(this)}static from(e){if(e instanceof Qp)return e;typeof e=="number"&&(e=`fixed128x${e}`);let i=!0,P=128,W=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")i=!1;else{const R=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);R||Ht$2.throwArgumentError("invalid fixed format","format",e),i=R[1]!=="u",P=parseInt(R[2]),W=parseInt(R[3])}}else if(e){const R=(Wr,ei,ni)=>e[Wr]==null?ni:(typeof e[Wr]!==ei&&Ht$2.throwArgumentError("invalid fixed format ("+Wr+" not "+ei+")","format."+Wr,e[Wr]),e[Wr]);i=R("signed","boolean",i),P=R("width","number",P),W=R("decimals","number",W)}return P%8&&Ht$2.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",P),W>80&&Ht$2.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",W),new Qp(mr$1,i,P,W)}},Ut$1=class Vc{constructor(e,i,P,W){e!==mr$1&&Ht$2.throwError("cannot use FixedNumber constructor; use FixedNumber.from",L$3.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=W,this._hex=i,this._value=P,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ht$2.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const i=be$1(this._value,this.format.decimals),P=be$1(e._value,e.format.decimals);return Vc.fromValue(i.add(P),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const i=be$1(this._value,this.format.decimals),P=be$1(e._value,e.format.decimals);return Vc.fromValue(i.sub(P),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const i=be$1(this._value,this.format.decimals),P=be$1(e._value,e.format.decimals);return Vc.fromValue(i.mul(P).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const i=be$1(this._value,this.format.decimals),P=be$1(e._value,e.format.decimals);return Vc.fromValue(i.mul(this.format._multiplier).div(P),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let i=Vc.from(e[0],this.format);const P=!e[1].match(/^(0*)$/);return this.isNegative()&&P&&(i=i.subUnsafe(Wn.toFormat(i.format))),i}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let i=Vc.from(e[0],this.format);const P=!e[1].match(/^(0*)$/);return!this.isNegative()&&P&&(i=i.addUnsafe(Wn.toFormat(i.format))),i}round(e){e==null&&(e=0);const i=this.toString().split(".");if(i.length===1&&i.push("0"),(e<0||e>80||e%1)&&Ht$2.throwArgumentError("invalid decimal count","decimals",e),i[1].length<=e)return this;const P=Vc.from("1"+gr$1.substring(0,e),this.format),W=O0.toFormat(this.format);return this.mulUnsafe(P).addUnsafe(W).floor().divUnsafe(P)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Ht$2.throwArgumentError("invalid byte width","width",e);const i=V$1.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return oe(i,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Vc.fromString(this._value,e)}static fromValue(e,i,P){return P==null&&i!=null&&!C0(i)&&(P=i,i=null),i==null&&(i=0),P==null&&(P="fixed"),Vc.fromString(Mi$1(e,i),dr$1.from(P))}static fromString(e,i){i==null&&(i="fixed");const P=dr$1.from(i),W=be$1(e,P.decimals);!P.signed&&W.lt(Gn)&&Vn$1("unsigned value cannot be negative","overflow","value",e);let R=null;P.signed?R=W.toTwos(P.width).toHexString():(R=W.toHexString(),R=oe(R,P.width/8));const Wr=Mi$1(W,P.decimals);return new Vc(mr$1,R,Wr,P)}static fromBytes(e,i){i==null&&(i="fixed");const P=dr$1.from(i);if(Ot$1(e).length>P.width/8)throw new Error("overflow");let W=V$1.from(e);P.signed&&(W=W.fromTwos(P.width));const R=W.toTwos((P.signed?0:1)+P.width).toHexString(),Wr=Mi$1(W,P.decimals);return new Vc(mr$1,R,Wr,P)}static from(e,i){if(typeof e=="string")return Vc.fromString(e,i);if(ir$1(e))return Vc.fromBytes(e,i);try{return Vc.fromValue(e,0,i)}catch(P){if(P.code!==L$3.errors.INVALID_ARGUMENT)throw P}return Ht$2.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}};const Wn=Ut$1.from(1),O0=Ut$1.from("0.5"),P0="strings/5.7.0",Xn=new L$3(P0);var Or$1;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Or$1||(Or$1={}));var nr$1;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(nr$1||(nr$1={}));function Ei(r,e=Or$1.current){e!=Or$1.current&&(Xn.checkNormalize(),r=r.normalize(e));let i=[];for(let P=0;P<r.length;P++){const W=r.charCodeAt(P);if(W<128)i.push(W);else if(W<2048)i.push(W>>6|192),i.push(W&63|128);else if((W&64512)==55296){P++;const R=r.charCodeAt(P);if(P>=r.length||(R&64512)!==56320)throw new Error("invalid utf-8 string");const Wr=65536+((W&1023)<<10)+(R&1023);i.push(Wr>>18|240),i.push(Wr>>12&63|128),i.push(Wr>>6&63|128),i.push(Wr&63|128)}else i.push(W>>12|224),i.push(W>>6&63|128),i.push(W&63|128)}return Ot$1(i)}function T0(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let i=0;i<r.length;i+=4)e.push(parseInt(r.substring(i,i+4),16));return e}function Si(r,e){e||(e=function(W){return[parseInt(W,16)]});let i=0,P={};return r.split(",").forEach(W=>{let R=W.split(":");i+=parseInt(R[0],16),P[i]=e(R[1])}),P}function $n(r){let e=0;return r.split(",").map(i=>{let P=i.split("-");P.length===1?P[1]="0":P[1]===""&&(P[1]="1");let W=e+parseInt(P[0],16);return e=parseInt(P[1],16),{l:W,h:e}})}$n("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),Si("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Si("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Si("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",T0),$n("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function U0(r){r=atob(r);const e=[];for(let i=0;i<r.length;i++)e.push(r.charCodeAt(i));return Ot$1(e)}function ef(r,e){e==null&&(e=1);const i=[],P=i.forEach,W=function(R,Wr){P.call(R,function(ei){Wr>0&&Array.isArray(ei)?W(ei,Wr-1):i.push(ei)})};return W(r,e),i}function k0(r){const e={};for(let i=0;i<r.length;i++){const P=r[i];e[P[0]]=P[1]}return e}function q0(r){let e=0;function i(){return r[e++]<<8|r[e++]}let P=i(),W=1,R=[0,1];for(let vn=1;vn<P;vn++)R.push(W+=i());let Wr=i(),ei=e;e+=Wr;let ni=0,Xr=0;function Zr(){return ni==0&&(Xr=Xr<<8|r[e++],ni=8),Xr>>--ni&1}const si=31,oi=Math.pow(2,si),ai=oi>>>1,fi=ai>>1,ui=oi-1;let sn=0;for(let vn=0;vn<si;vn++)sn=sn<<1|Zr();let hn=[],nn=0,ln=oi;for(;;){let vn=Math.floor(((sn-nn+1)*W-1)/ln),Mn=0,mi=P;for(;mi-Mn>1;){let ko=Mn+mi>>>1;vn<R[ko]?mi=ko:Mn=ko}if(Mn==0)break;hn.push(Mn);let mn=nn+Math.floor(ln*R[Mn]/W),Bn=nn+Math.floor(ln*R[Mn+1]/W)-1;for(;!((mn^Bn)&ai);)sn=sn<<1&ui|Zr(),mn=mn<<1&ui,Bn=Bn<<1&ui|1;for(;mn&~Bn&fi;)sn=sn&ai|sn<<1&ui>>>1|Zr(),mn=mn<<1^ai,Bn=(Bn^ai)<<1|ai|1;nn=mn,ln=1+Bn-mn}let on=P-4;return hn.map(vn=>{switch(vn-on){case 3:return on+65792+(r[ei++]<<16|r[ei++]<<8|r[ei++]);case 2:return on+256+(r[ei++]<<8|r[ei++]);case 1:return on+r[ei++];default:return vn-1}})}function K0(r){let e=0;return()=>r[e++]}function H0(r){return K0(q0(r))}function z0(r){return r&1?~r>>1:r>>1}function L0(r,e){let i=Array(r);for(let P=0;P<r;P++)i[P]=1+e();return i}function rf(r,e){let i=Array(r);for(let P=0,W=-1;P<r;P++)i[P]=W+=1+e();return i}function j0(r,e){let i=Array(r);for(let P=0,W=0;P<r;P++)i[P]=W+=z0(e());return i}function Pr$1(r,e){let i=rf(r(),r),P=r(),W=rf(P,r),R=L0(P,r);for(let Wr=0;Wr<P;Wr++)for(let ei=0;ei<R[Wr];ei++)i.push(W[Wr]+ei);return e?i.map(Wr=>e[Wr]):i}function Q0(r){let e=[];for(;;){let i=r();if(i==0)break;e.push(G0(i,r))}for(;;){let i=r()-1;if(i<0)break;e.push(Y0(i,r))}return k0(ef(e))}function J0(r){let e=[];for(;;){let i=r();if(i==0)break;e.push(i)}return e}function nf(r,e,i){let P=Array(r).fill(void 0).map(()=>[]);for(let W=0;W<e;W++)j0(r,i).forEach((R,Wr)=>P[Wr].push(R));return P}function G0(r,e){let i=1+e(),P=e(),W=J0(e),R=nf(W.length,1+r,e);return ef(R.map((Wr,ei)=>{const ni=Wr[0],Xr=Wr.slice(1);return Array(W[ei]).fill(void 0).map((Zr,si)=>{let oi=si*P;return[ni+si*i,Xr.map(ai=>ai+oi)]})}))}function Y0(r,e){let i=1+e();return nf(i,1+r,e).map(P=>[P[0],P.slice(1)])}function V0(r){let e=Pr$1(r).sort((P,W)=>P-W);return i();function i(){let P=[];for(;;){let Xr=Pr$1(r,e);if(Xr.length==0)break;P.push({set:new Set(Xr),node:i()})}P.sort((Xr,Zr)=>Zr.set.size-Xr.set.size);let W=r(),R=W%3;W=W/3|0;let Wr=!!(W&1);W>>=1;let ei=W==1,ni=W==2;return{branches:P,valid:R,fe0f:Wr,save:ei,check:ni}}}function W0(){return H0(U0("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Dr$1=W0();new Set(Pr$1(Dr$1)),new Set(Pr$1(Dr$1)),Q0(Dr$1),V0(Dr$1);const X0=new Uint8Array(32);X0.fill(0);const Z0=`Ethereum Signed Message:
`;function ff(r){return typeof r=="string"&&(r=Ei(r)),yi(E0([Ei(Z0),Ei(String(r.length)),r]))}const ts$2="address/5.7.0",Ar$1=new L$3(ts$2);function of(r){Qt(r,20)||Ar$1.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),i=new Uint8Array(40);for(let W=0;W<40;W++)i[W]=e[W].charCodeAt(0);const P=Ot$1(yi(i));for(let W=0;W<40;W+=2)P[W>>1]>>4>=8&&(e[W]=e[W].toUpperCase()),(P[W>>1]&15)>=8&&(e[W+1]=e[W+1].toUpperCase());return"0x"+e.join("")}const es$2=9007199254740991;function rs$2(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Ni={};for(let r=0;r<10;r++)Ni[String(r)]=String(r);for(let r=0;r<26;r++)Ni[String.fromCharCode(65+r)]=String(10+r);const sf=Math.floor(rs$2(es$2));function is$2(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(P=>Ni[P]).join("");for(;e.length>=sf;){let P=e.substring(0,sf);e=parseInt(P,10)%97+e.substring(P.length)}let i=String(98-parseInt(e,10)%97);for(;i.length<2;)i="0"+i;return i}function ns$1(r){let e=null;if(typeof r!="string"&&Ar$1.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=of(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Ar$1.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==is$2(r)&&Ar$1.throwArgumentError("bad icap checksum","address",r),e=R0(r.substring(4));e.length<40;)e="0"+e;e=of("0x"+e)}else Ar$1.throwArgumentError("invalid address","address",r);return e}function br$1(r,e,i){Object.defineProperty(r,e,{enumerable:!0,value:i,writable:!1})}const os$1=new Uint8Array(32);os$1.fill(0),V$1.from(-1);const ss$2=V$1.from(0),as$1=V$1.from(1);V$1.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),oe(as$1.toHexString(),32),oe(ss$2.toHexString(),32);var se$1={},Q$2={},yr$1=af;function af(r,e){if(!r)throw new Error(e||"Assertion failed")}af.equal=function(r,e,i){if(r!=e)throw new Error(i||"Assertion failed: "+r+" != "+e)};var Ii={exports:{}};typeof Object.create=="function"?Ii.exports=function(r,e){e&&(r.super_=e,r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:Ii.exports=function(r,e){if(e){r.super_=e;var i=function(){};i.prototype=e.prototype,r.prototype=new i,r.prototype.constructor=r}};var us$1=yr$1,hs$1=Ii.exports;Q$2.inherits=hs$1;function cs$1(r,e){return(r.charCodeAt(e)&64512)!==55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)===56320}function ls$1(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var i=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),W=0;W<r.length;W+=2)i.push(parseInt(r[W]+r[W+1],16))}else for(var P=0,W=0;W<r.length;W++){var R=r.charCodeAt(W);R<128?i[P++]=R:R<2048?(i[P++]=R>>6|192,i[P++]=R&63|128):cs$1(r,W)?(R=65536+((R&1023)<<10)+(r.charCodeAt(++W)&1023),i[P++]=R>>18|240,i[P++]=R>>12&63|128,i[P++]=R>>6&63|128,i[P++]=R&63|128):(i[P++]=R>>12|224,i[P++]=R>>6&63|128,i[P++]=R&63|128)}else for(W=0;W<r.length;W++)i[W]=r[W]|0;return i}Q$2.toArray=ls$1;function ds$1(r){for(var e="",i=0;i<r.length;i++)e+=hf(r[i].toString(16));return e}Q$2.toHex=ds$1;function uf(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}Q$2.htonl=uf;function ps$1(r,e){for(var i="",P=0;P<r.length;P++){var W=r[P];e==="little"&&(W=uf(W)),i+=cf(W.toString(16))}return i}Q$2.toHex32=ps$1;function hf(r){return r.length===1?"0"+r:r}Q$2.zero2=hf;function cf(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}Q$2.zero8=cf;function vs$1(r,e,i,P){var W=i-e;us$1(W%4===0);for(var R=new Array(W/4),Wr=0,ei=e;Wr<R.length;Wr++,ei+=4){var ni;P==="big"?ni=r[ei]<<24|r[ei+1]<<16|r[ei+2]<<8|r[ei+3]:ni=r[ei+3]<<24|r[ei+2]<<16|r[ei+1]<<8|r[ei],R[Wr]=ni>>>0}return R}Q$2.join32=vs$1;function ms$1(r,e){for(var i=new Array(r.length*4),P=0,W=0;P<r.length;P++,W+=4){var R=r[P];e==="big"?(i[W]=R>>>24,i[W+1]=R>>>16&255,i[W+2]=R>>>8&255,i[W+3]=R&255):(i[W+3]=R>>>24,i[W+2]=R>>>16&255,i[W+1]=R>>>8&255,i[W]=R&255)}return i}Q$2.split32=ms$1;function gs$1(r,e){return r>>>e|r<<32-e}Q$2.rotr32=gs$1;function As$1(r,e){return r<<e|r>>>32-e}Q$2.rotl32=As$1;function bs$1(r,e){return r+e>>>0}Q$2.sum32=bs$1;function ys$1(r,e,i){return r+e+i>>>0}Q$2.sum32_3=ys$1;function ws$1(r,e,i,P){return r+e+i+P>>>0}Q$2.sum32_4=ws$1;function xs$1(r,e,i,P,W){return r+e+i+P+W>>>0}Q$2.sum32_5=xs$1;function Ms$1(r,e,i,P){var W=r[e],R=r[e+1],Wr=P+R>>>0,ei=(Wr<P?1:0)+i+W;r[e]=ei>>>0,r[e+1]=Wr}Q$2.sum64=Ms$1;function Es$1(r,e,i,P){var W=e+P>>>0,R=(W<e?1:0)+r+i;return R>>>0}Q$2.sum64_hi=Es$1;function Ss$1(r,e,i,P){var W=e+P;return W>>>0}Q$2.sum64_lo=Ss$1;function Ns$1(r,e,i,P,W,R,Wr,ei){var ni=0,Xr=e;Xr=Xr+P>>>0,ni+=Xr<e?1:0,Xr=Xr+R>>>0,ni+=Xr<R?1:0,Xr=Xr+ei>>>0,ni+=Xr<ei?1:0;var Zr=r+i+W+Wr+ni;return Zr>>>0}Q$2.sum64_4_hi=Ns$1;function Is$1(r,e,i,P,W,R,Wr,ei){var ni=e+P+R+ei;return ni>>>0}Q$2.sum64_4_lo=Is$1;function _s$1(r,e,i,P,W,R,Wr,ei,ni,Xr){var Zr=0,si=e;si=si+P>>>0,Zr+=si<e?1:0,si=si+R>>>0,Zr+=si<R?1:0,si=si+ei>>>0,Zr+=si<ei?1:0,si=si+Xr>>>0,Zr+=si<Xr?1:0;var oi=r+i+W+Wr+ni+Zr;return oi>>>0}Q$2.sum64_5_hi=_s$1;function Bs$1(r,e,i,P,W,R,Wr,ei,ni,Xr){var Zr=e+P+R+ei+Xr;return Zr>>>0}Q$2.sum64_5_lo=Bs$1;function Cs$1(r,e,i){var P=e<<32-i|r>>>i;return P>>>0}Q$2.rotr64_hi=Cs$1;function Rs$1(r,e,i){var P=r<<32-i|e>>>i;return P>>>0}Q$2.rotr64_lo=Rs$1;function Os$1(r,e,i){return r>>>i}Q$2.shr64_hi=Os$1;function Ps$1(r,e,i){var P=r<<32-i|e>>>i;return P>>>0}Q$2.shr64_lo=Ps$1;var fr={},lf=Q$2,Ds$1=yr$1;function Fr$1(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}fr.BlockHash=Fr$1,Fr$1.prototype.update=function(r,e){if(r=lf.toArray(r,e),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var i=r.length%this._delta8;this.pending=r.slice(r.length-i,r.length),this.pending.length===0&&(this.pending=null),r=lf.join32(r,0,r.length-i,this.endian);for(var P=0;P<r.length;P+=this._delta32)this._update(r,P,P+this._delta32)}return this},Fr$1.prototype.digest=function(r){return this.update(this._pad()),Ds$1(this.pending===null),this._digest(r)},Fr$1.prototype._pad=function(){var r=this.pendingTotal,e=this._delta8,i=e-(r+this.padLength)%e,P=new Array(i+this.padLength);P[0]=128;for(var W=1;W<i;W++)P[W]=0;if(r<<=3,this.endian==="big"){for(var R=8;R<this.padLength;R++)P[W++]=0;P[W++]=0,P[W++]=0,P[W++]=0,P[W++]=0,P[W++]=r>>>24&255,P[W++]=r>>>16&255,P[W++]=r>>>8&255,P[W++]=r&255}else for(P[W++]=r&255,P[W++]=r>>>8&255,P[W++]=r>>>16&255,P[W++]=r>>>24&255,P[W++]=0,P[W++]=0,P[W++]=0,P[W++]=0,R=8;R<this.padLength;R++)P[W++]=0;return P};var or$1={},ae={},Fs$1=Q$2,ue=Fs$1.rotr32;function Ts$1(r,e,i,P){if(r===0)return df(e,i,P);if(r===1||r===3)return vf(e,i,P);if(r===2)return pf(e,i,P)}ae.ft_1=Ts$1;function df(r,e,i){return r&e^~r&i}ae.ch32=df;function pf(r,e,i){return r&e^r&i^e&i}ae.maj32=pf;function vf(r,e,i){return r^e^i}ae.p32=vf;function Us$1(r){return ue(r,2)^ue(r,13)^ue(r,22)}ae.s0_256=Us$1;function ks$1(r){return ue(r,6)^ue(r,11)^ue(r,25)}ae.s1_256=ks$1;function qs$1(r){return ue(r,7)^ue(r,18)^r>>>3}ae.g0_256=qs$1;function Ks$1(r){return ue(r,17)^ue(r,19)^r>>>10}ae.g1_256=Ks$1;var sr$1=Q$2,Hs$1=fr,zs$1=ae,_i=sr$1.rotl32,wr=sr$1.sum32,Ls$1=sr$1.sum32_5,js$1=zs$1.ft_1,mf=Hs$1.BlockHash,Qs$1=[1518500249,1859775393,2400959708,3395469782];function he(){if(!(this instanceof he))return new he;mf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}sr$1.inherits(he,mf);var Js$1=he;he.blockSize=512,he.outSize=160,he.hmacStrength=80,he.padLength=64,he.prototype._update=function(r,e){for(var i=this.W,P=0;P<16;P++)i[P]=r[e+P];for(;P<i.length;P++)i[P]=_i(i[P-3]^i[P-8]^i[P-14]^i[P-16],1);var W=this.h[0],R=this.h[1],Wr=this.h[2],ei=this.h[3],ni=this.h[4];for(P=0;P<i.length;P++){var Xr=~~(P/20),Zr=Ls$1(_i(W,5),js$1(Xr,R,Wr,ei),ni,i[P],Qs$1[Xr]);ni=ei,ei=Wr,Wr=_i(R,30),R=W,W=Zr}this.h[0]=wr(this.h[0],W),this.h[1]=wr(this.h[1],R),this.h[2]=wr(this.h[2],Wr),this.h[3]=wr(this.h[3],ei),this.h[4]=wr(this.h[4],ni)},he.prototype._digest=function(r){return r==="hex"?sr$1.toHex32(this.h,"big"):sr$1.split32(this.h,"big")};var ar$1=Q$2,Gs$1=fr,ur$1=ae,Ys$1=yr$1,ie$2=ar$1.sum32,Vs$1=ar$1.sum32_4,Ws$1=ar$1.sum32_5,Xs$1=ur$1.ch32,Zs$1=ur$1.maj32,$s$1=ur$1.s0_256,ta=ur$1.s1_256,ea=ur$1.g0_256,ra=ur$1.g1_256,gf=Gs$1.BlockHash,ia=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ce(){if(!(this instanceof ce))return new ce;gf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ia,this.W=new Array(64)}ar$1.inherits(ce,gf);var Af=ce;ce.blockSize=512,ce.outSize=256,ce.hmacStrength=192,ce.padLength=64,ce.prototype._update=function(r,e){for(var i=this.W,P=0;P<16;P++)i[P]=r[e+P];for(;P<i.length;P++)i[P]=Vs$1(ra(i[P-2]),i[P-7],ea(i[P-15]),i[P-16]);var W=this.h[0],R=this.h[1],Wr=this.h[2],ei=this.h[3],ni=this.h[4],Xr=this.h[5],Zr=this.h[6],si=this.h[7];for(Ys$1(this.k.length===i.length),P=0;P<i.length;P++){var oi=Ws$1(si,ta(ni),Xs$1(ni,Xr,Zr),this.k[P],i[P]),ai=ie$2($s$1(W),Zs$1(W,R,Wr));si=Zr,Zr=Xr,Xr=ni,ni=ie$2(ei,oi),ei=Wr,Wr=R,R=W,W=ie$2(oi,ai)}this.h[0]=ie$2(this.h[0],W),this.h[1]=ie$2(this.h[1],R),this.h[2]=ie$2(this.h[2],Wr),this.h[3]=ie$2(this.h[3],ei),this.h[4]=ie$2(this.h[4],ni),this.h[5]=ie$2(this.h[5],Xr),this.h[6]=ie$2(this.h[6],Zr),this.h[7]=ie$2(this.h[7],si)},ce.prototype._digest=function(r){return r==="hex"?ar$1.toHex32(this.h,"big"):ar$1.split32(this.h,"big")};var Bi=Q$2,bf=Af;function ye$1(){if(!(this instanceof ye$1))return new ye$1;bf.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Bi.inherits(ye$1,bf);var na=ye$1;ye$1.blockSize=512,ye$1.outSize=224,ye$1.hmacStrength=192,ye$1.padLength=64,ye$1.prototype._digest=function(r){return r==="hex"?Bi.toHex32(this.h.slice(0,7),"big"):Bi.split32(this.h.slice(0,7),"big")};var jt$1=Q$2,fa=fr,oa=yr$1,le=jt$1.rotr64_hi,de$1=jt$1.rotr64_lo,yf=jt$1.shr64_hi,wf=jt$1.shr64_lo,Be$2=jt$1.sum64,Ci=jt$1.sum64_hi,Ri=jt$1.sum64_lo,sa=jt$1.sum64_4_hi,aa=jt$1.sum64_4_lo,ua=jt$1.sum64_5_hi,ha=jt$1.sum64_5_lo,xf=fa.BlockHash,ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ne$1(){if(!(this instanceof ne$1))return new ne$1;xf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ca,this.W=new Array(160)}jt$1.inherits(ne$1,xf);var Mf=ne$1;ne$1.blockSize=1024,ne$1.outSize=512,ne$1.hmacStrength=192,ne$1.padLength=128,ne$1.prototype._prepareBlock=function(r,e){for(var i=this.W,P=0;P<32;P++)i[P]=r[e+P];for(;P<i.length;P+=2){var W=xa$1(i[P-4],i[P-3]),R=Ma(i[P-4],i[P-3]),Wr=i[P-14],ei=i[P-13],ni=ya$1(i[P-30],i[P-29]),Xr=wa(i[P-30],i[P-29]),Zr=i[P-32],si=i[P-31];i[P]=sa(W,R,Wr,ei,ni,Xr,Zr,si),i[P+1]=aa(W,R,Wr,ei,ni,Xr,Zr,si)}},ne$1.prototype._update=function(r,e){this._prepareBlock(r,e);var i=this.W,P=this.h[0],W=this.h[1],R=this.h[2],Wr=this.h[3],ei=this.h[4],ni=this.h[5],Xr=this.h[6],Zr=this.h[7],si=this.h[8],oi=this.h[9],ai=this.h[10],fi=this.h[11],ui=this.h[12],sn=this.h[13],hn=this.h[14],nn=this.h[15];oa(this.k.length===i.length);for(var ln=0;ln<i.length;ln+=2){var on=hn,vn=nn,Mn=Aa(si,oi),mi=ba$1(si,oi),mn=la(si,oi,ai,fi,ui),Bn=da(si,oi,ai,fi,ui,sn),ko=this.k[ln],ii=this.k[ln+1],t=i[ln],o=i[ln+1],H=ua(on,vn,Mn,mi,mn,Bn,ko,ii,t,o),G=ha(on,vn,Mn,mi,mn,Bn,ko,ii,t,o);on=ma(P,W),vn=ga(P,W),Mn=pa(P,W,R,Wr,ei),mi=va(P,W,R,Wr,ei,ni);var Ne=Ci(on,vn,Mn,mi),Le=Ri(on,vn,Mn,mi);hn=ui,nn=sn,ui=ai,sn=fi,ai=si,fi=oi,si=Ci(Xr,Zr,H,G),oi=Ri(Zr,Zr,H,G),Xr=ei,Zr=ni,ei=R,ni=Wr,R=P,Wr=W,P=Ci(H,G,Ne,Le),W=Ri(H,G,Ne,Le)}Be$2(this.h,0,P,W),Be$2(this.h,2,R,Wr),Be$2(this.h,4,ei,ni),Be$2(this.h,6,Xr,Zr),Be$2(this.h,8,si,oi),Be$2(this.h,10,ai,fi),Be$2(this.h,12,ui,sn),Be$2(this.h,14,hn,nn)},ne$1.prototype._digest=function(r){return r==="hex"?jt$1.toHex32(this.h,"big"):jt$1.split32(this.h,"big")};function la(r,e,i,P,W){var R=r&i^~r&W;return R<0&&(R+=4294967296),R}function da(r,e,i,P,W,R){var Wr=e&P^~e&R;return Wr<0&&(Wr+=4294967296),Wr}function pa(r,e,i,P,W){var R=r&i^r&W^i&W;return R<0&&(R+=4294967296),R}function va(r,e,i,P,W,R){var Wr=e&P^e&R^P&R;return Wr<0&&(Wr+=4294967296),Wr}function ma(r,e){var i=le(r,e,28),P=le(e,r,2),W=le(e,r,7),R=i^P^W;return R<0&&(R+=4294967296),R}function ga(r,e){var i=de$1(r,e,28),P=de$1(e,r,2),W=de$1(e,r,7),R=i^P^W;return R<0&&(R+=4294967296),R}function Aa(r,e){var i=le(r,e,14),P=le(r,e,18),W=le(e,r,9),R=i^P^W;return R<0&&(R+=4294967296),R}function ba$1(r,e){var i=de$1(r,e,14),P=de$1(r,e,18),W=de$1(e,r,9),R=i^P^W;return R<0&&(R+=4294967296),R}function ya$1(r,e){var i=le(r,e,1),P=le(r,e,8),W=yf(r,e,7),R=i^P^W;return R<0&&(R+=4294967296),R}function wa(r,e){var i=de$1(r,e,1),P=de$1(r,e,8),W=wf(r,e,7),R=i^P^W;return R<0&&(R+=4294967296),R}function xa$1(r,e){var i=le(r,e,19),P=le(e,r,29),W=yf(r,e,6),R=i^P^W;return R<0&&(R+=4294967296),R}function Ma(r,e){var i=de$1(r,e,19),P=de$1(e,r,29),W=wf(r,e,6),R=i^P^W;return R<0&&(R+=4294967296),R}var Oi=Q$2,Ef=Mf;function we(){if(!(this instanceof we))return new we;Ef.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Oi.inherits(we,Ef);var Ea$1=we;we.blockSize=1024,we.outSize=384,we.hmacStrength=192,we.padLength=128,we.prototype._digest=function(r){return r==="hex"?Oi.toHex32(this.h.slice(0,12),"big"):Oi.split32(this.h.slice(0,12),"big")},or$1.sha1=Js$1,or$1.sha224=na,or$1.sha256=Af,or$1.sha384=Ea$1,or$1.sha512=Mf;var Sf={},Xe$2=Q$2,Sa$1=fr,Tr$1=Xe$2.rotl32,Nf=Xe$2.sum32,xr$1=Xe$2.sum32_3,If=Xe$2.sum32_4,_f=Sa$1.BlockHash;function pe$1(){if(!(this instanceof pe$1))return new pe$1;_f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Xe$2.inherits(pe$1,_f),Sf.ripemd160=pe$1,pe$1.blockSize=512,pe$1.outSize=160,pe$1.hmacStrength=192,pe$1.padLength=64,pe$1.prototype._update=function(r,e){for(var i=this.h[0],P=this.h[1],W=this.h[2],R=this.h[3],Wr=this.h[4],ei=i,ni=P,Xr=W,Zr=R,si=Wr,oi=0;oi<80;oi++){var ai=Nf(Tr$1(If(i,Bf(oi,P,W,R),r[_a[oi]+e],Na(oi)),Ca[oi]),Wr);i=Wr,Wr=R,R=Tr$1(W,10),W=P,P=ai,ai=Nf(Tr$1(If(ei,Bf(79-oi,ni,Xr,Zr),r[Ba[oi]+e],Ia(oi)),Ra$1[oi]),si),ei=si,si=Zr,Zr=Tr$1(Xr,10),Xr=ni,ni=ai}ai=xr$1(this.h[1],W,Zr),this.h[1]=xr$1(this.h[2],R,si),this.h[2]=xr$1(this.h[3],Wr,ei),this.h[3]=xr$1(this.h[4],i,ni),this.h[4]=xr$1(this.h[0],P,Xr),this.h[0]=ai},pe$1.prototype._digest=function(r){return r==="hex"?Xe$2.toHex32(this.h,"little"):Xe$2.split32(this.h,"little")};function Bf(r,e,i,P){return r<=15?e^i^P:r<=31?e&i|~e&P:r<=47?(e|~i)^P:r<=63?e&P|i&~P:e^(i|~P)}function Na(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function Ia(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var _a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ba=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ca=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ra$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Oa$1=Q$2,Pa=yr$1;function hr$2(r,e,i){if(!(this instanceof hr$2))return new hr$2(r,e,i);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(Oa$1.toArray(e,i))}var Da$1=hr$2;hr$2.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),Pa(r.length<=this.blockSize);for(var e=r.length;e<this.blockSize;e++)r.push(0);for(e=0;e<r.length;e++)r[e]^=54;for(this.inner=new this.Hash().update(r),e=0;e<r.length;e++)r[e]^=106;this.outer=new this.Hash().update(r)},hr$2.prototype.update=function(r,e){return this.inner.update(r,e),this},hr$2.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)},function(r){var e=r;e.utils=Q$2,e.common=fr,e.sha=or$1,e.ripemd=Sf,e.hmac=Da$1,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(se$1);function cr$2(r,e,i){return i={path:e,exports:{},require:function(P,W){return Fa(P,W??i.path)}},r(i,i.exports),i.exports}function Fa(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Pi=Cf;function Cf(r,e){if(!r)throw new Error(e||"Assertion failed")}Cf.equal=function(r,e,i){if(r!=e)throw new Error(i||"Assertion failed: "+r+" != "+e)};var fe$1=cr$2(function(r,e){var i=e;function P(Wr,ei){if(Array.isArray(Wr))return Wr.slice();if(!Wr)return[];var ni=[];if(typeof Wr!="string"){for(var Xr=0;Xr<Wr.length;Xr++)ni[Xr]=Wr[Xr]|0;return ni}if(ei==="hex"){Wr=Wr.replace(/[^a-z0-9]+/ig,""),Wr.length%2!==0&&(Wr="0"+Wr);for(var Xr=0;Xr<Wr.length;Xr+=2)ni.push(parseInt(Wr[Xr]+Wr[Xr+1],16))}else for(var Xr=0;Xr<Wr.length;Xr++){var Zr=Wr.charCodeAt(Xr),si=Zr>>8,oi=Zr&255;si?ni.push(si,oi):ni.push(oi)}return ni}i.toArray=P;function W(Wr){return Wr.length===1?"0"+Wr:Wr}i.zero2=W;function R(Wr){for(var ei="",ni=0;ni<Wr.length;ni++)ei+=W(Wr[ni].toString(16));return ei}i.toHex=R,i.encode=function(Wr,ei){return ei==="hex"?R(Wr):Wr}}),Jt$2=cr$2(function(r,e){var i=e;i.assert=Pi,i.toArray=fe$1.toArray,i.zero2=fe$1.zero2,i.toHex=fe$1.toHex,i.encode=fe$1.encode;function P(ni,Xr,Zr){var si=new Array(Math.max(ni.bitLength(),Zr)+1);si.fill(0);for(var oi=1<<Xr+1,ai=ni.clone(),fi=0;fi<si.length;fi++){var ui,sn=ai.andln(oi-1);ai.isOdd()?(sn>(oi>>1)-1?ui=(oi>>1)-sn:ui=sn,ai.isubn(ui)):ui=0,si[fi]=ui,ai.iushrn(1)}return si}i.getNAF=P;function W(ni,Xr){var Zr=[[],[]];ni=ni.clone(),Xr=Xr.clone();for(var si=0,oi=0,ai;ni.cmpn(-si)>0||Xr.cmpn(-oi)>0;){var fi=ni.andln(3)+si&3,ui=Xr.andln(3)+oi&3;fi===3&&(fi=-1),ui===3&&(ui=-1);var sn;fi&1?(ai=ni.andln(7)+si&7,(ai===3||ai===5)&&ui===2?sn=-fi:sn=fi):sn=0,Zr[0].push(sn);var hn;ui&1?(ai=Xr.andln(7)+oi&7,(ai===3||ai===5)&&fi===2?hn=-ui:hn=ui):hn=0,Zr[1].push(hn),2*si===sn+1&&(si=1-si),2*oi===hn+1&&(oi=1-oi),ni.iushrn(1),Xr.iushrn(1)}return Zr}i.getJSF=W;function R(ni,Xr,Zr){var si="_"+Xr;ni.prototype[Xr]=function(){return this[si]!==void 0?this[si]:this[si]=Zr.call(this)}}i.cachedProperty=R;function Wr(ni){return typeof ni=="string"?i.toArray(ni,"hex"):ni}i.parseBytes=Wr;function ei(ni){return new K$2(ni,"hex","le")}i.intFromLE=ei}),Ur$1=Jt$2.getNAF,Ta$1=Jt$2.getJSF,kr$1=Jt$2.assert;function Ce(r,e){this.type=r,this.p=new K$2(e.p,16),this.red=e.prime?K$2.red(e.prime):K$2.mont(this.p),this.zero=new K$2(0).toRed(this.red),this.one=new K$2(1).toRed(this.red),this.two=new K$2(2).toRed(this.red),this.n=e.n&&new K$2(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ze$1=Ce;Ce.prototype.point=function(){throw new Error("Not implemented")},Ce.prototype.validate=function(){throw new Error("Not implemented")},Ce.prototype._fixedNafMul=function(r,e){kr$1(r.precomputed);var i=r._getDoubles(),P=Ur$1(e,1,this._bitLength),W=(1<<i.step+1)-(i.step%2===0?2:1);W/=3;var R=[],Wr,ei;for(Wr=0;Wr<P.length;Wr+=i.step){ei=0;for(var ni=Wr+i.step-1;ni>=Wr;ni--)ei=(ei<<1)+P[ni];R.push(ei)}for(var Xr=this.jpoint(null,null,null),Zr=this.jpoint(null,null,null),si=W;si>0;si--){for(Wr=0;Wr<R.length;Wr++)ei=R[Wr],ei===si?Zr=Zr.mixedAdd(i.points[Wr]):ei===-si&&(Zr=Zr.mixedAdd(i.points[Wr].neg()));Xr=Xr.add(Zr)}return Xr.toP()},Ce.prototype._wnafMul=function(r,e){var i=4,P=r._getNAFPoints(i);i=P.wnd;for(var W=P.points,R=Ur$1(e,i,this._bitLength),Wr=this.jpoint(null,null,null),ei=R.length-1;ei>=0;ei--){for(var ni=0;ei>=0&&R[ei]===0;ei--)ni++;if(ei>=0&&ni++,Wr=Wr.dblp(ni),ei<0)break;var Xr=R[ei];kr$1(Xr!==0),r.type==="affine"?Xr>0?Wr=Wr.mixedAdd(W[Xr-1>>1]):Wr=Wr.mixedAdd(W[-Xr-1>>1].neg()):Xr>0?Wr=Wr.add(W[Xr-1>>1]):Wr=Wr.add(W[-Xr-1>>1].neg())}return r.type==="affine"?Wr.toP():Wr},Ce.prototype._wnafMulAdd=function(r,e,i,P,W){var R=this._wnafT1,Wr=this._wnafT2,ei=this._wnafT3,ni=0,Xr,Zr,si;for(Xr=0;Xr<P;Xr++){si=e[Xr];var oi=si._getNAFPoints(r);R[Xr]=oi.wnd,Wr[Xr]=oi.points}for(Xr=P-1;Xr>=1;Xr-=2){var ai=Xr-1,fi=Xr;if(R[ai]!==1||R[fi]!==1){ei[ai]=Ur$1(i[ai],R[ai],this._bitLength),ei[fi]=Ur$1(i[fi],R[fi],this._bitLength),ni=Math.max(ei[ai].length,ni),ni=Math.max(ei[fi].length,ni);continue}var ui=[e[ai],null,null,e[fi]];e[ai].y.cmp(e[fi].y)===0?(ui[1]=e[ai].add(e[fi]),ui[2]=e[ai].toJ().mixedAdd(e[fi].neg())):e[ai].y.cmp(e[fi].y.redNeg())===0?(ui[1]=e[ai].toJ().mixedAdd(e[fi]),ui[2]=e[ai].add(e[fi].neg())):(ui[1]=e[ai].toJ().mixedAdd(e[fi]),ui[2]=e[ai].toJ().mixedAdd(e[fi].neg()));var sn=[-3,-1,-5,-7,0,7,5,1,3],hn=Ta$1(i[ai],i[fi]);for(ni=Math.max(hn[0].length,ni),ei[ai]=new Array(ni),ei[fi]=new Array(ni),Zr=0;Zr<ni;Zr++){var nn=hn[0][Zr]|0,ln=hn[1][Zr]|0;ei[ai][Zr]=sn[(nn+1)*3+(ln+1)],ei[fi][Zr]=0,Wr[ai]=ui}}var on=this.jpoint(null,null,null),vn=this._wnafT4;for(Xr=ni;Xr>=0;Xr--){for(var Mn=0;Xr>=0;){var mi=!0;for(Zr=0;Zr<P;Zr++)vn[Zr]=ei[Zr][Xr]|0,vn[Zr]!==0&&(mi=!1);if(!mi)break;Mn++,Xr--}if(Xr>=0&&Mn++,on=on.dblp(Mn),Xr<0)break;for(Zr=0;Zr<P;Zr++){var mn=vn[Zr];mn!==0&&(mn>0?si=Wr[Zr][mn-1>>1]:mn<0&&(si=Wr[Zr][-mn-1>>1].neg()),si.type==="affine"?on=on.mixedAdd(si):on=on.add(si))}}for(Xr=0;Xr<P;Xr++)Wr[Xr]=null;return W?on:on.toP()};function Xt$2(r,e){this.curve=r,this.type=e,this.precomputed=null}Ce.BasePoint=Xt$2,Xt$2.prototype.eq=function(){throw new Error("Not implemented")},Xt$2.prototype.validate=function(){return this.curve.validate(this)},Ce.prototype.decodePoint=function(r,e){r=Jt$2.toArray(r,e);var i=this.p.byteLength();if((r[0]===4||r[0]===6||r[0]===7)&&r.length-1===2*i){r[0]===6?kr$1(r[r.length-1]%2===0):r[0]===7&&kr$1(r[r.length-1]%2===1);var P=this.point(r.slice(1,1+i),r.slice(1+i,1+2*i));return P}else if((r[0]===2||r[0]===3)&&r.length-1===i)return this.pointFromX(r.slice(1,1+i),r[0]===3);throw new Error("Unknown point format")},Xt$2.prototype.encodeCompressed=function(r){return this.encode(r,!0)},Xt$2.prototype._encode=function(r){var e=this.curve.p.byteLength(),i=this.getX().toArray("be",e);return r?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",e))},Xt$2.prototype.encode=function(r,e){return Jt$2.encode(this._encode(e),r)},Xt$2.prototype.precompute=function(r){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,r),e.beta=this._getBeta(),this.precomputed=e,this},Xt$2.prototype._hasDoubles=function(r){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((r.bitLength()+1)/e.step):!1},Xt$2.prototype._getDoubles=function(r,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],P=this,W=0;W<e;W+=r){for(var R=0;R<r;R++)P=P.dbl();i.push(P)}return{step:r,points:i}},Xt$2.prototype._getNAFPoints=function(r){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],i=(1<<r)-1,P=i===1?null:this.dbl(),W=1;W<i;W++)e[W]=e[W-1].add(P);return{wnd:r,points:e}},Xt$2.prototype._getBeta=function(){return null},Xt$2.prototype.dblp=function(r){for(var e=this,i=0;i<r;i++)e=e.dbl();return e};var Di=cr$2(function(r){typeof Object.create=="function"?r.exports=function(e,i){i&&(e.super_=i,e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(e,i){if(i){e.super_=i;var P=function(){};P.prototype=i.prototype,e.prototype=new P,e.prototype.constructor=e}}}),Ua=Jt$2.assert;function Zt$1(r){Ze$1.call(this,"short",r),this.a=new K$2(r.a,16).toRed(this.red),this.b=new K$2(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Di(Zt$1,Ze$1);var ka=Zt$1;Zt$1.prototype._getEndomorphism=function(r){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,i;if(r.beta)e=new K$2(r.beta,16).toRed(this.red);else{var P=this._getEndoRoots(this.p);e=P[0].cmp(P[1])<0?P[0]:P[1],e=e.toRed(this.red)}if(r.lambda)i=new K$2(r.lambda,16);else{var W=this._getEndoRoots(this.n);this.g.mul(W[0]).x.cmp(this.g.x.redMul(e))===0?i=W[0]:(i=W[1],Ua(this.g.mul(i).x.cmp(this.g.x.redMul(e))===0))}var R;return r.basis?R=r.basis.map(function(Wr){return{a:new K$2(Wr.a,16),b:new K$2(Wr.b,16)}}):R=this._getEndoBasis(i),{beta:e,lambda:i,basis:R}}},Zt$1.prototype._getEndoRoots=function(r){var e=r===this.p?this.red:K$2.mont(r),i=new K$2(2).toRed(e).redInvm(),P=i.redNeg(),W=new K$2(3).toRed(e).redNeg().redSqrt().redMul(i),R=P.redAdd(W).fromRed(),Wr=P.redSub(W).fromRed();return[R,Wr]},Zt$1.prototype._getEndoBasis=function(r){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=r,P=this.n.clone(),W=new K$2(1),R=new K$2(0),Wr=new K$2(0),ei=new K$2(1),ni,Xr,Zr,si,oi,ai,fi,ui=0,sn,hn;i.cmpn(0)!==0;){var nn=P.div(i);sn=P.sub(nn.mul(i)),hn=Wr.sub(nn.mul(W));var ln=ei.sub(nn.mul(R));if(!Zr&&sn.cmp(e)<0)ni=fi.neg(),Xr=W,Zr=sn.neg(),si=hn;else if(Zr&&++ui===2)break;fi=sn,P=i,i=sn,Wr=W,W=hn,ei=R,R=ln}oi=sn.neg(),ai=hn;var on=Zr.sqr().add(si.sqr()),vn=oi.sqr().add(ai.sqr());return vn.cmp(on)>=0&&(oi=ni,ai=Xr),Zr.negative&&(Zr=Zr.neg(),si=si.neg()),oi.negative&&(oi=oi.neg(),ai=ai.neg()),[{a:Zr,b:si},{a:oi,b:ai}]},Zt$1.prototype._endoSplit=function(r){var e=this.endo.basis,i=e[0],P=e[1],W=P.b.mul(r).divRound(this.n),R=i.b.neg().mul(r).divRound(this.n),Wr=W.mul(i.a),ei=R.mul(P.a),ni=W.mul(i.b),Xr=R.mul(P.b),Zr=r.sub(Wr).sub(ei),si=ni.add(Xr).neg();return{k1:Zr,k2:si}},Zt$1.prototype.pointFromX=function(r,e){r=new K$2(r,16),r.red||(r=r.toRed(this.red));var i=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),P=i.redSqrt();if(P.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var W=P.fromRed().isOdd();return(e&&!W||!e&&W)&&(P=P.redNeg()),this.point(r,P)},Zt$1.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,i=r.y,P=this.a.redMul(e),W=e.redSqr().redMul(e).redIAdd(P).redIAdd(this.b);return i.redSqr().redISub(W).cmpn(0)===0},Zt$1.prototype._endoWnafMulAdd=function(r,e,i){for(var P=this._endoWnafT1,W=this._endoWnafT2,R=0;R<r.length;R++){var Wr=this._endoSplit(e[R]),ei=r[R],ni=ei._getBeta();Wr.k1.negative&&(Wr.k1.ineg(),ei=ei.neg(!0)),Wr.k2.negative&&(Wr.k2.ineg(),ni=ni.neg(!0)),P[R*2]=ei,P[R*2+1]=ni,W[R*2]=Wr.k1,W[R*2+1]=Wr.k2}for(var Xr=this._wnafMulAdd(1,P,W,R*2,i),Zr=0;Zr<R*2;Zr++)P[Zr]=null,W[Zr]=null;return Xr};function Ft$1(r,e,i,P){Ze$1.BasePoint.call(this,r,"affine"),e===null&&i===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new K$2(e,16),this.y=new K$2(i,16),P&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Di(Ft$1,Ze$1.BasePoint),Zt$1.prototype.point=function(r,e,i){return new Ft$1(this,r,e,i)},Zt$1.prototype.pointFromJSON=function(r,e){return Ft$1.fromJSON(this,r,e)},Ft$1.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var i=this.curve,P=function(W){return i.point(W.x.redMul(i.endo.beta),W.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(P)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(P)}}}return e}},Ft$1.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ft$1.fromJSON=function(r,e,i){typeof e=="string"&&(e=JSON.parse(e));var P=r.point(e[0],e[1],i);if(!e[2])return P;function W(Wr){return r.point(Wr[0],Wr[1],i)}var R=e[2];return P.precomputed={beta:null,doubles:R.doubles&&{step:R.doubles.step,points:[P].concat(R.doubles.points.map(W))},naf:R.naf&&{wnd:R.naf.wnd,points:[P].concat(R.naf.points.map(W))}},P},Ft$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ft$1.prototype.isInfinity=function(){return this.inf},Ft$1.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(this.x.cmp(r.x)===0)return this.curve.point(null,null);var e=this.y.redSub(r.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var i=e.redSqr().redISub(this.x).redISub(r.x),P=e.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,P)},Ft$1.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(r.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,i=this.x.redSqr(),P=r.redInvm(),W=i.redAdd(i).redIAdd(i).redIAdd(e).redMul(P),R=W.redSqr().redISub(this.x.redAdd(this.x)),Wr=W.redMul(this.x.redSub(R)).redISub(this.y);return this.curve.point(R,Wr)},Ft$1.prototype.getX=function(){return this.x.fromRed()},Ft$1.prototype.getY=function(){return this.y.fromRed()},Ft$1.prototype.mul=function(r){return r=new K$2(r,16),this.isInfinity()?this:this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},Ft$1.prototype.mulAdd=function(r,e,i){var P=[this,e],W=[r,i];return this.curve.endo?this.curve._endoWnafMulAdd(P,W):this.curve._wnafMulAdd(1,P,W,2)},Ft$1.prototype.jmulAdd=function(r,e,i){var P=[this,e],W=[r,i];return this.curve.endo?this.curve._endoWnafMulAdd(P,W,!0):this.curve._wnafMulAdd(1,P,W,2,!0)},Ft$1.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||this.x.cmp(r.x)===0&&this.y.cmp(r.y)===0)},Ft$1.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var i=this.precomputed,P=function(W){return W.neg()};e.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(P)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(P)}}}return e},Ft$1.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var r=this.curve.jpoint(this.x,this.y,this.curve.one);return r};function Tt$1(r,e,i,P){Ze$1.BasePoint.call(this,r,"jacobian"),e===null&&i===null&&P===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new K$2(0)):(this.x=new K$2(e,16),this.y=new K$2(i,16),this.z=new K$2(P,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Di(Tt$1,Ze$1.BasePoint),Zt$1.prototype.jpoint=function(r,e,i){return new Tt$1(this,r,e,i)},Tt$1.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),i=this.x.redMul(e),P=this.y.redMul(e).redMul(r);return this.curve.point(i,P)},Tt$1.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Tt$1.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),i=this.z.redSqr(),P=this.x.redMul(e),W=r.x.redMul(i),R=this.y.redMul(e.redMul(r.z)),Wr=r.y.redMul(i.redMul(this.z)),ei=P.redSub(W),ni=R.redSub(Wr);if(ei.cmpn(0)===0)return ni.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Xr=ei.redSqr(),Zr=Xr.redMul(ei),si=P.redMul(Xr),oi=ni.redSqr().redIAdd(Zr).redISub(si).redISub(si),ai=ni.redMul(si.redISub(oi)).redISub(R.redMul(Zr)),fi=this.z.redMul(r.z).redMul(ei);return this.curve.jpoint(oi,ai,fi)},Tt$1.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),i=this.x,P=r.x.redMul(e),W=this.y,R=r.y.redMul(e).redMul(this.z),Wr=i.redSub(P),ei=W.redSub(R);if(Wr.cmpn(0)===0)return ei.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ni=Wr.redSqr(),Xr=ni.redMul(Wr),Zr=i.redMul(ni),si=ei.redSqr().redIAdd(Xr).redISub(Zr).redISub(Zr),oi=ei.redMul(Zr.redISub(si)).redISub(W.redMul(Xr)),ai=this.z.redMul(Wr);return this.curve.jpoint(si,oi,ai)},Tt$1.prototype.dblp=function(r){if(r===0)return this;if(this.isInfinity())return this;if(!r)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var i=this;for(e=0;e<r;e++)i=i.dbl();return i}var P=this.curve.a,W=this.curve.tinv,R=this.x,Wr=this.y,ei=this.z,ni=ei.redSqr().redSqr(),Xr=Wr.redAdd(Wr);for(e=0;e<r;e++){var Zr=R.redSqr(),si=Xr.redSqr(),oi=si.redSqr(),ai=Zr.redAdd(Zr).redIAdd(Zr).redIAdd(P.redMul(ni)),fi=R.redMul(si),ui=ai.redSqr().redISub(fi.redAdd(fi)),sn=fi.redISub(ui),hn=ai.redMul(sn);hn=hn.redIAdd(hn).redISub(oi);var nn=Xr.redMul(ei);e+1<r&&(ni=ni.redMul(oi)),R=ui,ei=nn,Xr=hn}return this.curve.jpoint(R,Xr.redMul(W),ei)},Tt$1.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Tt$1.prototype._zeroDbl=function(){var r,e,i;if(this.zOne){var P=this.x.redSqr(),W=this.y.redSqr(),R=W.redSqr(),Wr=this.x.redAdd(W).redSqr().redISub(P).redISub(R);Wr=Wr.redIAdd(Wr);var ei=P.redAdd(P).redIAdd(P),ni=ei.redSqr().redISub(Wr).redISub(Wr),Xr=R.redIAdd(R);Xr=Xr.redIAdd(Xr),Xr=Xr.redIAdd(Xr),r=ni,e=ei.redMul(Wr.redISub(ni)).redISub(Xr),i=this.y.redAdd(this.y)}else{var Zr=this.x.redSqr(),si=this.y.redSqr(),oi=si.redSqr(),ai=this.x.redAdd(si).redSqr().redISub(Zr).redISub(oi);ai=ai.redIAdd(ai);var fi=Zr.redAdd(Zr).redIAdd(Zr),ui=fi.redSqr(),sn=oi.redIAdd(oi);sn=sn.redIAdd(sn),sn=sn.redIAdd(sn),r=ui.redISub(ai).redISub(ai),e=fi.redMul(ai.redISub(r)).redISub(sn),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(r,e,i)},Tt$1.prototype._threeDbl=function(){var r,e,i;if(this.zOne){var P=this.x.redSqr(),W=this.y.redSqr(),R=W.redSqr(),Wr=this.x.redAdd(W).redSqr().redISub(P).redISub(R);Wr=Wr.redIAdd(Wr);var ei=P.redAdd(P).redIAdd(P).redIAdd(this.curve.a),ni=ei.redSqr().redISub(Wr).redISub(Wr);r=ni;var Xr=R.redIAdd(R);Xr=Xr.redIAdd(Xr),Xr=Xr.redIAdd(Xr),e=ei.redMul(Wr.redISub(ni)).redISub(Xr),i=this.y.redAdd(this.y)}else{var Zr=this.z.redSqr(),si=this.y.redSqr(),oi=this.x.redMul(si),ai=this.x.redSub(Zr).redMul(this.x.redAdd(Zr));ai=ai.redAdd(ai).redIAdd(ai);var fi=oi.redIAdd(oi);fi=fi.redIAdd(fi);var ui=fi.redAdd(fi);r=ai.redSqr().redISub(ui),i=this.y.redAdd(this.z).redSqr().redISub(si).redISub(Zr);var sn=si.redSqr();sn=sn.redIAdd(sn),sn=sn.redIAdd(sn),sn=sn.redIAdd(sn),e=ai.redMul(fi.redISub(r)).redISub(sn)}return this.curve.jpoint(r,e,i)},Tt$1.prototype._dbl=function(){var r=this.curve.a,e=this.x,i=this.y,P=this.z,W=P.redSqr().redSqr(),R=e.redSqr(),Wr=i.redSqr(),ei=R.redAdd(R).redIAdd(R).redIAdd(r.redMul(W)),ni=e.redAdd(e);ni=ni.redIAdd(ni);var Xr=ni.redMul(Wr),Zr=ei.redSqr().redISub(Xr.redAdd(Xr)),si=Xr.redISub(Zr),oi=Wr.redSqr();oi=oi.redIAdd(oi),oi=oi.redIAdd(oi),oi=oi.redIAdd(oi);var ai=ei.redMul(si).redISub(oi),fi=i.redAdd(i).redMul(P);return this.curve.jpoint(Zr,ai,fi)},Tt$1.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr(),P=e.redSqr(),W=r.redAdd(r).redIAdd(r),R=W.redSqr(),Wr=this.x.redAdd(e).redSqr().redISub(r).redISub(P);Wr=Wr.redIAdd(Wr),Wr=Wr.redAdd(Wr).redIAdd(Wr),Wr=Wr.redISub(R);var ei=Wr.redSqr(),ni=P.redIAdd(P);ni=ni.redIAdd(ni),ni=ni.redIAdd(ni),ni=ni.redIAdd(ni);var Xr=W.redIAdd(Wr).redSqr().redISub(R).redISub(ei).redISub(ni),Zr=e.redMul(Xr);Zr=Zr.redIAdd(Zr),Zr=Zr.redIAdd(Zr);var si=this.x.redMul(ei).redISub(Zr);si=si.redIAdd(si),si=si.redIAdd(si);var oi=this.y.redMul(Xr.redMul(ni.redISub(Xr)).redISub(Wr.redMul(ei)));oi=oi.redIAdd(oi),oi=oi.redIAdd(oi),oi=oi.redIAdd(oi);var ai=this.z.redAdd(Wr).redSqr().redISub(i).redISub(ei);return this.curve.jpoint(si,oi,ai)},Tt$1.prototype.mul=function(r,e){return r=new K$2(r,e),this.curve._wnafMul(this,r)},Tt$1.prototype.eq=function(r){if(r.type==="affine")return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),i=r.z.redSqr();if(this.x.redMul(i).redISub(r.x.redMul(e)).cmpn(0)!==0)return!1;var P=e.redMul(this.z),W=i.redMul(r.z);return this.y.redMul(W).redISub(r.y.redMul(P)).cmpn(0)===0},Tt$1.prototype.eqXToP=function(r){var e=this.z.redSqr(),i=r.toRed(this.curve.red).redMul(e);if(this.x.cmp(i)===0)return!0;for(var P=r.clone(),W=this.curve.redN.redMul(e);;){if(P.iadd(this.curve.n),P.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(W),this.x.cmp(i)===0)return!0}},Tt$1.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Tt$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var qr=cr$2(function(r,e){var i=e;i.base=Ze$1,i.short=ka,i.mont=null,i.edwards=null}),Kr=cr$2(function(r,e){var i=e,P=Jt$2.assert;function W(ei){ei.type==="short"?this.curve=new qr.short(ei):ei.type==="edwards"?this.curve=new qr.edwards(ei):this.curve=new qr.mont(ei),this.g=this.curve.g,this.n=this.curve.n,this.hash=ei.hash,P(this.g.validate(),"Invalid curve"),P(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i.PresetCurve=W;function R(ei,ni){Object.defineProperty(i,ei,{configurable:!0,enumerable:!0,get:function(){var Xr=new W(ni);return Object.defineProperty(i,ei,{configurable:!0,enumerable:!0,value:Xr}),Xr}})}R("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:se$1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),R("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:se$1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),R("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:se$1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),R("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:se$1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),R("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:se$1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),R("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:se$1.sha256,gRed:!1,g:["9"]}),R("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:se$1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Wr;try{Wr=null.crash()}catch{Wr=void 0}R("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:se$1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Wr]})});function Re$1(r){if(!(this instanceof Re$1))return new Re$1(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=fe$1.toArray(r.entropy,r.entropyEnc||"hex"),i=fe$1.toArray(r.nonce,r.nonceEnc||"hex"),P=fe$1.toArray(r.pers,r.persEnc||"hex");Pi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,i,P)}var Rf=Re$1;Re$1.prototype._init=function(r,e,i){var P=r.concat(e).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var W=0;W<this.V.length;W++)this.K[W]=0,this.V[W]=1;this._update(P),this._reseed=1,this.reseedInterval=281474976710656},Re$1.prototype._hmac=function(){return new se$1.hmac(this.hash,this.K)},Re$1.prototype._update=function(r){var e=this._hmac().update(this.V).update([0]);r&&(e=e.update(r)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),r&&(this.K=this._hmac().update(this.V).update([1]).update(r).digest(),this.V=this._hmac().update(this.V).digest())},Re$1.prototype.reseed=function(r,e,i,P){typeof e!="string"&&(P=i,i=e,e=null),r=fe$1.toArray(r,e),i=fe$1.toArray(i,P),Pi(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(r.concat(i||[])),this._reseed=1},Re$1.prototype.generate=function(r,e,i,P){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof e!="string"&&(P=i,i=e,e=null),i&&(i=fe$1.toArray(i,P||"hex"),this._update(i));for(var W=[];W.length<r;)this.V=this._hmac().update(this.V).digest(),W=W.concat(this.V);var R=W.slice(0,r);return this._update(i),this._reseed++,fe$1.encode(R,e)};var Fi$1=Jt$2.assert;function kt$1(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ti=kt$1;kt$1.fromPublic=function(r,e,i){return e instanceof kt$1?e:new kt$1(r,{pub:e,pubEnc:i})},kt$1.fromPrivate=function(r,e,i){return e instanceof kt$1?e:new kt$1(r,{priv:e,privEnc:i})},kt$1.prototype.validate=function(){var r=this.getPublic();return r.isInfinity()?{result:!1,reason:"Invalid public key"}:r.validate()?r.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},kt$1.prototype.getPublic=function(r,e){return typeof r=="string"&&(e=r,r=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,r):this.pub},kt$1.prototype.getPrivate=function(r){return r==="hex"?this.priv.toString(16,2):this.priv},kt$1.prototype._importPrivate=function(r,e){this.priv=new K$2(r,e||16),this.priv=this.priv.umod(this.ec.curve.n)},kt$1.prototype._importPublic=function(r,e){if(r.x||r.y){this.ec.curve.type==="mont"?Fi$1(r.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Fi$1(r.x&&r.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(r.x,r.y);return}this.pub=this.ec.curve.decodePoint(r,e)},kt$1.prototype.derive=function(r){return r.validate()||Fi$1(r.validate(),"public point not validated"),r.mul(this.priv).getX()},kt$1.prototype.sign=function(r,e,i){return this.ec.sign(r,this,e,i)},kt$1.prototype.verify=function(r,e){return this.ec.verify(r,e,this)},kt$1.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var qa=Jt$2.assert;function Hr(r,e){if(r instanceof Hr)return r;this._importDER(r,e)||(qa(r.r&&r.s,"Signature without r or s"),this.r=new K$2(r.r,16),this.s=new K$2(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var zr$1=Hr;function Ka(){this.place=0}function Ui$1(r,e){var i=r[e.place++];if(!(i&128))return i;var P=i&15;if(P===0||P>4)return!1;for(var W=0,R=0,Wr=e.place;R<P;R++,Wr++)W<<=8,W|=r[Wr],W>>>=0;return W<=127?!1:(e.place=Wr,W)}function Of(r){for(var e=0,i=r.length-1;!r[e]&&!(r[e+1]&128)&&e<i;)e++;return e===0?r:r.slice(e)}Hr.prototype._importDER=function(r,e){r=Jt$2.toArray(r,e);var i=new Ka;if(r[i.place++]!==48)return!1;var P=Ui$1(r,i);if(P===!1||P+i.place!==r.length||r[i.place++]!==2)return!1;var W=Ui$1(r,i);if(W===!1)return!1;var R=r.slice(i.place,W+i.place);if(i.place+=W,r[i.place++]!==2)return!1;var Wr=Ui$1(r,i);if(Wr===!1||r.length!==Wr+i.place)return!1;var ei=r.slice(i.place,Wr+i.place);if(R[0]===0)if(R[1]&128)R=R.slice(1);else return!1;if(ei[0]===0)if(ei[1]&128)ei=ei.slice(1);else return!1;return this.r=new K$2(R),this.s=new K$2(ei),this.recoveryParam=null,!0};function ki(r,e){if(e<128){r.push(e);return}var i=1+(Math.log(e)/Math.LN2>>>3);for(r.push(i|128);--i;)r.push(e>>>(i<<3)&255);r.push(e)}Hr.prototype.toDER=function(r){var e=this.r.toArray(),i=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),i[0]&128&&(i=[0].concat(i)),e=Of(e),i=Of(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var P=[2];ki(P,e.length),P=P.concat(e),P.push(2),ki(P,i.length);var W=P.concat(i),R=[48];return ki(R,W.length),R=R.concat(W),Jt$2.encode(R,r)};var Ha=function(){throw new Error("unsupported")},Pf=Jt$2.assert;function $t$1(r){if(!(this instanceof $t$1))return new $t$1(r);typeof r=="string"&&(Pf(Object.prototype.hasOwnProperty.call(Kr,r),"Unknown curve "+r),r=Kr[r]),r instanceof Kr.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var za=$t$1;$t$1.prototype.keyPair=function(r){return new Ti(this,r)},$t$1.prototype.keyFromPrivate=function(r,e){return Ti.fromPrivate(this,r,e)},$t$1.prototype.keyFromPublic=function(r,e){return Ti.fromPublic(this,r,e)},$t$1.prototype.genKeyPair=function(r){r||(r={});for(var e=new Rf({hash:this.hash,pers:r.pers,persEnc:r.persEnc||"utf8",entropy:r.entropy||Ha(this.hash.hmacStrength),entropyEnc:r.entropy&&r.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),P=this.n.sub(new K$2(2));;){var W=new K$2(e.generate(i));if(!(W.cmp(P)>0))return W.iaddn(1),this.keyFromPrivate(W)}},$t$1.prototype._truncateToN=function(r,e){var i=r.byteLength()*8-this.n.bitLength();return i>0&&(r=r.ushrn(i)),!e&&r.cmp(this.n)>=0?r.sub(this.n):r},$t$1.prototype.sign=function(r,e,i,P){typeof i=="object"&&(P=i,i=null),P||(P={}),e=this.keyFromPrivate(e,i),r=this._truncateToN(new K$2(r,16));for(var W=this.n.byteLength(),R=e.getPrivate().toArray("be",W),Wr=r.toArray("be",W),ei=new Rf({hash:this.hash,entropy:R,nonce:Wr,pers:P.pers,persEnc:P.persEnc||"utf8"}),ni=this.n.sub(new K$2(1)),Xr=0;;Xr++){var Zr=P.k?P.k(Xr):new K$2(ei.generate(this.n.byteLength()));if(Zr=this._truncateToN(Zr,!0),!(Zr.cmpn(1)<=0||Zr.cmp(ni)>=0)){var si=this.g.mul(Zr);if(!si.isInfinity()){var oi=si.getX(),ai=oi.umod(this.n);if(ai.cmpn(0)!==0){var fi=Zr.invm(this.n).mul(ai.mul(e.getPrivate()).iadd(r));if(fi=fi.umod(this.n),fi.cmpn(0)!==0){var ui=(si.getY().isOdd()?1:0)|(oi.cmp(ai)!==0?2:0);return P.canonical&&fi.cmp(this.nh)>0&&(fi=this.n.sub(fi),ui^=1),new zr$1({r:ai,s:fi,recoveryParam:ui})}}}}}},$t$1.prototype.verify=function(r,e,i,P){r=this._truncateToN(new K$2(r,16)),i=this.keyFromPublic(i,P),e=new zr$1(e,"hex");var W=e.r,R=e.s;if(W.cmpn(1)<0||W.cmp(this.n)>=0||R.cmpn(1)<0||R.cmp(this.n)>=0)return!1;var Wr=R.invm(this.n),ei=Wr.mul(r).umod(this.n),ni=Wr.mul(W).umod(this.n),Xr;return this.curve._maxwellTrick?(Xr=this.g.jmulAdd(ei,i.getPublic(),ni),Xr.isInfinity()?!1:Xr.eqXToP(W)):(Xr=this.g.mulAdd(ei,i.getPublic(),ni),Xr.isInfinity()?!1:Xr.getX().umod(this.n).cmp(W)===0)},$t$1.prototype.recoverPubKey=function(r,e,i,P){Pf((3&i)===i,"The recovery param is more than two bits"),e=new zr$1(e,P);var W=this.n,R=new K$2(r),Wr=e.r,ei=e.s,ni=i&1,Xr=i>>1;if(Wr.cmp(this.curve.p.umod(this.curve.n))>=0&&Xr)throw new Error("Unable to find sencond key candinate");Xr?Wr=this.curve.pointFromX(Wr.add(this.curve.n),ni):Wr=this.curve.pointFromX(Wr,ni);var Zr=e.r.invm(W),si=W.sub(R).mul(Zr).umod(W),oi=ei.mul(Zr).umod(W);return this.g.mulAdd(si,Wr,oi)},$t$1.prototype.getKeyRecoveryParam=function(r,e,i,P){if(e=new zr$1(e,P),e.recoveryParam!==null)return e.recoveryParam;for(var W=0;W<4;W++){var R;try{R=this.recoverPubKey(r,e,W)}catch{continue}if(R.eq(i))return W}throw new Error("Unable to find valid recovery factor")};var La$1=cr$2(function(r,e){var i=e;i.version="6.5.4",i.utils=Jt$2,i.rand=function(){throw new Error("unsupported")},i.curve=qr,i.curves=Kr,i.ec=za,i.eddsa=null}),ja=La$1.ec;const Qa="signing-key/5.7.0",qi$1=new L$3(Qa);let Ki=null;function ve(){return Ki||(Ki=new ja("secp256k1")),Ki}class Ja{constructor(e){br$1(this,"curve","secp256k1"),br$1(this,"privateKey",Kt$1(e)),N0(this.privateKey)!==32&&qi$1.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const i=ve().keyFromPrivate(Ot$1(this.privateKey));br$1(this,"publicKey","0x"+i.getPublic(!1,"hex")),br$1(this,"compressedPublicKey","0x"+i.getPublic(!0,"hex")),br$1(this,"_isSigningKey",!0)}_addPoint(e){const i=ve().keyFromPublic(Ot$1(this.publicKey)),P=ve().keyFromPublic(Ot$1(e));return"0x"+i.pub.add(P.pub).encodeCompressed("hex")}signDigest(e){const i=ve().keyFromPrivate(Ot$1(this.privateKey)),P=Ot$1(e);P.length!==32&&qi$1.throwArgumentError("bad digest length","digest",e);const W=i.sign(P,{canonical:!0});return zn({recoveryParam:W.recoveryParam,r:oe("0x"+W.r.toString(16),32),s:oe("0x"+W.s.toString(16),32)})}computeSharedSecret(e){const i=ve().keyFromPrivate(Ot$1(this.privateKey)),P=ve().keyFromPublic(Ot$1(Df(e)));return oe("0x"+i.derive(P.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Ga(r,e){const i=zn(e),P={r:Ot$1(i.r),s:Ot$1(i.s)};return"0x"+ve().recoverPubKey(Ot$1(r),P,i.recoveryParam).encode("hex",!1)}function Df(r,e){const i=Ot$1(r);if(i.length===32){const P=new Ja(i);return e?"0x"+ve().keyFromPrivate(i).getPublic(!0,"hex"):P.publicKey}else{if(i.length===33)return e?Kt$1(i):"0x"+ve().keyFromPublic(i).getPublic(!1,"hex");if(i.length===65)return e?"0x"+ve().keyFromPublic(i).getPublic(!0,"hex"):Kt$1(i)}return qi$1.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Ff;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Ff||(Ff={}));function Va(r){const e=Df(r);return ns$1(Hn(yi(Hn(e,1)),12))}function Wa(r,e){return Va(Ga(Ot$1(r),e))}const Xa="https://rpc.walletconnect.com/v1";async function Tf(r,e,i,P,W,R){switch(i.t){case"eip191":return Uf(r,e,i.s);case"eip1271":return await kf(r,e,i.s,P,W,R);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${i.t}`)}}function Uf(r,e,i){return Wa(ff(e),i).toLowerCase()===r.toLowerCase()}async function kf(r,e,i,P,W,R){try{const Wr="0x1626ba7e",ei="0000000000000000000000000000000000000000000000000000000000000040",ni="0000000000000000000000000000000000000000000000000000000000000041",Xr=i.substring(2),Zr=ff(e).substring(2),si=Wr+Zr+ei+ni+Xr,oi=await fetch(`${R||Xa}/?chainId=${P}&projectId=${W}`,{method:"POST",body:JSON.stringify({id:Za(),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:si},"latest"]})}),{result:ai}=await oi.json();return ai?ai.slice(0,Wr.length).toLowerCase()===Wr.toLowerCase():!1}catch(Wr){return console.error("isValidEip1271Signature: ",Wr),!1}}function Za(){return Date.now()+Math.floor(Math.random()*1e3)}var $a=Object.defineProperty,tu=Object.defineProperties,eu=Object.getOwnPropertyDescriptors,qf=Object.getOwnPropertySymbols,ru=Object.prototype.hasOwnProperty,iu=Object.prototype.propertyIsEnumerable,Kf=(r,e,i)=>e in r?$a(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,Hi$1=(r,e)=>{for(var i in e||(e={}))ru.call(e,i)&&Kf(r,i,e[i]);if(qf)for(var i of qf(e))iu.call(e,i)&&Kf(r,i,e[i]);return r},Hf=(r,e)=>tu(r,eu(e));const nu="did:pkh:",Lr$1=r=>r==null?void 0:r.split(":"),zi=r=>{const e=r&&Lr$1(r);if(e)return r.includes(nu)?e[3]:e[1]},fu=r=>{const e=r&&Lr$1(r);if(e)return e[2]+":"+e[3]},Li=r=>{const e=r&&Lr$1(r);if(e)return e.pop()};async function ou(r){const{cacao:e,projectId:i}=r,{s:P,p:W}=e,R=zf(W,W.iss),Wr=Li(W.iss);return await Tf(Wr,R,P,zi(W.iss),i)}const zf=(r,e)=>{const i=`${r.domain} wants you to sign in with your Ethereum account:`,P=Li(e);if(!r.aud&&!r.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let W=r.statement||void 0;const R=`URI: ${r.aud||r.uri}`,Wr=`Version: ${r.version}`,ei=`Chain ID: ${zi(e)}`,ni=`Nonce: ${r.nonce}`,Xr=`Issued At: ${r.iat}`,Zr=r.resources?`Resources:${r.resources.map(oi=>`
- ${oi}`).join("")}`:void 0,si=Qr(r.resources);if(si){const oi=Oe(si);W=Ji$1(W,oi)}return[i,P,"",W,"",R,Wr,ei,ni,Xr,Zr].filter(oi=>oi!=null).join(`
`)};function Jf(r){return Buffer.from(JSON.stringify(r)).toString("base64")}function Gf(r){return JSON.parse(Buffer.from(r,"base64").toString("utf-8"))}function me$1(r){if(!r)throw new Error("No recap provided, value is undefined");if(!r.att)throw new Error("No `att` property found");const e=Object.keys(r.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(i=>{const P=r.att[i];if(Array.isArray(P))throw new Error(`Resource must be an object: ${i}`);if(typeof P!="object")throw new Error(`Resource must be an object: ${i}`);if(!Object.keys(P).length)throw new Error(`Resource object is empty: ${i}`);Object.keys(P).forEach(W=>{const R=P[W];if(!Array.isArray(R))throw new Error(`Ability limits ${W} must be an array of objects, found: ${R}`);if(!R.length)throw new Error(`Value of ${W} is empty array, must be an array with objects`);R.forEach(Wr=>{if(typeof Wr!="object")throw new Error(`Ability limits (${W}) must be an array of objects, found: ${Wr}`)})})})}function Yf(r,e,i,P={}){return i==null||i.sort((W,R)=>W.localeCompare(R)),{att:{[r]:ji(e,i,P)}}}function ji(r,e,i={}){e=e==null?void 0:e.sort((W,R)=>W.localeCompare(R));const P=e.map(W=>({[`${r}/${W}`]:[i]}));return Object.assign({},...P)}function jr(r){return me$1(r),`urn:recap:${Jf(r).replace(/=/g,"")}`}function Oe(r){const e=Gf(r.replace("urn:recap:",""));return me$1(e),e}function cu(r,e,i){const P=Yf(r,e,i);return jr(P)}function Qi$1(r){return r&&r.includes("urn:recap:")}function lu(r,e){const i=Oe(r),P=Oe(e),W=Wf(i,P);return jr(W)}function Wf(r,e){me$1(r),me$1(e);const i=Object.keys(r.att).concat(Object.keys(e.att)).sort((W,R)=>W.localeCompare(R)),P={att:{}};return i.forEach(W=>{var R,Wr;Object.keys(((R=r.att)==null?void 0:R[W])||{}).concat(Object.keys(((Wr=e.att)==null?void 0:Wr[W])||{})).sort((ei,ni)=>ei.localeCompare(ni)).forEach(ei=>{var ni,Xr;P.att[W]=Hf(Hi$1({},P.att[W]),{[ei]:((ni=r.att[W])==null?void 0:ni[ei])||((Xr=e.att[W])==null?void 0:Xr[ei])})})}),P}function Ji$1(r="",e){me$1(e);const i="I further authorize the stated URI to perform the following actions on my behalf: ";if(r.includes(i))return r;const P=[];let W=0;Object.keys(e.att).forEach(ei=>{const ni=Object.keys(e.att[ei]).map(si=>({ability:si.split("/")[0],action:si.split("/")[1]}));ni.sort((si,oi)=>si.action.localeCompare(oi.action));const Xr={};ni.forEach(si=>{Xr[si.ability]||(Xr[si.ability]=[]),Xr[si.ability].push(si.action)});const Zr=Object.keys(Xr).map(si=>(W++,`(${W}) '${si}': '${Xr[si].join("', '")}' for '${ei}'.`));P.push(Zr.join(", ").replace(".,","."))});const R=P.join(" "),Wr=`${i}${R}`;return`${r?r+" ":""}${Wr}`}function du(r){var e;const i=Oe(r);me$1(i);const P=(e=i.att)==null?void 0:e.eip155;return P?Object.keys(P).map(W=>W.split("/")[1]):[]}function pu(r){const e=Oe(r);me$1(e);const i=[];return Object.values(e.att).forEach(P=>{Object.values(P).forEach(W=>{var R;(R=W==null?void 0:W[0])!=null&&R.chains&&i.push(W[0].chains)})}),[...new Set(i.flat())]}function Qr(r){if(!r)return;const e=r==null?void 0:r[r.length-1];return Qi$1(e)?e:void 0}const Gi="base10",zt$1="base16",Jr="base64pad",Gr="utf8",Yi$1=0,lr$2=1,vu=0,Zf=1,Vi=12,Wi$2=32;function mu(){const r=x25519.generateKeyPair();return{privateKey:toString(r.secretKey,zt$1),publicKey:toString(r.publicKey,zt$1)}}function gu(){const r=random.randomBytes(Wi$2);return toString(r,zt$1)}function Au(r,e){const i=x25519.sharedKey(fromString(r,zt$1),fromString(e,zt$1),!0),P=new HKDF_1(sha256.SHA256,i).expand(Wi$2);return toString(P,zt$1)}function bu(r){const e=sha256.hash(fromString(r,zt$1));return toString(e,zt$1)}function yu(r){const e=sha256.hash(fromString(r,Gr));return toString(e,zt$1)}function $f(r){return fromString(`${r}`,Gi)}function Mr(r){return Number(toString(r,Gi))}function wu(r){const e=$f(typeof r.type<"u"?r.type:Yi$1);if(Mr(e)===lr$2&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const i=typeof r.senderPublicKey<"u"?fromString(r.senderPublicKey,zt$1):void 0,P=typeof r.iv<"u"?fromString(r.iv,zt$1):random.randomBytes(Vi),W=new chacha20poly1305.ChaCha20Poly1305(fromString(r.symKey,zt$1)).seal(P,fromString(r.message,Gr));return to({type:e,sealed:W,iv:P,senderPublicKey:i})}function xu(r){const e=new chacha20poly1305.ChaCha20Poly1305(fromString(r.symKey,zt$1)),{sealed:i,iv:P}=Xi$1(r.encoded),W=e.open(P,i);if(W===null)throw new Error("Failed to decrypt");return toString(W,Gr)}function to(r){if(Mr(r.type)===lr$2){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString(concat([r.type,r.senderPublicKey,r.iv,r.sealed]),Jr)}return toString(concat([r.type,r.iv,r.sealed]),Jr)}function Xi$1(r){const e=fromString(r,Jr),i=e.slice(vu,Zf),P=Zf;if(Mr(i)===lr$2){const ei=P+Wi$2,ni=ei+Vi,Xr=e.slice(P,ei),Zr=e.slice(ei,ni),si=e.slice(ni);return{type:i,sealed:si,iv:Zr,senderPublicKey:Xr}}const W=P+Vi,R=e.slice(P,W),Wr=e.slice(W);return{type:i,sealed:Wr,iv:R}}function Mu(r,e){const i=Xi$1(r);return eo({type:Mr(i.type),senderPublicKey:typeof i.senderPublicKey<"u"?toString(i.senderPublicKey,zt$1):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function eo(r){const e=(r==null?void 0:r.type)||Yi$1;if(e===lr$2){if(typeof(r==null?void 0:r.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(r==null?void 0:r.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r==null?void 0:r.senderPublicKey,receiverPublicKey:r==null?void 0:r.receiverPublicKey}}function Eu(r){return r.type===lr$2&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}const ro="irn";function Su(r){return(r==null?void 0:r.relay)||{protocol:ro}}function Nu(r){const e=RELAY_JSONRPC[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var Iu=Object.defineProperty,_u=Object.defineProperties,Bu=Object.getOwnPropertyDescriptors,io=Object.getOwnPropertySymbols,Cu=Object.prototype.hasOwnProperty,Ru=Object.prototype.propertyIsEnumerable,no=(r,e,i)=>e in r?Iu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,fo=(r,e)=>{for(var i in e||(e={}))Cu.call(e,i)&&no(r,i,e[i]);if(io)for(var i of io(e))Ru.call(e,i)&&no(r,i,e[i]);return r},Ou=(r,e)=>_u(r,Bu(e));function oo(r,e="-"){const i={},P="relay"+e;return Object.keys(r).forEach(W=>{if(W.startsWith(P)){const R=W.replace(P,""),Wr=r[W];i[R]=Wr}}),i}function Pu(r){r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),i=r.indexOf("?")!==-1?r.indexOf("?"):void 0,P=r.substring(0,e),W=r.substring(e+1,i).split("@"),R=typeof i<"u"?r.substring(i):"",Wr=queryString.parse(R),ei=typeof Wr.methods=="string"?Wr.methods.split(","):void 0;return{protocol:P,topic:so(W[0]),version:parseInt(W[1],10),symKey:Wr.symKey,relay:oo(Wr),methods:ei,expiryTimestamp:Wr.expiryTimestamp?parseInt(Wr.expiryTimestamp,10):void 0}}function so(r){return r.startsWith("//")?r.substring(2):r}function ao(r,e="-"){const i="relay",P={};return Object.keys(r).forEach(W=>{const R=i+e+W;r[W]&&(P[R]=r[W])}),P}function Du(r){return`${r.protocol}:${r.topic}@${r.version}?`+queryString.stringify(fo(Ou(fo({symKey:r.symKey},ao(r.relay)),{expiryTimestamp:r.expiryTimestamp}),r.methods?{methods:r.methods.join(",")}:{}))}function $e$1(r){const e=[];return r.forEach(i=>{const[P,W]=i.split(":");e.push(`${P}:${W}`)}),e}function co(r){const e=[];return Object.values(r).forEach(i=>{e.push(...$e$1(i.accounts))}),e}function lo(r,e){const i=[];return Object.values(r).forEach(P=>{$e$1(P.accounts).includes(e)&&i.push(...P.methods)}),i}function po(r,e){const i=[];return Object.values(r).forEach(P=>{$e$1(P.accounts).includes(e)&&i.push(...P.events)}),i}function Zi$1(r){return r.includes(":")}function vo(r){return Zi$1(r)?r.split(":")[0]:r}function mo(r){const e={};return r==null||r.forEach(i=>{const[P,W]=i.split(":");e[P]||(e[P]={accounts:[],chains:[],events:[]}),e[P].accounts.push(i),e[P].chains.push(`${P}:${W}`)}),e}function ju(r,e){e=e.map(P=>P.replace("did:pkh:",""));const i=mo(e);for(const[P,W]of Object.entries(i))W.methods?W.methods=ge$2(W.methods,r):W.methods=r,W.events=["chainChanged","accountsChanged"];return i}const go={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Ao={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function xe(r,e){const{message:i,code:P}=Ao[r];return{message:e?`${i} ${e}`:i,code:P}}function tr$1(r,e){const{message:i,code:P}=go[r];return{message:e?`${i} ${e}`:i,code:P}}function Er(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function Yr(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Pe(r){return typeof r>"u"}function Gt$1(r,e){return e&&Pe(r)?!0:typeof r=="string"&&!!r.trim().length}function Vr(r,e){return e&&Pe(r)?!0:typeof r=="number"&&!isNaN(r)}function Qu(r,e){const{requiredNamespaces:i}=e,P=Object.keys(r.namespaces),W=Object.keys(i);let R=!0;return _e$1(W,P)?(P.forEach(Wr=>{const{accounts:ei,methods:ni,events:Xr}=r.namespaces[Wr],Zr=$e$1(ei),si=i[Wr];(!_e$1(_r$1(Wr,si),Zr)||!_e$1(si.methods,ni)||!_e$1(si.events,Xr))&&(R=!1)}),R):!1}function Sr$1(r){return Gt$1(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function bo(r){if(Gt$1(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const i=e[0]+":"+e[1];return!!e[2]&&Sr$1(i)}}return!1}function Ju(r){if(Gt$1(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function Gu(r){var e;return(e=r==null?void 0:r.proposer)==null?void 0:e.publicKey}function Yu(r){return r==null?void 0:r.topic}function Vu(r,e){let i=null;return Gt$1(r==null?void 0:r.publicKey,!1)||(i=xe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),i}function tn(r){let e=!0;return Er(r)?r.length&&(e=r.every(i=>Gt$1(i,!1))):e=!1,e}function yo(r,e,i){let P=null;return Er(e)&&e.length?e.forEach(W=>{P||Sr$1(W)||(P=tr$1("UNSUPPORTED_CHAINS",`${i}, chain ${W} should be a string and conform to "namespace:chainId" format`))}):Sr$1(r)||(P=tr$1("UNSUPPORTED_CHAINS",`${i}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),P}function wo(r,e,i){let P=null;return Object.entries(r).forEach(([W,R])=>{if(P)return;const Wr=yo(W,_r$1(W,R),`${e} ${i}`);Wr&&(P=Wr)}),P}function xo(r,e){let i=null;return Er(r)?r.forEach(P=>{i||bo(P)||(i=tr$1("UNSUPPORTED_ACCOUNTS",`${e}, account ${P} should be a string and conform to "namespace:chainId:address" format`))}):i=tr$1("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),i}function Mo(r,e){let i=null;return Object.values(r).forEach(P=>{if(i)return;const W=xo(P==null?void 0:P.accounts,`${e} namespace`);W&&(i=W)}),i}function Eo(r,e){let i=null;return tn(r==null?void 0:r.methods)?tn(r==null?void 0:r.events)||(i=tr$1("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):i=tr$1("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),i}function en(r,e){let i=null;return Object.values(r).forEach(P=>{if(i)return;const W=Eo(P,`${e}, namespace`);W&&(i=W)}),i}function Wu(r,e,i){let P=null;if(r&&Yr(r)){const W=en(r,e);W&&(P=W);const R=wo(r,e,i);R&&(P=R)}else P=xe("MISSING_OR_INVALID",`${e}, ${i} should be an object with data`);return P}function So(r,e){let i=null;if(r&&Yr(r)){const P=en(r,e);P&&(i=P);const W=Mo(r,e);W&&(i=W)}else i=xe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return i}function No(r){return Gt$1(r.protocol,!0)}function Xu(r,e){let i=!1;return e&&!r?i=!0:r&&Er(r)&&r.length&&r.forEach(P=>{i=No(P)}),i}function Zu(r){return typeof r=="number"}function $u(r){return typeof r<"u"&&typeof r!==null}function th(r){return!(!r||typeof r!="object"||!r.code||!Vr(r.code,!1)||!r.message||!Gt$1(r.message,!1))}function eh(r){return!(Pe(r)||!Gt$1(r.method,!1))}function rh(r){return!(Pe(r)||Pe(r.result)&&Pe(r.error)||!Vr(r.id,!1)||!Gt$1(r.jsonrpc,!1))}function ih(r){return!(Pe(r)||!Gt$1(r.name,!1))}function nh(r,e){return!(!Sr$1(e)||!co(r).includes(e))}function fh(r,e,i){return Gt$1(i,!1)?lo(r,e).includes(i):!1}function oh(r,e,i){return Gt$1(i,!1)?po(r,e).includes(i):!1}function Io(r,e,i){let P=null;const W=sh(r),R=ah(e),Wr=Object.keys(W),ei=Object.keys(R),ni=_o(Object.keys(r)),Xr=_o(Object.keys(e)),Zr=ni.filter(si=>!Xr.includes(si));return Zr.length&&(P=xe("NON_CONFORMING_NAMESPACES",`${i} namespaces keys don't satisfy requiredNamespaces.
      Required: ${Zr.toString()}
      Received: ${Object.keys(e).toString()}`)),_e$1(Wr,ei)||(P=xe("NON_CONFORMING_NAMESPACES",`${i} namespaces chains don't satisfy required namespaces.
      Required: ${Wr.toString()}
      Approved: ${ei.toString()}`)),Object.keys(e).forEach(si=>{if(!si.includes(":")||P)return;const oi=$e$1(e[si].accounts);oi.includes(si)||(P=xe("NON_CONFORMING_NAMESPACES",`${i} namespaces accounts don't satisfy namespace accounts for ${si}
        Required: ${si}
        Approved: ${oi.toString()}`))}),Wr.forEach(si=>{P||(_e$1(W[si].methods,R[si].methods)?_e$1(W[si].events,R[si].events)||(P=xe("NON_CONFORMING_NAMESPACES",`${i} namespaces events don't satisfy namespace events for ${si}`)):P=xe("NON_CONFORMING_NAMESPACES",`${i} namespaces methods don't satisfy namespace methods for ${si}`))}),P}function sh(r){const e={};return Object.keys(r).forEach(i=>{var P;i.includes(":")?e[i]=r[i]:(P=r[i].chains)==null||P.forEach(W=>{e[W]={methods:r[i].methods,events:r[i].events}})}),e}function _o(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function ah(r){const e={};return Object.keys(r).forEach(i=>{if(i.includes(":"))e[i]=r[i];else{const P=$e$1(r[i].accounts);P==null||P.forEach(W=>{e[W]={accounts:r[i].accounts.filter(R=>R.includes(`${W}:`)),methods:r[i].methods,events:r[i].events}})}}),e}function uh(r,e){return Vr(r,!1)&&r<=e.max&&r>=e.min}function hh(){const r=We$2();return new Promise(e=>{switch(r){case qt$1.browser:e(Bo());break;case qt$1.reactNative:e(Co());break;case qt$1.node:e(Ro());break;default:e(!0)}})}function Bo(){return pr$1()&&(navigator==null?void 0:navigator.onLine)}async function Co(){if(er$1()&&typeof global<"u"&&global!=null&&global.NetInfo){const r=await(global==null?void 0:global.NetInfo.fetch());return r==null?void 0:r.isConnected}return!0}function Ro(){return!0}function ch(r){switch(We$2()){case qt$1.browser:Oo(r);break;case qt$1.reactNative:Po(r);break}}function Oo(r){!er$1()&&pr$1()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function Po(r){er$1()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>r(e==null?void 0:e.isConnected)))}const rn={};class lh{static get(e){return rn[e]}static set(e,i){rn[e]=i}static delete(e){delete rn[e]}}const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){warnKeyDropped(r);return}return e}function warnKeyDropped(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function destr(r,e={}){if(typeof r!="string")return r;const i=r.trim();if(r[0]==='"'&&r.endsWith('"')&&!r.includes("\\"))return i.slice(1,-1);if(i.length<=9){const P=i.toLowerCase();if(P==="true")return!0;if(P==="false")return!1;if(P==="undefined")return;if(P==="null")return null;if(P==="nan")return Number.NaN;if(P==="infinity")return Number.POSITIVE_INFINITY;if(P==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(suspectProtoRx.test(r)||suspectConstructorRx.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,jsonParseTransform)}return JSON.parse(r)}catch(P){if(e.strict)throw P;return r}}function wrapToPromise(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function asyncCall(r,...e){try{return wrapToPromise(r(...e))}catch(i){return Promise.reject(i)}}function isPrimitive(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function isPureObject(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function stringify(r){if(isPrimitive(r))return String(r);if(isPureObject(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return stringify(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const BASE64_PREFIX="base64:";function serializeRaw(r){if(typeof r=="string")return r;checkBufferSupport();const e=Buffer.from(r).toString("base64");return BASE64_PREFIX+e}function deserializeRaw(r){return typeof r!="string"||!r.startsWith(BASE64_PREFIX)?r:(checkBufferSupport(),Buffer.from(r.slice(BASE64_PREFIX.length),"base64"))}function normalizeKey(r){return r?r.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...r){return normalizeKey(r.join(":"))}function normalizeBaseKey(r){return r=normalizeKey(r),r?r+":":""}function defineDriver(r){return r}const DRIVER_NAME="memory",memory=()=>{const r=new Map;return{name:DRIVER_NAME,options:{},hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,i){r.set(e,i)},setItemRaw(e,i){r.set(e,i)},removeItem(e){r.delete(e)},getKeys(){return Array.from(r.keys())},clear(){r.clear()},dispose(){r.clear()}}};function createStorage(r={}){const e={mounts:{"":r.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},i=Xr=>{for(const Zr of e.mountpoints)if(Xr.startsWith(Zr))return{base:Zr,relativeKey:Xr.slice(Zr.length),driver:e.mounts[Zr]};return{base:"",relativeKey:Xr,driver:e.mounts[""]}},P=(Xr,Zr)=>e.mountpoints.filter(si=>si.startsWith(Xr)||Zr&&Xr.startsWith(si)).map(si=>({relativeBase:Xr.length>si.length?Xr.slice(si.length):void 0,mountpoint:si,driver:e.mounts[si]})),W=(Xr,Zr)=>{if(e.watching){Zr=normalizeKey(Zr);for(const si of e.watchListeners)si(Xr,Zr)}},R=async()=>{if(!e.watching){e.watching=!0;for(const Xr in e.mounts)e.unwatch[Xr]=await watch(e.mounts[Xr],W,Xr)}},Wr=async()=>{if(e.watching){for(const Xr in e.unwatch)await e.unwatch[Xr]();e.unwatch={},e.watching=!1}},ei=(Xr,Zr,si)=>{const oi=new Map,ai=fi=>{let ui=oi.get(fi.base);return ui||(ui={driver:fi.driver,base:fi.base,items:[]},oi.set(fi.base,ui)),ui};for(const fi of Xr){const ui=typeof fi=="string",sn=normalizeKey(ui?fi:fi.key),hn=ui?void 0:fi.value,nn=ui||!fi.options?Zr:{...Zr,...fi.options},ln=i(sn);ai(ln).items.push({key:sn,value:hn,relativeKey:ln.relativeKey,options:nn})}return Promise.all([...oi.values()].map(fi=>si(fi))).then(fi=>fi.flat())},ni={hasItem(Xr,Zr={}){Xr=normalizeKey(Xr);const{relativeKey:si,driver:oi}=i(Xr);return asyncCall(oi.hasItem,si,Zr)},getItem(Xr,Zr={}){Xr=normalizeKey(Xr);const{relativeKey:si,driver:oi}=i(Xr);return asyncCall(oi.getItem,si,Zr).then(ai=>destr(ai))},getItems(Xr,Zr){return ei(Xr,Zr,si=>si.driver.getItems?asyncCall(si.driver.getItems,si.items.map(oi=>({key:oi.relativeKey,options:oi.options})),Zr).then(oi=>oi.map(ai=>({key:joinKeys(si.base,ai.key),value:destr(ai.value)}))):Promise.all(si.items.map(oi=>asyncCall(si.driver.getItem,oi.relativeKey,oi.options).then(ai=>({key:oi.key,value:destr(ai)})))))},getItemRaw(Xr,Zr={}){Xr=normalizeKey(Xr);const{relativeKey:si,driver:oi}=i(Xr);return oi.getItemRaw?asyncCall(oi.getItemRaw,si,Zr):asyncCall(oi.getItem,si,Zr).then(ai=>deserializeRaw(ai))},async setItem(Xr,Zr,si={}){if(Zr===void 0)return ni.removeItem(Xr);Xr=normalizeKey(Xr);const{relativeKey:oi,driver:ai}=i(Xr);ai.setItem&&(await asyncCall(ai.setItem,oi,stringify(Zr),si),ai.watch||W("update",Xr))},async setItems(Xr,Zr){await ei(Xr,Zr,async si=>{if(si.driver.setItems)return asyncCall(si.driver.setItems,si.items.map(oi=>({key:oi.relativeKey,value:stringify(oi.value),options:oi.options})),Zr);si.driver.setItem&&await Promise.all(si.items.map(oi=>asyncCall(si.driver.setItem,oi.relativeKey,stringify(oi.value),oi.options)))})},async setItemRaw(Xr,Zr,si={}){if(Zr===void 0)return ni.removeItem(Xr,si);Xr=normalizeKey(Xr);const{relativeKey:oi,driver:ai}=i(Xr);if(ai.setItemRaw)await asyncCall(ai.setItemRaw,oi,Zr,si);else if(ai.setItem)await asyncCall(ai.setItem,oi,serializeRaw(Zr),si);else return;ai.watch||W("update",Xr)},async removeItem(Xr,Zr={}){typeof Zr=="boolean"&&(Zr={removeMeta:Zr}),Xr=normalizeKey(Xr);const{relativeKey:si,driver:oi}=i(Xr);oi.removeItem&&(await asyncCall(oi.removeItem,si,Zr),(Zr.removeMeta||Zr.removeMata)&&await asyncCall(oi.removeItem,si+"$",Zr),oi.watch||W("remove",Xr))},async getMeta(Xr,Zr={}){typeof Zr=="boolean"&&(Zr={nativeOnly:Zr}),Xr=normalizeKey(Xr);const{relativeKey:si,driver:oi}=i(Xr),ai=Object.create(null);if(oi.getMeta&&Object.assign(ai,await asyncCall(oi.getMeta,si,Zr)),!Zr.nativeOnly){const fi=await asyncCall(oi.getItem,si+"$",Zr).then(ui=>destr(ui));fi&&typeof fi=="object"&&(typeof fi.atime=="string"&&(fi.atime=new Date(fi.atime)),typeof fi.mtime=="string"&&(fi.mtime=new Date(fi.mtime)),Object.assign(ai,fi))}return ai},setMeta(Xr,Zr,si={}){return this.setItem(Xr+"$",Zr,si)},removeMeta(Xr,Zr={}){return this.removeItem(Xr+"$",Zr)},async getKeys(Xr,Zr={}){Xr=normalizeBaseKey(Xr);const si=P(Xr,!0);let oi=[];const ai=[];for(const fi of si){const sn=(await asyncCall(fi.driver.getKeys,fi.relativeBase,Zr)).map(hn=>fi.mountpoint+normalizeKey(hn)).filter(hn=>!oi.some(nn=>hn.startsWith(nn)));ai.push(...sn),oi=[fi.mountpoint,...oi.filter(hn=>!hn.startsWith(fi.mountpoint))]}return Xr?ai.filter(fi=>fi.startsWith(Xr)&&!fi.endsWith("$")):ai.filter(fi=>!fi.endsWith("$"))},async clear(Xr,Zr={}){Xr=normalizeBaseKey(Xr),await Promise.all(P(Xr,!1).map(async si=>{if(si.driver.clear)return asyncCall(si.driver.clear,si.relativeBase,Zr);if(si.driver.removeItem){const oi=await si.driver.getKeys(si.relativeBase||"",Zr);return Promise.all(oi.map(ai=>si.driver.removeItem(ai,Zr)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(Xr=>dispose(Xr)))},async watch(Xr){return await R(),e.watchListeners.push(Xr),async()=>{e.watchListeners=e.watchListeners.filter(Zr=>Zr!==Xr),e.watchListeners.length===0&&await Wr()}},async unwatch(){e.watchListeners=[],await Wr()},mount(Xr,Zr){if(Xr=normalizeBaseKey(Xr),Xr&&e.mounts[Xr])throw new Error(`already mounted at ${Xr}`);return Xr&&(e.mountpoints.push(Xr),e.mountpoints.sort((si,oi)=>oi.length-si.length)),e.mounts[Xr]=Zr,e.watching&&Promise.resolve(watch(Zr,W,Xr)).then(si=>{e.unwatch[Xr]=si}).catch(console.error),ni},async unmount(Xr,Zr=!0){Xr=normalizeBaseKey(Xr),!(!Xr||!e.mounts[Xr])&&(e.watching&&Xr in e.unwatch&&(e.unwatch[Xr](),delete e.unwatch[Xr]),Zr&&await dispose(e.mounts[Xr]),e.mountpoints=e.mountpoints.filter(si=>si!==Xr),delete e.mounts[Xr])},getMount(Xr=""){Xr=normalizeKey(Xr)+":";const Zr=i(Xr);return{driver:Zr.driver,base:Zr.base}},getMounts(Xr="",Zr={}){return Xr=normalizeKey(Xr),P(Xr,Zr.parents).map(oi=>({driver:oi.driver,base:oi.mountpoint}))}};return ni}function watch(r,e,i){return r.watch?r.watch((P,W)=>e(P,i+W)):()=>{}}async function dispose(r){typeof r.dispose=="function"&&await asyncCall(r.dispose)}function promisifyRequest(r){return new Promise((e,i)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>i(r.error)})}function createStore(r,e){const i=indexedDB.open(r);i.onupgradeneeded=()=>i.result.createObjectStore(e);const P=promisifyRequest(i);return(W,R)=>P.then(Wr=>R(Wr.transaction(e,W).objectStore(e)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(r,e=defaultGetStore()){return e("readonly",i=>promisifyRequest(i.get(r)))}function set$1(r,e,i=defaultGetStore()){return i("readwrite",P=>(P.put(e,r),promisifyRequest(P.transaction)))}function del(r,e=defaultGetStore()){return e("readwrite",i=>(i.delete(r),promisifyRequest(i.transaction)))}function clear(r=defaultGetStore()){return r("readwrite",e=>(e.clear(),promisifyRequest(e.transaction)))}function eachCursor(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},promisifyRequest(r.transaction)}function keys(r=defaultGetStore()){return r("readonly",e=>{if(e.getAllKeys)return promisifyRequest(e.getAllKeys());const i=[];return eachCursor(e,P=>i.push(P.key)).then(()=>i)})}const JSONStringify=r=>JSON.stringify(r,(e,i)=>typeof i=="bigint"?i.toString()+"n":i),JSONParse=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,i=r.replace(e,'$1"$2n"$3');return JSON.parse(i,(P,W)=>typeof W=="string"&&W.match(/^\d+n$/)?BigInt(W.substring(0,W.length-1)):W)};function safeJsonParse(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSONParse(r)}catch{return r}}function safeJsonStringify(r){return typeof r=="string"?r:JSONStringify(r)||""}const x$1="idb-keyval";var z$4=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",i=W=>e+W;let P;return r.dbName&&r.storeName&&(P=createStore(r.dbName,r.storeName)),{name:x$1,options:r,async hasItem(W){return!(typeof await get(i(W),P)>"u")},async getItem(W){return await get(i(W),P)??null},setItem(W,R){return set$1(i(W),R,P)},removeItem(W){return del(i(W),P)},getKeys(){return keys(P)},clear(){return clear(P)}}};const D$1="WALLET_CONNECT_V2_INDEXED_DB",E$3="keyvaluestorage";let _$2=class{constructor(){this.indexedDb=createStorage({driver:z$4({dbName:D$1,storeName:E$3})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const i=await this.indexedDb.getItem(e);if(i!==null)return i}async setItem(e,i){await this.indexedDb.setItem(e,safeJsonStringify(i))}async removeItem(e){await this.indexedDb.removeItem(e)}};var l$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c$1={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(i){return this.hasOwnProperty(i)?String(this[i]):null},r.prototype.setItem=function(i,P){this[i]=String(P)},r.prototype.removeItem=function(i){delete this[i]},r.prototype.clear=function(){const i=this;Object.keys(i).forEach(function(P){i[P]=void 0,delete i[P]})},r.prototype.key=function(i){return i=i||0,Object.keys(this)[i]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$1<"u"&&l$1.localStorage?c$1.exports=l$1.localStorage:typeof window<"u"&&window.localStorage?c$1.exports=window.localStorage:c$1.exports=new e})();function k$2(r){var e;return[r[0],safeJsonParse((e=r[1])!=null?e:"")]}let K$1=class{constructor(){this.localStorage=c$1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$2)}async getItem(e){const i=this.localStorage.getItem(e);if(i!==null)return safeJsonParse(i)}async setItem(e,i){this.localStorage.setItem(e,safeJsonStringify(i))}async removeItem(e){this.localStorage.removeItem(e)}};const N$2="wc_storage_version",y$3=1,O$2=async(r,e,i)=>{const P=N$2,W=await e.getItem(P);if(W&&W>=y$3){i(e);return}const R=await r.getKeys();if(!R.length){i(e);return}const Wr=[];for(;R.length;){const ei=R.shift();if(!ei)continue;const ni=ei.toLowerCase();if(ni.includes("wc@")||ni.includes("walletconnect")||ni.includes("wc_")||ni.includes("wallet_connect")){const Xr=await r.getItem(ei);await e.setItem(ei,Xr),Wr.push(ei)}}await e.setItem(P,y$3),i(e),j$1(r,Wr)},j$1=async(r,e)=>{e.length&&e.forEach(async i=>{await r.removeItem(i)})};let h$2=class{constructor(){this.initialized=!1,this.setInitialized=i=>{this.storage=i,this.initialized=!0};const e=new K$1;this.storage=e;try{const i=new _$2;O$2(e,i,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,i){return await this.initialize(),this.storage.setItem(e,i)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const i=setInterval(()=>{this.initialized&&(clearInterval(i),e())},20)})}};var cjs$1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(r,e){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,P){i.__proto__=P}||function(i,P){for(var W in P)P.hasOwnProperty(W)&&(i[W]=P[W])},extendStatics$1(r,e)};function __extends$1(r,e){extendStatics$1(r,e);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var i,P=1,W=arguments.length;P<W;P++){i=arguments[P];for(var R in i)Object.prototype.hasOwnProperty.call(i,R)&&(e[R]=i[R])}return e},__assign$1.apply(this,arguments)};function __rest$1(r,e){var i={};for(var P in r)Object.prototype.hasOwnProperty.call(r,P)&&e.indexOf(P)<0&&(i[P]=r[P]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,P=Object.getOwnPropertySymbols(r);W<P.length;W++)e.indexOf(P[W])<0&&Object.prototype.propertyIsEnumerable.call(r,P[W])&&(i[P[W]]=r[P[W]]);return i}function __decorate$1(r,e,i,P){var W=arguments.length,R=W<3?e:P===null?P=Object.getOwnPropertyDescriptor(e,i):P,Wr;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(r,e,i,P);else for(var ei=r.length-1;ei>=0;ei--)(Wr=r[ei])&&(R=(W<3?Wr(R):W>3?Wr(e,i,R):Wr(e,i))||R);return W>3&&R&&Object.defineProperty(e,i,R),R}function __param$1(r,e){return function(i,P){e(i,P,r)}}function __metadata$1(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function __awaiter$1(r,e,i,P){function W(R){return R instanceof i?R:new i(function(Wr){Wr(R)})}return new(i||(i=Promise))(function(R,Wr){function ei(Zr){try{Xr(P.next(Zr))}catch(si){Wr(si)}}function ni(Zr){try{Xr(P.throw(Zr))}catch(si){Wr(si)}}function Xr(Zr){Zr.done?R(Zr.value):W(Zr.value).then(ei,ni)}Xr((P=P.apply(r,e||[])).next())})}function __generator$1(r,e){var i={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},P,W,R,Wr;return Wr={next:ei(0),throw:ei(1),return:ei(2)},typeof Symbol=="function"&&(Wr[Symbol.iterator]=function(){return this}),Wr;function ei(Xr){return function(Zr){return ni([Xr,Zr])}}function ni(Xr){if(P)throw new TypeError("Generator is already executing.");for(;i;)try{if(P=1,W&&(R=Xr[0]&2?W.return:Xr[0]?W.throw||((R=W.return)&&R.call(W),0):W.next)&&!(R=R.call(W,Xr[1])).done)return R;switch(W=0,R&&(Xr=[Xr[0]&2,R.value]),Xr[0]){case 0:case 1:R=Xr;break;case 4:return i.label++,{value:Xr[1],done:!1};case 5:i.label++,W=Xr[1],Xr=[0];continue;case 7:Xr=i.ops.pop(),i.trys.pop();continue;default:if(R=i.trys,!(R=R.length>0&&R[R.length-1])&&(Xr[0]===6||Xr[0]===2)){i=0;continue}if(Xr[0]===3&&(!R||Xr[1]>R[0]&&Xr[1]<R[3])){i.label=Xr[1];break}if(Xr[0]===6&&i.label<R[1]){i.label=R[1],R=Xr;break}if(R&&i.label<R[2]){i.label=R[2],i.ops.push(Xr);break}R[2]&&i.ops.pop(),i.trys.pop();continue}Xr=e.call(r,i)}catch(Zr){Xr=[6,Zr],W=0}finally{P=R=0}if(Xr[0]&5)throw Xr[1];return{value:Xr[0]?Xr[1]:void 0,done:!0}}}function __createBinding$1(r,e,i,P){P===void 0&&(P=i),r[P]=e[i]}function __exportStar$1(r,e){for(var i in r)i!=="default"&&!e.hasOwnProperty(i)&&(e[i]=r[i])}function __values$1(r){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&r[e],P=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&P>=r.length&&(r=void 0),{value:r&&r[P++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(r,e){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var P=i.call(r),W,R=[],Wr;try{for(;(e===void 0||e-- >0)&&!(W=P.next()).done;)R.push(W.value)}catch(ei){Wr={error:ei}}finally{try{W&&!W.done&&(i=P.return)&&i.call(P)}finally{if(Wr)throw Wr.error}}return R}function __spread$1(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(__read$1(arguments[e]));return r}function __spreadArrays$1(){for(var r=0,e=0,i=arguments.length;e<i;e++)r+=arguments[e].length;for(var P=Array(r),W=0,e=0;e<i;e++)for(var R=arguments[e],Wr=0,ei=R.length;Wr<ei;Wr++,W++)P[W]=R[Wr];return P}function __await$1(r){return this instanceof __await$1?(this.v=r,this):new __await$1(r)}function __asyncGenerator$1(r,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=i.apply(r,e||[]),W,R=[];return W={},Wr("next"),Wr("throw"),Wr("return"),W[Symbol.asyncIterator]=function(){return this},W;function Wr(oi){P[oi]&&(W[oi]=function(ai){return new Promise(function(fi,ui){R.push([oi,ai,fi,ui])>1||ei(oi,ai)})})}function ei(oi,ai){try{ni(P[oi](ai))}catch(fi){si(R[0][3],fi)}}function ni(oi){oi.value instanceof __await$1?Promise.resolve(oi.value.v).then(Xr,Zr):si(R[0][2],oi)}function Xr(oi){ei("next",oi)}function Zr(oi){ei("throw",oi)}function si(oi,ai){oi(ai),R.shift(),R.length&&ei(R[0][0],R[0][1])}}function __asyncDelegator$1(r){var e,i;return e={},P("next"),P("throw",function(W){throw W}),P("return"),e[Symbol.iterator]=function(){return this},e;function P(W,R){e[W]=r[W]?function(Wr){return(i=!i)?{value:__await$1(r[W](Wr)),done:W==="return"}:R?R(Wr):Wr}:R}}function __asyncValues$1(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],i;return e?e.call(r):(r=typeof __values$1=="function"?__values$1(r):r[Symbol.iterator](),i={},P("next"),P("throw"),P("return"),i[Symbol.asyncIterator]=function(){return this},i);function P(R){i[R]=r[R]&&function(Wr){return new Promise(function(ei,ni){Wr=r[R](Wr),W(ei,ni,Wr.done,Wr.value)})}}function W(R,Wr,ei,ni){Promise.resolve(ni).then(function(Xr){R({value:Xr,done:ei})},Wr)}}function __makeTemplateObject$1(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function __importStar$1(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e.default=r,e}function __importDefault$1(r){return r&&r.__esModule?r:{default:r}}function __classPrivateFieldGet$1(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function __classPrivateFieldSet$1(r,e,i){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,i),i}const tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$1},__asyncDelegator:__asyncDelegator$1,__asyncGenerator:__asyncGenerator$1,__asyncValues:__asyncValues$1,__await:__await$1,__awaiter:__awaiter$1,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldSet:__classPrivateFieldSet$1,__createBinding:__createBinding$1,__decorate:__decorate$1,__exportStar:__exportStar$1,__extends:__extends$1,__generator:__generator$1,__importDefault:__importDefault$1,__importStar:__importStar$1,__makeTemplateObject:__makeTemplateObject$1,__metadata:__metadata$1,__param:__param$1,__read:__read$1,__rest:__rest$1,__spread:__spread$1,__spreadArrays:__spreadArrays$1,__values:__values$1},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(tslib_es6$1);var heartbeat$2={},types={},heartbeat$1={};let IEvents$1=class{};const esm=Object.freeze(Object.defineProperty({__proto__:null,IEvents:IEvents$1},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(esm);var hasRequiredHeartbeat$2;function requireHeartbeat$2(){if(hasRequiredHeartbeat$2)return heartbeat$1;hasRequiredHeartbeat$2=1,Object.defineProperty(heartbeat$1,"__esModule",{value:!0}),heartbeat$1.IHeartBeat=void 0;const r=require$$0$2;class e extends r.IEvents{constructor(P){super()}}return heartbeat$1.IHeartBeat=e,heartbeat$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),require$$0$3.__exportStar(requireHeartbeat$2(),r)}(types)),types}var constants={},heartbeat={},hasRequiredHeartbeat$1;function requireHeartbeat$1(){if(hasRequiredHeartbeat$1)return heartbeat;hasRequiredHeartbeat$1=1,Object.defineProperty(heartbeat,"__esModule",{value:!0}),heartbeat.HEARTBEAT_EVENTS=heartbeat.HEARTBEAT_INTERVAL=void 0;const r=cjs$4;return heartbeat.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,heartbeat.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},heartbeat}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),require$$0$3.__exportStar(requireHeartbeat$1(),r)}(constants)),constants}var hasRequiredHeartbeat;function requireHeartbeat(){if(hasRequiredHeartbeat)return heartbeat$2;hasRequiredHeartbeat=1,Object.defineProperty(heartbeat$2,"__esModule",{value:!0}),heartbeat$2.HeartBeat=void 0;const r=require$$0$3,e=eventsExports,i=cjs$4,P=requireTypes(),W=requireConstants();class R extends P.IHeartBeat{constructor(ei){super(ei),this.events=new e.EventEmitter,this.interval=W.HEARTBEAT_INTERVAL,this.interval=(ei==null?void 0:ei.interval)||W.HEARTBEAT_INTERVAL}static init(ei){return r.__awaiter(this,void 0,void 0,function*(){const ni=new R(ei);return yield ni.init(),ni})}init(){return r.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(ei,ni){this.events.on(ei,ni)}once(ei,ni){this.events.once(ei,ni)}off(ei,ni){this.events.off(ei,ni)}removeListener(ei,ni){this.events.removeListener(ei,ni)}initialize(){return r.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),i.toMiliseconds(this.interval))})}pulse(){this.events.emit(W.HEARTBEAT_EVENTS.pulse)}}return heartbeat$2.HeartBeat=R,heartbeat$2}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$3;e.__exportStar(requireHeartbeat(),r),e.__exportStar(requireTypes(),r),e.__exportStar(requireConstants(),r)})(cjs$1);function tryStringify(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}var quickFormatUnescaped=format$1;function format$1(r,e,i){var P=i&&i.stringify||tryStringify,W=1;if(typeof r=="object"&&r!==null){var R=e.length+W;if(R===1)return r;var Wr=new Array(R);Wr[0]=P(r);for(var ei=1;ei<R;ei++)Wr[ei]=P(e[ei]);return Wr.join(" ")}if(typeof r!="string")return r;var ni=e.length;if(ni===0)return r;for(var Xr="",Zr=1-W,si=-1,oi=r&&r.length||0,ai=0;ai<oi;){if(r.charCodeAt(ai)===37&&ai+1<oi){switch(si=si>-1?si:0,r.charCodeAt(ai+1)){case 100:case 102:if(Zr>=ni||e[Zr]==null)break;si<ai&&(Xr+=r.slice(si,ai)),Xr+=Number(e[Zr]),si=ai+2,ai++;break;case 105:if(Zr>=ni||e[Zr]==null)break;si<ai&&(Xr+=r.slice(si,ai)),Xr+=Math.floor(Number(e[Zr])),si=ai+2,ai++;break;case 79:case 111:case 106:if(Zr>=ni||e[Zr]===void 0)break;si<ai&&(Xr+=r.slice(si,ai));var fi=typeof e[Zr];if(fi==="string"){Xr+="'"+e[Zr]+"'",si=ai+2,ai++;break}if(fi==="function"){Xr+=e[Zr].name||"<anonymous>",si=ai+2,ai++;break}Xr+=P(e[Zr]),si=ai+2,ai++;break;case 115:if(Zr>=ni)break;si<ai&&(Xr+=r.slice(si,ai)),Xr+=String(e[Zr]),si=ai+2,ai++;break;case 37:si<ai&&(Xr+=r.slice(si,ai)),Xr+="%",si=ai+2,ai++,Zr--;break}++Zr}++ai}return si===-1?r:(si<oi&&(Xr+=r.slice(si)),Xr)}const format=quickFormatUnescaped;var browser$1=pino;const _console=pfGlobalThisOrFallback().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue};function shouldSerialize(r,e){return Array.isArray(r)?r.filter(function(P){return P!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function pino(r){r=r||{},r.browser=r.browser||{};const e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const i=r.browser.write||_console;r.browser.write&&(r.browser.asObject=!0);const P=r.serializers||{},W=shouldSerialize(r.browser.serialize,P);let R=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(R=!1);const Wr=["error","fatal","warn","info","debug","trace"];typeof i=="function"&&(i.error=i.fatal=i.warn=i.info=i.debug=i.trace=i),r.enabled===!1&&(r.level="silent");const ei=r.level||"info",ni=Object.create(i);ni.log||(ni.log=noop),Object.defineProperty(ni,"levelVal",{get:Zr}),Object.defineProperty(ni,"level",{get:si,set:oi});const Xr={transmit:e,serialize:W,asObject:r.browser.asObject,levels:Wr,timestamp:getTimeFunction(r)};ni.levels=pino.levels,ni.level=ei,ni.setMaxListeners=ni.getMaxListeners=ni.emit=ni.addListener=ni.on=ni.prependListener=ni.once=ni.prependOnceListener=ni.removeListener=ni.removeAllListeners=ni.listeners=ni.listenerCount=ni.eventNames=ni.write=ni.flush=noop,ni.serializers=P,ni._serialize=W,ni._stdErrSerialize=R,ni.child=ai,e&&(ni._logEvent=createLogEventShape());function Zr(){return this.level==="silent"?1/0:this.levels.values[this.level]}function si(){return this._level}function oi(fi){if(fi!=="silent"&&!this.levels.values[fi])throw Error("unknown level "+fi);this._level=fi,set(Xr,ni,"error","log"),set(Xr,ni,"fatal","error"),set(Xr,ni,"warn","error"),set(Xr,ni,"info","log"),set(Xr,ni,"debug","log"),set(Xr,ni,"trace","log")}function ai(fi,ui){if(!fi)throw new Error("missing bindings for child Pino");ui=ui||{},W&&fi.serializers&&(ui.serializers=fi.serializers);const sn=ui.serializers;if(W&&sn){var hn=Object.assign({},P,sn),nn=r.browser.serialize===!0?Object.keys(hn):W;delete fi.serializers,applySerializers([fi],nn,hn,this._stdErrSerialize)}function ln(on){this._childLevel=(on._childLevel|0)+1,this.error=bind(on,fi,"error"),this.fatal=bind(on,fi,"fatal"),this.warn=bind(on,fi,"warn"),this.info=bind(on,fi,"info"),this.debug=bind(on,fi,"debug"),this.trace=bind(on,fi,"trace"),hn&&(this.serializers=hn,this._serialize=nn),e&&(this._logEvent=createLogEventShape([].concat(on._logEvent.bindings,fi)))}return ln.prototype=this,new ln(this)}return ni}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pino.stdSerializers=stdSerializers;pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime,isoTime});function set(r,e,i,P){const W=Object.getPrototypeOf(e);e[i]=e.levelVal>e.levels.values[i]?noop:W[i]?W[i]:_console[i]||_console[P]||noop,wrap(r,e,i)}function wrap(r,e,i){!r.transmit&&e[i]===noop||(e[i]=function(P){return function(){const R=r.timestamp(),Wr=new Array(arguments.length),ei=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var ni=0;ni<Wr.length;ni++)Wr[ni]=arguments[ni];if(r.serialize&&!r.asObject&&applySerializers(Wr,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?P.call(ei,asObject(this,i,Wr,R)):P.apply(ei,Wr),r.transmit){const Xr=r.transmit.level||e.level,Zr=pino.levels.values[Xr],si=pino.levels.values[i];if(si<Zr)return;transmit(this,{ts:R,methodLevel:i,methodValue:si,transmitLevel:Xr,transmitValue:pino.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},Wr)}}}(e[i]))}function asObject(r,e,i,P){r._serialize&&applySerializers(i,r._serialize,r.serializers,r._stdErrSerialize);const W=i.slice();let R=W[0];const Wr={};P&&(Wr.time=P),Wr.level=pino.levels.values[e];let ei=(r._childLevel|0)+1;if(ei<1&&(ei=1),R!==null&&typeof R=="object"){for(;ei--&&typeof W[0]=="object";)Object.assign(Wr,W.shift());R=W.length?format(W.shift(),W):void 0}else typeof R=="string"&&(R=format(W.shift(),W));return R!==void 0&&(Wr.msg=R),Wr}function applySerializers(r,e,i,P){for(const W in r)if(P&&r[W]instanceof Error)r[W]=pino.stdSerializers.err(r[W]);else if(typeof r[W]=="object"&&!Array.isArray(r[W]))for(const R in r[W])e&&e.indexOf(R)>-1&&R in i&&(r[W][R]=i[R](r[W][R]))}function bind(r,e,i){return function(){const P=new Array(1+arguments.length);P[0]=e;for(var W=1;W<P.length;W++)P[W]=arguments[W-1];return r[i].apply(this,P)}}function transmit(r,e,i){const P=e.send,W=e.ts,R=e.methodLevel,Wr=e.methodValue,ei=e.val,ni=r._logEvent.bindings;applySerializers(i,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=W,r._logEvent.messages=i.filter(function(Xr){return ni.indexOf(Xr)===-1}),r._logEvent.level.label=R,r._logEvent.level.value=Wr,P(R,r._logEvent,ei),r._logEvent=createLogEventShape(ni)}function createLogEventShape(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function asErrValue(r){const e={type:r.constructor.name,msg:r.message,stack:r.stack};for(const i in r)e[i]===void 0&&(e[i]=r[i]);return e}function getTimeFunction(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?nullTime:epochTime}function mock(){return{}}function passthrough(r){return r}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}function unixTime(){return Math.round(Date.now()/1e3)}function isoTime(){return new Date(Date.now()).toISOString()}function pfGlobalThisOrFallback(){function r(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}const Hg=getDefaultExportFromCjs(browser$1),c={level:"info"},n$1="custom_context",l=1e3*1024;let O$1=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},d$1=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const i=new O$1(e);if(i.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${i.size}`);for(;this.size+i.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=i),this.tail=i):(this.head=i,this.tail=i),this.lengthInNodes++,this.sizeInBytes+=i.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let i=this.head;for(;i!==null;)e.push(i.value),i=i.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const i=e.value;return e=e.next,{done:!1,value:i}}}}},L$2=class{constructor(e,i=l){this.level=e??"error",this.levelValue=browser$1.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=i,this.logs=new d$1(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,i){i===browser$1.levels.values.error?console.error(e):i===browser$1.levels.values.warn?console.warn(e):i===browser$1.levels.values.debug?console.debug(e):i===browser$1.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(safeJsonStringify({timestamp:new Date().toISOString(),log:e}));const i=typeof e=="string"?JSON.parse(e).level:e.level;i>=this.levelValue&&this.forwardToConsole(e,i)}getLogs(){return this.logs}clearLogs(){this.logs=new d$1(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const i=this.getLogArray();return i.push(safeJsonStringify({extraMetadata:e})),new Blob(i,{type:"application/json"})}};class B{constructor(e,i=l){this.baseChunkLogger=new L$2(e,i)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const i=URL.createObjectURL(this.logsToBlob(e)),P=document.createElement("a");P.href=i,P.download=`w3i-logs-${new Date().toISOString()}.txt`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(i)}}class x extends streamBrowserify.Writable{constructor(e,i=l){super({objectMode:!0}),this.baseChunkLogger=new L$2(e,i)}_write(e,i,P){try{this.baseChunkLogger.appendToLogs(e),P()}catch(W){P(W)}}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var S$3=Object.defineProperty,_$1=Object.defineProperties,T$1=Object.getOwnPropertyDescriptors,p$2=Object.getOwnPropertySymbols,z$3=Object.prototype.hasOwnProperty,k$1=Object.prototype.propertyIsEnumerable,f$2=(r,e,i)=>e in r?S$3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,g$2=(r,e)=>{for(var i in e||(e={}))z$3.call(e,i)&&f$2(r,i,e[i]);if(p$2)for(var i of p$2(e))k$1.call(e,i)&&f$2(r,i,e[i]);return r},a$2=(r,e)=>_$1(r,T$1(e));function E$2(r){return a$2(g$2({},r),{level:(r==null?void 0:r.level)||c.level})}function b$3(r,e=n$1){return r[e]||""}function v$3(r,e,i=n$1){return r[i]=e,r}function y$2(r,e=n$1){let i="";return typeof r.bindings>"u"?i=b$3(r,e):i=r.bindings().context||"",i}function w$2(r,e,i=n$1){const P=y$2(r,i);return P.trim()?`${P}/${e}`:e}function A$1(r,e,i=n$1){const P=w$2(r,e,i),W=r.child({context:P});return v$3(W,P,i)}function m$2(r){var e,i;const P=new B((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:Hg(a$2(g$2({},r.opts),{level:"trace",browser:a$2(g$2({},(i=r.opts)==null?void 0:i.browser),{write:W=>P.write(W)})})),chunkLoggerController:P}}function C$2(r){var e;const i=new x((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:Hg(a$2(g$2({},r.opts),{level:"trace"}),i),chunkLoggerController:i}}function N$1(r){return typeof r.loggerOverride<"u"&&typeof r.loggerOverride!="string"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?m$2(r):C$2(r)}class n extends IEvents$1{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}let h$1=class extends IEvents$1{constructor(e,i){super(),this.core=e,this.logger=i,this.records=new Map}},a$1=class{constructor(e,i){this.logger=e,this.core=i}},u$1=class extends IEvents$1{constructor(e,i){super(),this.relayer=e,this.logger=i}},g$1=class extends IEvents$1{constructor(e){super()}},p$1=class{constructor(e,i,P,W){this.core=e,this.logger=i,this.name=P}};class d extends IEvents$1{constructor(e,i){super(),this.relayer=e,this.logger=i}}let E$1=class extends IEvents$1{constructor(e,i){super(),this.core=e,this.logger=i}},y$1=class{constructor(e,i){this.projectId=e,this.logger=i}},v$2=class{constructor(e,i){this.projectId=e,this.logger=i}},b$2=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},w$1=class{constructor(e){this.client=e}};var ed25519={},sha512={};(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=binary,i=wipe$1;r.DIGEST_LENGTH=64,r.BLOCK_SIZE=128;var P=function(){function ei(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return ei.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},ei.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},ei.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},ei.prototype.update=function(ni,Xr){if(Xr===void 0&&(Xr=ni.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var Zr=0;if(this._bytesHashed+=Xr,this._bufferLength>0){for(;this._bufferLength<r.BLOCK_SIZE&&Xr>0;)this._buffer[this._bufferLength++]=ni[Zr++],Xr--;this._bufferLength===this.blockSize&&(R(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(Xr>=this.blockSize&&(Zr=R(this._tempHi,this._tempLo,this._stateHi,this._stateLo,ni,Zr,Xr),Xr%=this.blockSize);Xr>0;)this._buffer[this._bufferLength++]=ni[Zr++],Xr--;return this},ei.prototype.finish=function(ni){if(!this._finished){var Xr=this._bytesHashed,Zr=this._bufferLength,si=Xr/536870912|0,oi=Xr<<3,ai=Xr%128<112?128:256;this._buffer[Zr]=128;for(var fi=Zr+1;fi<ai-8;fi++)this._buffer[fi]=0;e.writeUint32BE(si,this._buffer,ai-8),e.writeUint32BE(oi,this._buffer,ai-4),R(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ai),this._finished=!0}for(var fi=0;fi<this.digestLength/8;fi++)e.writeUint32BE(this._stateHi[fi],ni,fi*8),e.writeUint32BE(this._stateLo[fi],ni,fi*8+4);return this},ei.prototype.digest=function(){var ni=new Uint8Array(this.digestLength);return this.finish(ni),ni},ei.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},ei.prototype.restoreState=function(ni){return this._stateHi.set(ni.stateHi),this._stateLo.set(ni.stateLo),this._bufferLength=ni.bufferLength,ni.buffer&&this._buffer.set(ni.buffer),this._bytesHashed=ni.bytesHashed,this._finished=!1,this},ei.prototype.cleanSavedState=function(ni){i.wipe(ni.stateHi),i.wipe(ni.stateLo),ni.buffer&&i.wipe(ni.buffer),ni.bufferLength=0,ni.bytesHashed=0},ei}();r.SHA512=P;var W=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function R(ei,ni,Xr,Zr,si,oi,ai){for(var fi=Xr[0],ui=Xr[1],sn=Xr[2],hn=Xr[3],nn=Xr[4],ln=Xr[5],on=Xr[6],vn=Xr[7],Mn=Zr[0],mi=Zr[1],mn=Zr[2],Bn=Zr[3],ko=Zr[4],ii=Zr[5],t=Zr[6],o=Zr[7],H,G,Ne,Le,ti,Ie,s,Y;ai>=128;){for(var li=0;li<16;li++){var un=8*li+oi;ei[li]=e.readUint32BE(si,un),ni[li]=e.readUint32BE(si,un+4)}for(var li=0;li<80;li++){var pn=fi,di=ui,An=sn,$i=hn,fn=nn,cn=ln,ci=on,Rn=vn,Zn=Mn,ho=mi,qh=mn,Lo=Bn,jo=ko,jh=ii,_h=t,tf=o;if(H=vn,G=o,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=(nn>>>14|ko<<18)^(nn>>>18|ko<<14)^(ko>>>9|nn<<23),G=(ko>>>14|nn<<18)^(ko>>>18|nn<<14)^(nn>>>9|ko<<23),ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,H=nn&ln^~nn&on,G=ko&ii^~ko&t,ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,H=W[li*2],G=W[li*2+1],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,H=ei[li%16],G=ni[li%16],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Ne=s&65535|Y<<16,Le=ti&65535|Ie<<16,H=Ne,G=Le,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=(fi>>>28|Mn<<4)^(Mn>>>2|fi<<30)^(Mn>>>7|fi<<25),G=(Mn>>>28|fi<<4)^(fi>>>2|Mn<<30)^(fi>>>7|Mn<<25),ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,H=fi&ui^fi&sn^ui&sn,G=Mn&mi^Mn&mn^mi&mn,ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Rn=s&65535|Y<<16,tf=ti&65535|Ie<<16,H=$i,G=Lo,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Ne,G=Le,ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,$i=s&65535|Y<<16,Lo=ti&65535|Ie<<16,ui=pn,sn=di,hn=An,nn=$i,ln=fn,on=cn,vn=ci,fi=Rn,mi=Zn,mn=ho,Bn=qh,ko=Lo,ii=jo,t=jh,o=_h,Mn=tf,li%16===15)for(var un=0;un<16;un++)H=ei[un],G=ni[un],ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=ei[(un+9)%16],G=ni[(un+9)%16],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ne=ei[(un+1)%16],Le=ni[(un+1)%16],H=(Ne>>>1|Le<<31)^(Ne>>>8|Le<<24)^Ne>>>7,G=(Le>>>1|Ne<<31)^(Le>>>8|Ne<<24)^(Le>>>7|Ne<<25),ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ne=ei[(un+14)%16],Le=ni[(un+14)%16],H=(Ne>>>19|Le<<13)^(Le>>>29|Ne<<3)^Ne>>>6,G=(Le>>>19|Ne<<13)^(Ne>>>29|Le<<3)^(Le>>>6|Ne<<26),ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,ei[un]=s&65535|Y<<16,ni[un]=ti&65535|Ie<<16}H=fi,G=Mn,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Xr[0],G=Zr[0],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Xr[0]=fi=s&65535|Y<<16,Zr[0]=Mn=ti&65535|Ie<<16,H=ui,G=mi,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Xr[1],G=Zr[1],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Xr[1]=ui=s&65535|Y<<16,Zr[1]=mi=ti&65535|Ie<<16,H=sn,G=mn,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Xr[2],G=Zr[2],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Xr[2]=sn=s&65535|Y<<16,Zr[2]=mn=ti&65535|Ie<<16,H=hn,G=Bn,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Xr[3],G=Zr[3],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Xr[3]=hn=s&65535|Y<<16,Zr[3]=Bn=ti&65535|Ie<<16,H=nn,G=ko,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Xr[4],G=Zr[4],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Xr[4]=nn=s&65535|Y<<16,Zr[4]=ko=ti&65535|Ie<<16,H=ln,G=ii,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Xr[5],G=Zr[5],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Xr[5]=ln=s&65535|Y<<16,Zr[5]=ii=ti&65535|Ie<<16,H=on,G=t,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Xr[6],G=Zr[6],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Xr[6]=on=s&65535|Y<<16,Zr[6]=t=ti&65535|Ie<<16,H=vn,G=o,ti=G&65535,Ie=G>>>16,s=H&65535,Y=H>>>16,H=Xr[7],G=Zr[7],ti+=G&65535,Ie+=G>>>16,s+=H&65535,Y+=H>>>16,Ie+=ti>>>16,s+=Ie>>>16,Y+=s>>>16,Xr[7]=vn=s&65535|Y<<16,Zr[7]=o=ti&65535|Ie<<16,oi+=128,ai-=128}return oi}function Wr(ei){var ni=new P;ni.update(ei);var Xr=ni.digest();return ni.clean(),Xr}r.hash=Wr})(sha512);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.convertSecretKeyToX25519=r.convertPublicKeyToX25519=r.verify=r.sign=r.extractPublicKeyFromSecretKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.SEED_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=r.SIGNATURE_LENGTH=void 0;const e=random,i=sha512,P=wipe$1;r.SIGNATURE_LENGTH=64,r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=64,r.SEED_LENGTH=32;function W($i){const fn=new Float64Array(16);if($i)for(let cn=0;cn<$i.length;cn++)fn[cn]=$i[cn];return fn}const R=new Uint8Array(32);R[0]=9;const Wr=W(),ei=W([1]),ni=W([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Xr=W([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Zr=W([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),si=W([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),oi=W([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ai($i,fn){for(let cn=0;cn<16;cn++)$i[cn]=fn[cn]|0}function fi($i){let fn=1;for(let cn=0;cn<16;cn++){let ci=$i[cn]+fn+65535;fn=Math.floor(ci/65536),$i[cn]=ci-fn*65536}$i[0]+=fn-1+37*(fn-1)}function ui($i,fn,cn){const ci=~(cn-1);for(let Rn=0;Rn<16;Rn++){const Zn=ci&($i[Rn]^fn[Rn]);$i[Rn]^=Zn,fn[Rn]^=Zn}}function sn($i,fn){const cn=W(),ci=W();for(let Rn=0;Rn<16;Rn++)ci[Rn]=fn[Rn];fi(ci),fi(ci),fi(ci);for(let Rn=0;Rn<2;Rn++){cn[0]=ci[0]-65517;for(let ho=1;ho<15;ho++)cn[ho]=ci[ho]-65535-(cn[ho-1]>>16&1),cn[ho-1]&=65535;cn[15]=ci[15]-32767-(cn[14]>>16&1);const Zn=cn[15]>>16&1;cn[14]&=65535,ui(ci,cn,1-Zn)}for(let Rn=0;Rn<16;Rn++)$i[2*Rn]=ci[Rn]&255,$i[2*Rn+1]=ci[Rn]>>8}function hn($i,fn){let cn=0;for(let ci=0;ci<32;ci++)cn|=$i[ci]^fn[ci];return(1&cn-1>>>8)-1}function nn($i,fn){const cn=new Uint8Array(32),ci=new Uint8Array(32);return sn(cn,$i),sn(ci,fn),hn(cn,ci)}function ln($i){const fn=new Uint8Array(32);return sn(fn,$i),fn[0]&1}function on($i,fn){for(let cn=0;cn<16;cn++)$i[cn]=fn[2*cn]+(fn[2*cn+1]<<8);$i[15]&=32767}function vn($i,fn,cn){for(let ci=0;ci<16;ci++)$i[ci]=fn[ci]+cn[ci]}function Mn($i,fn,cn){for(let ci=0;ci<16;ci++)$i[ci]=fn[ci]-cn[ci]}function mi($i,fn,cn){let ci,Rn,Zn=0,ho=0,qh=0,Lo=0,jo=0,jh=0,_h=0,tf=0,zh=0,Ko=0,Uo=0,Uh=0,Vo=0,qo=0,Fh=0,Zo=0,Fo=0,Hh=0,Vf=0,Ho=0,Kh=0,yh=0,Yo=0,Vh=0,Ih=0,wh=0,uu=0,Dh=0,Mh=0,qu=0,Bh=0,Xf=cn[0],Jh=cn[1],Eh=cn[2],ph=cn[3],Qh=cn[4],xh=cn[5],mh=cn[6],su=cn[7],Ah=cn[8],gh=cn[9],Xh=cn[10],Sh=cn[11],vh=cn[12],Wh=cn[13],Rh=cn[14],bh=cn[15];ci=fn[0],Zn+=ci*Xf,ho+=ci*Jh,qh+=ci*Eh,Lo+=ci*ph,jo+=ci*Qh,jh+=ci*xh,_h+=ci*mh,tf+=ci*su,zh+=ci*Ah,Ko+=ci*gh,Uo+=ci*Xh,Uh+=ci*Sh,Vo+=ci*vh,qo+=ci*Wh,Fh+=ci*Rh,Zo+=ci*bh,ci=fn[1],ho+=ci*Xf,qh+=ci*Jh,Lo+=ci*Eh,jo+=ci*ph,jh+=ci*Qh,_h+=ci*xh,tf+=ci*mh,zh+=ci*su,Ko+=ci*Ah,Uo+=ci*gh,Uh+=ci*Xh,Vo+=ci*Sh,qo+=ci*vh,Fh+=ci*Wh,Zo+=ci*Rh,Fo+=ci*bh,ci=fn[2],qh+=ci*Xf,Lo+=ci*Jh,jo+=ci*Eh,jh+=ci*ph,_h+=ci*Qh,tf+=ci*xh,zh+=ci*mh,Ko+=ci*su,Uo+=ci*Ah,Uh+=ci*gh,Vo+=ci*Xh,qo+=ci*Sh,Fh+=ci*vh,Zo+=ci*Wh,Fo+=ci*Rh,Hh+=ci*bh,ci=fn[3],Lo+=ci*Xf,jo+=ci*Jh,jh+=ci*Eh,_h+=ci*ph,tf+=ci*Qh,zh+=ci*xh,Ko+=ci*mh,Uo+=ci*su,Uh+=ci*Ah,Vo+=ci*gh,qo+=ci*Xh,Fh+=ci*Sh,Zo+=ci*vh,Fo+=ci*Wh,Hh+=ci*Rh,Vf+=ci*bh,ci=fn[4],jo+=ci*Xf,jh+=ci*Jh,_h+=ci*Eh,tf+=ci*ph,zh+=ci*Qh,Ko+=ci*xh,Uo+=ci*mh,Uh+=ci*su,Vo+=ci*Ah,qo+=ci*gh,Fh+=ci*Xh,Zo+=ci*Sh,Fo+=ci*vh,Hh+=ci*Wh,Vf+=ci*Rh,Ho+=ci*bh,ci=fn[5],jh+=ci*Xf,_h+=ci*Jh,tf+=ci*Eh,zh+=ci*ph,Ko+=ci*Qh,Uo+=ci*xh,Uh+=ci*mh,Vo+=ci*su,qo+=ci*Ah,Fh+=ci*gh,Zo+=ci*Xh,Fo+=ci*Sh,Hh+=ci*vh,Vf+=ci*Wh,Ho+=ci*Rh,Kh+=ci*bh,ci=fn[6],_h+=ci*Xf,tf+=ci*Jh,zh+=ci*Eh,Ko+=ci*ph,Uo+=ci*Qh,Uh+=ci*xh,Vo+=ci*mh,qo+=ci*su,Fh+=ci*Ah,Zo+=ci*gh,Fo+=ci*Xh,Hh+=ci*Sh,Vf+=ci*vh,Ho+=ci*Wh,Kh+=ci*Rh,yh+=ci*bh,ci=fn[7],tf+=ci*Xf,zh+=ci*Jh,Ko+=ci*Eh,Uo+=ci*ph,Uh+=ci*Qh,Vo+=ci*xh,qo+=ci*mh,Fh+=ci*su,Zo+=ci*Ah,Fo+=ci*gh,Hh+=ci*Xh,Vf+=ci*Sh,Ho+=ci*vh,Kh+=ci*Wh,yh+=ci*Rh,Yo+=ci*bh,ci=fn[8],zh+=ci*Xf,Ko+=ci*Jh,Uo+=ci*Eh,Uh+=ci*ph,Vo+=ci*Qh,qo+=ci*xh,Fh+=ci*mh,Zo+=ci*su,Fo+=ci*Ah,Hh+=ci*gh,Vf+=ci*Xh,Ho+=ci*Sh,Kh+=ci*vh,yh+=ci*Wh,Yo+=ci*Rh,Vh+=ci*bh,ci=fn[9],Ko+=ci*Xf,Uo+=ci*Jh,Uh+=ci*Eh,Vo+=ci*ph,qo+=ci*Qh,Fh+=ci*xh,Zo+=ci*mh,Fo+=ci*su,Hh+=ci*Ah,Vf+=ci*gh,Ho+=ci*Xh,Kh+=ci*Sh,yh+=ci*vh,Yo+=ci*Wh,Vh+=ci*Rh,Ih+=ci*bh,ci=fn[10],Uo+=ci*Xf,Uh+=ci*Jh,Vo+=ci*Eh,qo+=ci*ph,Fh+=ci*Qh,Zo+=ci*xh,Fo+=ci*mh,Hh+=ci*su,Vf+=ci*Ah,Ho+=ci*gh,Kh+=ci*Xh,yh+=ci*Sh,Yo+=ci*vh,Vh+=ci*Wh,Ih+=ci*Rh,wh+=ci*bh,ci=fn[11],Uh+=ci*Xf,Vo+=ci*Jh,qo+=ci*Eh,Fh+=ci*ph,Zo+=ci*Qh,Fo+=ci*xh,Hh+=ci*mh,Vf+=ci*su,Ho+=ci*Ah,Kh+=ci*gh,yh+=ci*Xh,Yo+=ci*Sh,Vh+=ci*vh,Ih+=ci*Wh,wh+=ci*Rh,uu+=ci*bh,ci=fn[12],Vo+=ci*Xf,qo+=ci*Jh,Fh+=ci*Eh,Zo+=ci*ph,Fo+=ci*Qh,Hh+=ci*xh,Vf+=ci*mh,Ho+=ci*su,Kh+=ci*Ah,yh+=ci*gh,Yo+=ci*Xh,Vh+=ci*Sh,Ih+=ci*vh,wh+=ci*Wh,uu+=ci*Rh,Dh+=ci*bh,ci=fn[13],qo+=ci*Xf,Fh+=ci*Jh,Zo+=ci*Eh,Fo+=ci*ph,Hh+=ci*Qh,Vf+=ci*xh,Ho+=ci*mh,Kh+=ci*su,yh+=ci*Ah,Yo+=ci*gh,Vh+=ci*Xh,Ih+=ci*Sh,wh+=ci*vh,uu+=ci*Wh,Dh+=ci*Rh,Mh+=ci*bh,ci=fn[14],Fh+=ci*Xf,Zo+=ci*Jh,Fo+=ci*Eh,Hh+=ci*ph,Vf+=ci*Qh,Ho+=ci*xh,Kh+=ci*mh,yh+=ci*su,Yo+=ci*Ah,Vh+=ci*gh,Ih+=ci*Xh,wh+=ci*Sh,uu+=ci*vh,Dh+=ci*Wh,Mh+=ci*Rh,qu+=ci*bh,ci=fn[15],Zo+=ci*Xf,Fo+=ci*Jh,Hh+=ci*Eh,Vf+=ci*ph,Ho+=ci*Qh,Kh+=ci*xh,yh+=ci*mh,Yo+=ci*su,Vh+=ci*Ah,Ih+=ci*gh,wh+=ci*Xh,uu+=ci*Sh,Dh+=ci*vh,Mh+=ci*Wh,qu+=ci*Rh,Bh+=ci*bh,Zn+=38*Fo,ho+=38*Hh,qh+=38*Vf,Lo+=38*Ho,jo+=38*Kh,jh+=38*yh,_h+=38*Yo,tf+=38*Vh,zh+=38*Ih,Ko+=38*wh,Uo+=38*uu,Uh+=38*Dh,Vo+=38*Mh,qo+=38*qu,Fh+=38*Bh,Rn=1,ci=Zn+Rn+65535,Rn=Math.floor(ci/65536),Zn=ci-Rn*65536,ci=ho+Rn+65535,Rn=Math.floor(ci/65536),ho=ci-Rn*65536,ci=qh+Rn+65535,Rn=Math.floor(ci/65536),qh=ci-Rn*65536,ci=Lo+Rn+65535,Rn=Math.floor(ci/65536),Lo=ci-Rn*65536,ci=jo+Rn+65535,Rn=Math.floor(ci/65536),jo=ci-Rn*65536,ci=jh+Rn+65535,Rn=Math.floor(ci/65536),jh=ci-Rn*65536,ci=_h+Rn+65535,Rn=Math.floor(ci/65536),_h=ci-Rn*65536,ci=tf+Rn+65535,Rn=Math.floor(ci/65536),tf=ci-Rn*65536,ci=zh+Rn+65535,Rn=Math.floor(ci/65536),zh=ci-Rn*65536,ci=Ko+Rn+65535,Rn=Math.floor(ci/65536),Ko=ci-Rn*65536,ci=Uo+Rn+65535,Rn=Math.floor(ci/65536),Uo=ci-Rn*65536,ci=Uh+Rn+65535,Rn=Math.floor(ci/65536),Uh=ci-Rn*65536,ci=Vo+Rn+65535,Rn=Math.floor(ci/65536),Vo=ci-Rn*65536,ci=qo+Rn+65535,Rn=Math.floor(ci/65536),qo=ci-Rn*65536,ci=Fh+Rn+65535,Rn=Math.floor(ci/65536),Fh=ci-Rn*65536,ci=Zo+Rn+65535,Rn=Math.floor(ci/65536),Zo=ci-Rn*65536,Zn+=Rn-1+37*(Rn-1),Rn=1,ci=Zn+Rn+65535,Rn=Math.floor(ci/65536),Zn=ci-Rn*65536,ci=ho+Rn+65535,Rn=Math.floor(ci/65536),ho=ci-Rn*65536,ci=qh+Rn+65535,Rn=Math.floor(ci/65536),qh=ci-Rn*65536,ci=Lo+Rn+65535,Rn=Math.floor(ci/65536),Lo=ci-Rn*65536,ci=jo+Rn+65535,Rn=Math.floor(ci/65536),jo=ci-Rn*65536,ci=jh+Rn+65535,Rn=Math.floor(ci/65536),jh=ci-Rn*65536,ci=_h+Rn+65535,Rn=Math.floor(ci/65536),_h=ci-Rn*65536,ci=tf+Rn+65535,Rn=Math.floor(ci/65536),tf=ci-Rn*65536,ci=zh+Rn+65535,Rn=Math.floor(ci/65536),zh=ci-Rn*65536,ci=Ko+Rn+65535,Rn=Math.floor(ci/65536),Ko=ci-Rn*65536,ci=Uo+Rn+65535,Rn=Math.floor(ci/65536),Uo=ci-Rn*65536,ci=Uh+Rn+65535,Rn=Math.floor(ci/65536),Uh=ci-Rn*65536,ci=Vo+Rn+65535,Rn=Math.floor(ci/65536),Vo=ci-Rn*65536,ci=qo+Rn+65535,Rn=Math.floor(ci/65536),qo=ci-Rn*65536,ci=Fh+Rn+65535,Rn=Math.floor(ci/65536),Fh=ci-Rn*65536,ci=Zo+Rn+65535,Rn=Math.floor(ci/65536),Zo=ci-Rn*65536,Zn+=Rn-1+37*(Rn-1),$i[0]=Zn,$i[1]=ho,$i[2]=qh,$i[3]=Lo,$i[4]=jo,$i[5]=jh,$i[6]=_h,$i[7]=tf,$i[8]=zh,$i[9]=Ko,$i[10]=Uo,$i[11]=Uh,$i[12]=Vo,$i[13]=qo,$i[14]=Fh,$i[15]=Zo}function mn($i,fn){mi($i,fn,fn)}function Bn($i,fn){const cn=W();let ci;for(ci=0;ci<16;ci++)cn[ci]=fn[ci];for(ci=253;ci>=0;ci--)mn(cn,cn),ci!==2&&ci!==4&&mi(cn,cn,fn);for(ci=0;ci<16;ci++)$i[ci]=cn[ci]}function ko($i,fn){const cn=W();let ci;for(ci=0;ci<16;ci++)cn[ci]=fn[ci];for(ci=250;ci>=0;ci--)mn(cn,cn),ci!==1&&mi(cn,cn,fn);for(ci=0;ci<16;ci++)$i[ci]=cn[ci]}function ii($i,fn){const cn=W(),ci=W(),Rn=W(),Zn=W(),ho=W(),qh=W(),Lo=W(),jo=W(),jh=W();Mn(cn,$i[1],$i[0]),Mn(jh,fn[1],fn[0]),mi(cn,cn,jh),vn(ci,$i[0],$i[1]),vn(jh,fn[0],fn[1]),mi(ci,ci,jh),mi(Rn,$i[3],fn[3]),mi(Rn,Rn,Xr),mi(Zn,$i[2],fn[2]),vn(Zn,Zn,Zn),Mn(ho,ci,cn),Mn(qh,Zn,Rn),vn(Lo,Zn,Rn),vn(jo,ci,cn),mi($i[0],ho,qh),mi($i[1],jo,Lo),mi($i[2],Lo,qh),mi($i[3],ho,jo)}function t($i,fn,cn){for(let ci=0;ci<4;ci++)ui($i[ci],fn[ci],cn)}function o($i,fn){const cn=W(),ci=W(),Rn=W();Bn(Rn,fn[2]),mi(cn,fn[0],Rn),mi(ci,fn[1],Rn),sn($i,ci),$i[31]^=ln(cn)<<7}function H($i,fn,cn){ai($i[0],Wr),ai($i[1],ei),ai($i[2],ei),ai($i[3],Wr);for(let ci=255;ci>=0;--ci){const Rn=cn[ci/8|0]>>(ci&7)&1;t($i,fn,Rn),ii(fn,$i),ii($i,$i),t($i,fn,Rn)}}function G($i,fn){const cn=[W(),W(),W(),W()];ai(cn[0],Zr),ai(cn[1],si),ai(cn[2],ei),mi(cn[3],Zr,si),H($i,cn,fn)}function Ne($i){if($i.length!==r.SEED_LENGTH)throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);const fn=(0,i.hash)($i);fn[0]&=248,fn[31]&=127,fn[31]|=64;const cn=new Uint8Array(32),ci=[W(),W(),W(),W()];G(ci,fn),o(cn,ci);const Rn=new Uint8Array(64);return Rn.set($i),Rn.set(cn,32),{publicKey:cn,secretKey:Rn}}r.generateKeyPairFromSeed=Ne;function Le($i){const fn=(0,e.randomBytes)(32,$i),cn=Ne(fn);return(0,P.wipe)(fn),cn}r.generateKeyPair=Le;function ti($i){if($i.length!==r.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`);return new Uint8Array($i.subarray(32))}r.extractPublicKeyFromSecretKey=ti;const Ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function s($i,fn){let cn,ci,Rn,Zn;for(ci=63;ci>=32;--ci){for(cn=0,Rn=ci-32,Zn=ci-12;Rn<Zn;++Rn)fn[Rn]+=cn-16*fn[ci]*Ie[Rn-(ci-32)],cn=Math.floor((fn[Rn]+128)/256),fn[Rn]-=cn*256;fn[Rn]+=cn,fn[ci]=0}for(cn=0,Rn=0;Rn<32;Rn++)fn[Rn]+=cn-(fn[31]>>4)*Ie[Rn],cn=fn[Rn]>>8,fn[Rn]&=255;for(Rn=0;Rn<32;Rn++)fn[Rn]-=cn*Ie[Rn];for(ci=0;ci<32;ci++)fn[ci+1]+=fn[ci]>>8,$i[ci]=fn[ci]&255}function Y($i){const fn=new Float64Array(64);for(let cn=0;cn<64;cn++)fn[cn]=$i[cn];for(let cn=0;cn<64;cn++)$i[cn]=0;s($i,fn)}function li($i,fn){const cn=new Float64Array(64),ci=[W(),W(),W(),W()],Rn=(0,i.hash)($i.subarray(0,32));Rn[0]&=248,Rn[31]&=127,Rn[31]|=64;const Zn=new Uint8Array(64);Zn.set(Rn.subarray(32),32);const ho=new i.SHA512;ho.update(Zn.subarray(32)),ho.update(fn);const qh=ho.digest();ho.clean(),Y(qh),G(ci,qh),o(Zn,ci),ho.reset(),ho.update(Zn.subarray(0,32)),ho.update($i.subarray(32)),ho.update(fn);const Lo=ho.digest();Y(Lo);for(let jo=0;jo<32;jo++)cn[jo]=qh[jo];for(let jo=0;jo<32;jo++)for(let jh=0;jh<32;jh++)cn[jo+jh]+=Lo[jo]*Rn[jh];return s(Zn.subarray(32),cn),Zn}r.sign=li;function un($i,fn){const cn=W(),ci=W(),Rn=W(),Zn=W(),ho=W(),qh=W(),Lo=W();return ai($i[2],ei),on($i[1],fn),mn(Rn,$i[1]),mi(Zn,Rn,ni),Mn(Rn,Rn,$i[2]),vn(Zn,$i[2],Zn),mn(ho,Zn),mn(qh,ho),mi(Lo,qh,ho),mi(cn,Lo,Rn),mi(cn,cn,Zn),ko(cn,cn),mi(cn,cn,Rn),mi(cn,cn,Zn),mi(cn,cn,Zn),mi($i[0],cn,Zn),mn(ci,$i[0]),mi(ci,ci,Zn),nn(ci,Rn)&&mi($i[0],$i[0],oi),mn(ci,$i[0]),mi(ci,ci,Zn),nn(ci,Rn)?-1:(ln($i[0])===fn[31]>>7&&Mn($i[0],Wr,$i[0]),mi($i[3],$i[0],$i[1]),0)}function pn($i,fn,cn){const ci=new Uint8Array(32),Rn=[W(),W(),W(),W()],Zn=[W(),W(),W(),W()];if(cn.length!==r.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);if(un(Zn,$i))return!1;const ho=new i.SHA512;ho.update(cn.subarray(0,32)),ho.update($i),ho.update(fn);const qh=ho.digest();return Y(qh),H(Rn,Zn,qh),G(Zn,cn.subarray(32)),ii(Rn,Zn),o(ci,Rn),!hn(cn,ci)}r.verify=pn;function di($i){let fn=[W(),W(),W(),W()];if(un(fn,$i))throw new Error("Ed25519: invalid public key");let cn=W(),ci=W(),Rn=fn[1];vn(cn,ei,Rn),Mn(ci,ei,Rn),Bn(ci,ci),mi(cn,cn,ci);let Zn=new Uint8Array(32);return sn(Zn,cn),Zn}r.convertPublicKeyToX25519=di;function An($i){const fn=(0,i.hash)($i.subarray(0,32));fn[0]&=248,fn[31]&=127,fn[31]|=64;const cn=new Uint8Array(fn.subarray(0,32));return(0,P.wipe)(fn),cn}r.convertSecretKeyToX25519=An})(ed25519);const JWT_IRIDIUM_ALG="EdDSA",JWT_IRIDIUM_TYP="JWT",JWT_DELIMITER=".",JWT_ENCODING="base64url",JSON_ENCODING="utf8",DATA_ENCODING="utf8",DID_DELIMITER=":",DID_PREFIX="did",DID_METHOD="key",MULTICODEC_ED25519_ENCODING="base58btc",MULTICODEC_ED25519_BASE="z",MULTICODEC_ED25519_HEADER="K36",KEY_PAIR_SEED_LENGTH=32;function encodeJSON(r){return toString(fromString(safeJsonStringify(r),JSON_ENCODING),JWT_ENCODING)}function encodeIss(r){const e=fromString(MULTICODEC_ED25519_HEADER,MULTICODEC_ED25519_ENCODING),i=MULTICODEC_ED25519_BASE+toString(concat([e,r]),MULTICODEC_ED25519_ENCODING);return[DID_PREFIX,DID_METHOD,i].join(DID_DELIMITER)}function encodeSig(r){return toString(r,JWT_ENCODING)}function encodeData(r){return fromString([encodeJSON(r.header),encodeJSON(r.payload)].join(JWT_DELIMITER),DATA_ENCODING)}function encodeJWT(r){return[encodeJSON(r.header),encodeJSON(r.payload),encodeSig(r.signature)].join(JWT_DELIMITER)}function generateKeyPair(r=random.randomBytes(KEY_PAIR_SEED_LENGTH)){return ed25519.generateKeyPairFromSeed(r)}async function signJWT(r,e,i,P,W=cjs$4.fromMiliseconds(Date.now())){const R={alg:JWT_IRIDIUM_ALG,typ:JWT_IRIDIUM_TYP},Wr=encodeIss(P.publicKey),ei=W+i,ni={iss:Wr,sub:r,aud:e,iat:W,exp:ei},Xr=encodeData({header:R,payload:ni}),Zr=ed25519.sign(P.secretKey,Xr);return encodeJWT({header:R,payload:ni,signature:Zr})}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(r){return RESERVED_ERROR_CODES.includes(r)}function getError(r){return Object.keys(STANDARD_ERROR_MAP).includes(r)?STANDARD_ERROR_MAP[r]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(r){const e=Object.values(STANDARD_ERROR_MAP).find(i=>i.code===r);return e||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(r,e,i){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${i} RPC url at ${e}`):r}var cjs={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,P){i.__proto__=P}||function(i,P){for(var W in P)P.hasOwnProperty(W)&&(i[W]=P[W])},extendStatics(r,e)};function __extends(r,e){extendStatics(r,e);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var __assign=function(){return __assign=Object.assign||function(e){for(var i,P=1,W=arguments.length;P<W;P++){i=arguments[P];for(var R in i)Object.prototype.hasOwnProperty.call(i,R)&&(e[R]=i[R])}return e},__assign.apply(this,arguments)};function __rest(r,e){var i={};for(var P in r)Object.prototype.hasOwnProperty.call(r,P)&&e.indexOf(P)<0&&(i[P]=r[P]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,P=Object.getOwnPropertySymbols(r);W<P.length;W++)e.indexOf(P[W])<0&&Object.prototype.propertyIsEnumerable.call(r,P[W])&&(i[P[W]]=r[P[W]]);return i}function __decorate(r,e,i,P){var W=arguments.length,R=W<3?e:P===null?P=Object.getOwnPropertyDescriptor(e,i):P,Wr;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(r,e,i,P);else for(var ei=r.length-1;ei>=0;ei--)(Wr=r[ei])&&(R=(W<3?Wr(R):W>3?Wr(e,i,R):Wr(e,i))||R);return W>3&&R&&Object.defineProperty(e,i,R),R}function __param(r,e){return function(i,P){e(i,P,r)}}function __metadata(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function __awaiter(r,e,i,P){function W(R){return R instanceof i?R:new i(function(Wr){Wr(R)})}return new(i||(i=Promise))(function(R,Wr){function ei(Zr){try{Xr(P.next(Zr))}catch(si){Wr(si)}}function ni(Zr){try{Xr(P.throw(Zr))}catch(si){Wr(si)}}function Xr(Zr){Zr.done?R(Zr.value):W(Zr.value).then(ei,ni)}Xr((P=P.apply(r,e||[])).next())})}function __generator(r,e){var i={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},P,W,R,Wr;return Wr={next:ei(0),throw:ei(1),return:ei(2)},typeof Symbol=="function"&&(Wr[Symbol.iterator]=function(){return this}),Wr;function ei(Xr){return function(Zr){return ni([Xr,Zr])}}function ni(Xr){if(P)throw new TypeError("Generator is already executing.");for(;i;)try{if(P=1,W&&(R=Xr[0]&2?W.return:Xr[0]?W.throw||((R=W.return)&&R.call(W),0):W.next)&&!(R=R.call(W,Xr[1])).done)return R;switch(W=0,R&&(Xr=[Xr[0]&2,R.value]),Xr[0]){case 0:case 1:R=Xr;break;case 4:return i.label++,{value:Xr[1],done:!1};case 5:i.label++,W=Xr[1],Xr=[0];continue;case 7:Xr=i.ops.pop(),i.trys.pop();continue;default:if(R=i.trys,!(R=R.length>0&&R[R.length-1])&&(Xr[0]===6||Xr[0]===2)){i=0;continue}if(Xr[0]===3&&(!R||Xr[1]>R[0]&&Xr[1]<R[3])){i.label=Xr[1];break}if(Xr[0]===6&&i.label<R[1]){i.label=R[1],R=Xr;break}if(R&&i.label<R[2]){i.label=R[2],i.ops.push(Xr);break}R[2]&&i.ops.pop(),i.trys.pop();continue}Xr=e.call(r,i)}catch(Zr){Xr=[6,Zr],W=0}finally{P=R=0}if(Xr[0]&5)throw Xr[1];return{value:Xr[0]?Xr[1]:void 0,done:!0}}}function __createBinding(r,e,i,P){P===void 0&&(P=i),r[P]=e[i]}function __exportStar(r,e){for(var i in r)i!=="default"&&!e.hasOwnProperty(i)&&(e[i]=r[i])}function __values(r){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&r[e],P=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&P>=r.length&&(r=void 0),{value:r&&r[P++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(r,e){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var P=i.call(r),W,R=[],Wr;try{for(;(e===void 0||e-- >0)&&!(W=P.next()).done;)R.push(W.value)}catch(ei){Wr={error:ei}}finally{try{W&&!W.done&&(i=P.return)&&i.call(P)}finally{if(Wr)throw Wr.error}}return R}function __spread(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(__read(arguments[e]));return r}function __spreadArrays(){for(var r=0,e=0,i=arguments.length;e<i;e++)r+=arguments[e].length;for(var P=Array(r),W=0,e=0;e<i;e++)for(var R=arguments[e],Wr=0,ei=R.length;Wr<ei;Wr++,W++)P[W]=R[Wr];return P}function __await(r){return this instanceof __await?(this.v=r,this):new __await(r)}function __asyncGenerator(r,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=i.apply(r,e||[]),W,R=[];return W={},Wr("next"),Wr("throw"),Wr("return"),W[Symbol.asyncIterator]=function(){return this},W;function Wr(oi){P[oi]&&(W[oi]=function(ai){return new Promise(function(fi,ui){R.push([oi,ai,fi,ui])>1||ei(oi,ai)})})}function ei(oi,ai){try{ni(P[oi](ai))}catch(fi){si(R[0][3],fi)}}function ni(oi){oi.value instanceof __await?Promise.resolve(oi.value.v).then(Xr,Zr):si(R[0][2],oi)}function Xr(oi){ei("next",oi)}function Zr(oi){ei("throw",oi)}function si(oi,ai){oi(ai),R.shift(),R.length&&ei(R[0][0],R[0][1])}}function __asyncDelegator(r){var e,i;return e={},P("next"),P("throw",function(W){throw W}),P("return"),e[Symbol.iterator]=function(){return this},e;function P(W,R){e[W]=r[W]?function(Wr){return(i=!i)?{value:__await(r[W](Wr)),done:W==="return"}:R?R(Wr):Wr}:R}}function __asyncValues(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],i;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),i={},P("next"),P("throw"),P("return"),i[Symbol.asyncIterator]=function(){return this},i);function P(R){i[R]=r[R]&&function(Wr){return new Promise(function(ei,ni){Wr=r[R](Wr),W(ei,ni,Wr.done,Wr.value)})}}function W(R,Wr,ei,ni){Promise.resolve(ni).then(function(Xr){R({value:Xr,done:ei})},Wr)}}function __makeTemplateObject(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function __importStar(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e.default=r,e}function __importDefault(r){return r&&r.__esModule?r:{default:r}}function __classPrivateFieldGet(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function __classPrivateFieldSet(r,e,i){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,i),i}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(tslib_es6);var crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function r(){return(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.crypto)||(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.msCrypto)||{}}crypto$1.getBrowerCrypto=r;function e(){const P=r();return P.subtle||P.webkitSubtle}crypto$1.getSubtleCrypto=e;function i(){return!!r()&&!!e()}return crypto$1.isBrowserCryptoAvailable=i,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=r;function e(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}env.isNode=e;function i(){return!r()&&!e()}return env.isBrowser=i,env}(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=require$$0$1;e.__exportStar(requireCrypto(),r),e.__exportStar(requireEnv(),r)})(cjs);function payloadId(r=3){const e=Date.now()*Math.pow(10,r),i=Math.floor(Math.random()*Math.pow(10,r));return e+i}function getBigIntRpcId(r=6){return BigInt(payloadId(r))}function formatJsonRpcRequest(r,e,i){return{id:i||payloadId(),jsonrpc:"2.0",method:r,params:e}}function formatJsonRpcResult(r,e){return{id:r,jsonrpc:"2.0",result:e}}function formatJsonRpcError(r,e,i){return{id:r,jsonrpc:"2.0",error:formatErrorMessage(e,i)}}function formatErrorMessage(r,e){return typeof r>"u"?getError(INTERNAL_ERROR):(typeof r=="string"&&(r=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:r})),typeof e<"u"&&(r.data=e),isReservedErrorCode(r.code)&&(r=getErrorByCode(r.code)),r)}class IEvents{}class IBaseJsonRpcProvider extends IEvents{constructor(){super()}}class IJsonRpcProvider extends IBaseJsonRpcProvider{constructor(e){super()}}const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function matchRegexProtocol(r,e){const i=getUrlProtocol(r);return typeof i>"u"?!1:new RegExp(e).test(i)}function isHttpUrl(r){return matchRegexProtocol(r,HTTP_REGEX)}function isWsUrl(r){return matchRegexProtocol(r,WS_REGEX)}function isLocalhostUrl(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function isJsonRpcPayload(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function isJsonRpcRequest(r){return isJsonRpcPayload(r)&&"method"in r}function isJsonRpcResponse(r){return isJsonRpcPayload(r)&&(isJsonRpcResult(r)||isJsonRpcError(r))}function isJsonRpcResult(r){return"result"in r}function isJsonRpcError(r){return"error"in r}class JsonRpcProvider extends IJsonRpcProvider{constructor(e){super(e),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async request(e,i){return this.requestStrict(formatJsonRpcRequest(e.method,e.params||[],e.id||getBigIntRpcId().toString()),i)}async requestStrict(e,i){return new Promise(async(P,W)=>{if(!this.connection.connected)try{await this.open()}catch(R){W(R)}this.events.on(`${e.id}`,R=>{isJsonRpcError(R)?W(R.error):P(R.result)});try{await this.connection.send(e,i)}catch(R){W(R)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),isJsonRpcResponse(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const w=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),b$1=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",a=r=>r.split("?")[0],h=10,S$2=w();let f$1=class{constructor(e){if(this.url=e,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,i)=>{if(typeof this.socket>"u"){i(new Error("Connection already closed"));return}this.socket.onclose=P=>{this.onClose(P),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!isWsUrl(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((P,W)=>{this.events.once("register_error",R=>{this.resetMaxListeners(),W(R)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return W(new Error("WebSocket connection is missing or invalid"));P(this.socket)})})}return this.url=e,this.registering=!0,new Promise((i,P)=>{const W=new URLSearchParams(e).get("origin"),R=cjs.isReactNative()?{headers:{origin:W}}:{rejectUnauthorized:!isLocalhostUrl(e)},Wr=new S$2(e,[],R);b$1()?Wr.onerror=ei=>{const ni=ei;P(this.emitError(ni.error))}:Wr.on("error",ei=>{P(this.emitError(ei))}),Wr.onopen=()=>{this.onOpen(Wr),i(Wr)}})}onOpen(e){e.onmessage=i=>this.onPayload(i),e.onclose=i=>this.onClose(i),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const i=typeof e.data=="string"?safeJsonParse(e.data):e.data;this.events.emit("payload",i)}onError(e,i){const P=this.parseError(i),W=P.message||P.toString(),R=formatJsonRpcError(e,W);this.events.emit("payload",R)}parseError(e,i=this.url){return parseConnectionError(e,a(i),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h&&this.events.setMaxListeners(h)}emitError(e){const i=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${a(this.url)}`));return this.events.emit("register_error",i),i}};var lodash_isequal={exports:{}};lodash_isequal.exports;(function(r,e){var i=200,P="__lodash_hash_undefined__",W=1,R=2,Wr=9007199254740991,ei="[object Arguments]",ni="[object Array]",Xr="[object AsyncFunction]",Zr="[object Boolean]",si="[object Date]",oi="[object Error]",ai="[object Function]",fi="[object GeneratorFunction]",ui="[object Map]",sn="[object Number]",hn="[object Null]",nn="[object Object]",ln="[object Promise]",on="[object Proxy]",vn="[object RegExp]",Mn="[object Set]",mi="[object String]",mn="[object Symbol]",Bn="[object Undefined]",ko="[object WeakMap]",ii="[object ArrayBuffer]",t="[object DataView]",o="[object Float32Array]",H="[object Float64Array]",G="[object Int8Array]",Ne="[object Int16Array]",Le="[object Int32Array]",ti="[object Uint8Array]",Ie="[object Uint8ClampedArray]",s="[object Uint16Array]",Y="[object Uint32Array]",li=/[\\^$.*+?()[\]{}|]/g,un=/^\[object .+?Constructor\]$/,pn=/^(?:0|[1-9]\d*)$/,di={};di[o]=di[H]=di[G]=di[Ne]=di[Le]=di[ti]=di[Ie]=di[s]=di[Y]=!0,di[ei]=di[ni]=di[ii]=di[Zr]=di[t]=di[si]=di[oi]=di[ai]=di[ui]=di[sn]=di[nn]=di[vn]=di[Mn]=di[mi]=di[ko]=!1;var An=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,$i=typeof self=="object"&&self&&self.Object===Object&&self,fn=An||$i||Function("return this")(),cn=e&&!e.nodeType&&e,ci=cn&&!0&&r&&!r.nodeType&&r,Rn=ci&&ci.exports===cn,Zn=Rn&&An.process,ho=function(){try{return Zn&&Zn.binding&&Zn.binding("util")}catch{}}(),qh=ho&&ho.isTypedArray;function Lo(uo,Lf){for(var kh=-1,Zh=uo==null?0:uo.length,_c=0,Fu=[];++kh<Zh;){var Ec=uo[kh];Lf(Ec,kh,uo)&&(Fu[_c++]=Ec)}return Fu}function jo(uo,Lf){for(var kh=-1,Zh=Lf.length,_c=uo.length;++kh<Zh;)uo[_c+kh]=Lf[kh];return uo}function jh(uo,Lf){for(var kh=-1,Zh=uo==null?0:uo.length;++kh<Zh;)if(Lf(uo[kh],kh,uo))return!0;return!1}function _h(uo,Lf){for(var kh=-1,Zh=Array(uo);++kh<uo;)Zh[kh]=Lf(kh);return Zh}function tf(uo){return function(Lf){return uo(Lf)}}function zh(uo,Lf){return uo.has(Lf)}function Ko(uo,Lf){return uo==null?void 0:uo[Lf]}function Uo(uo){var Lf=-1,kh=Array(uo.size);return uo.forEach(function(Zh,_c){kh[++Lf]=[_c,Zh]}),kh}function Uh(uo,Lf){return function(kh){return uo(Lf(kh))}}function Vo(uo){var Lf=-1,kh=Array(uo.size);return uo.forEach(function(Zh){kh[++Lf]=Zh}),kh}var qo=Array.prototype,Fh=Function.prototype,Zo=Object.prototype,Fo=fn["__core-js_shared__"],Hh=Fh.toString,Vf=Zo.hasOwnProperty,Ho=function(){var uo=/[^.]+$/.exec(Fo&&Fo.keys&&Fo.keys.IE_PROTO||"");return uo?"Symbol(src)_1."+uo:""}(),Kh=Zo.toString,yh=RegExp("^"+Hh.call(Vf).replace(li,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yo=Rn?fn.Buffer:void 0,Vh=fn.Symbol,Ih=fn.Uint8Array,wh=Zo.propertyIsEnumerable,uu=qo.splice,Dh=Vh?Vh.toStringTag:void 0,Mh=Object.getOwnPropertySymbols,qu=Yo?Yo.isBuffer:void 0,Bh=Uh(Object.keys,Object),Xf=Yc(fn,"DataView"),Jh=Yc(fn,"Map"),Eh=Yc(fn,"Promise"),ph=Yc(fn,"Set"),Qh=Yc(fn,"WeakMap"),xh=Yc(Object,"create"),mh=xl(Xf),su=xl(Jh),Ah=xl(Eh),gh=xl(ph),Xh=xl(Qh),Sh=Vh?Vh.prototype:void 0,vh=Sh?Sh.valueOf:void 0;function Wh(uo){var Lf=-1,kh=uo==null?0:uo.length;for(this.clear();++Lf<kh;){var Zh=uo[Lf];this.set(Zh[0],Zh[1])}}function Rh(){this.__data__=xh?xh(null):{},this.size=0}function bh(uo){var Lf=this.has(uo)&&delete this.__data__[uo];return this.size-=Lf?1:0,Lf}function Uu(uo){var Lf=this.__data__;if(xh){var kh=Lf[uo];return kh===P?void 0:kh}return Vf.call(Lf,uo)?Lf[uo]:void 0}function Ch(uo){var Lf=this.__data__;return xh?Lf[uo]!==void 0:Vf.call(Lf,uo)}function $h(uo,Lf){var kh=this.__data__;return this.size+=this.has(uo)?0:1,kh[uo]=xh&&Lf===void 0?P:Lf,this}Wh.prototype.clear=Rh,Wh.prototype.delete=bh,Wh.prototype.get=Uu,Wh.prototype.has=Ch,Wh.prototype.set=$h;function au(uo){var Lf=-1,kh=uo==null?0:uo.length;for(this.clear();++Lf<kh;){var Zh=uo[Lf];this.set(Zh[0],Zh[1])}}function f0(){this.__data__=[],this.size=0}function $0(uo){var Lf=this.__data__,kh=Hl(Lf,uo);if(kh<0)return!1;var Zh=Lf.length-1;return kh==Zh?Lf.pop():uu.call(Lf,kh,1),--this.size,!0}function D0(uo){var Lf=this.__data__,kh=Hl(Lf,uo);return kh<0?void 0:Lf[kh][1]}function F0(uo){return Hl(this.__data__,uo)>-1}function tc(uo,Lf){var kh=this.__data__,Zh=Hl(kh,uo);return Zh<0?(++this.size,kh.push([uo,Lf])):kh[Zh][1]=Lf,this}au.prototype.clear=f0,au.prototype.delete=$0,au.prototype.get=D0,au.prototype.has=F0,au.prototype.set=tc;function Ku(uo){var Lf=-1,kh=uo==null?0:uo.length;for(this.clear();++Lf<kh;){var Zh=uo[Lf];this.set(Zh[0],Zh[1])}}function sc(){this.size=0,this.__data__={hash:new Wh,map:new(Jh||au),string:new Wh}}function uc(uo){var Lf=Pl(this,uo).delete(uo);return this.size-=Lf?1:0,Lf}function ac(uo){return Pl(this,uo).get(uo)}function cc(uo){return Pl(this,uo).has(uo)}function lc(uo,Lf){var kh=Pl(this,uo),Zh=kh.size;return kh.set(uo,Lf),this.size+=kh.size==Zh?0:1,this}Ku.prototype.clear=sc,Ku.prototype.delete=uc,Ku.prototype.get=ac,Ku.prototype.has=cc,Ku.prototype.set=lc;function oc(uo){var Lf=-1,kh=uo==null?0:uo.length;for(this.__data__=new Ku;++Lf<kh;)this.add(uo[Lf])}function fc(uo){return this.__data__.set(uo,P),this}function hc(uo){return this.__data__.has(uo)}oc.prototype.add=oc.prototype.push=fc,oc.prototype.has=hc;function r0(uo){var Lf=this.__data__=new au(uo);this.size=Lf.size}function dc(){this.__data__=new au,this.size=0}function pc(uo){var Lf=this.__data__,kh=Lf.delete(uo);return this.size=Lf.size,kh}function vc(uo){return this.__data__.get(uo)}function Fl(uo){return this.__data__.has(uo)}function Ld(uo,Lf){var kh=this.__data__;if(kh instanceof au){var Zh=kh.__data__;if(!Jh||Zh.length<i-1)return Zh.push([uo,Lf]),this.size=++kh.size,this;kh=this.__data__=new Ku(Zh)}return kh.set(uo,Lf),this.size=kh.size,this}r0.prototype.clear=dc,r0.prototype.delete=pc,r0.prototype.get=vc,r0.prototype.has=Fl,r0.prototype.set=Ld;function Ud(uo,Lf){var kh=sd(uo),Zh=!kh&&Yd(uo),_c=!kh&&!Zh&&Md(uo),Fu=!kh&&!Zh&&!_c&&t1(uo),Ec=kh||Zh||_c||Fu,Bc=Ec?_h(uo.length,String):[],ic=Bc.length;for(var Mc in uo)(Lf||Vf.call(uo,Mc))&&!(Ec&&(Mc=="length"||_c&&(Mc=="offset"||Mc=="parent")||Fu&&(Mc=="buffer"||Mc=="byteLength"||Mc=="byteOffset")||Gd(Mc,ic)))&&Bc.push(Mc);return Bc}function Hl(uo,Lf){for(var kh=uo.length;kh--;)if(Qd(uo[kh][0],Lf))return kh;return-1}function wd(uo,Lf,kh){var Zh=Lf(uo);return sd(uo)?Zh:jo(Zh,kh(uo))}function Kl(uo){return uo==null?uo===void 0?Bn:hn:Dh&&Dh in Object(uo)?Kd(uo):H1(uo)}function _d(uo){return Gl(uo)&&Kl(uo)==ei}function Vl(uo,Lf,kh,Zh,_c){return uo===Lf?!0:uo==null||Lf==null||!Gl(uo)&&!Gl(Lf)?uo!==uo&&Lf!==Lf:jd(uo,Lf,kh,Zh,Vl,_c)}function jd(uo,Lf,kh,Zh,_c,Fu){var Ec=sd(uo),Bc=sd(Lf),ic=Ec?ni:bl(uo),Mc=Bc?ni:bl(Lf);ic=ic==ei?nn:ic,Mc=Mc==ei?nn:Mc;var Ic=ic==nn,Gc=Mc==nn,Pc=ic==Mc;if(Pc&&Md(uo)){if(!Md(Lf))return!1;Ec=!0,Ic=!1}if(Pc&&!Ic)return Fu||(Fu=new r0),Ec||t1(uo)?id(uo,Lf,kh,Zh,_c,Fu):F1(uo,Lf,ic,kh,Zh,_c,Fu);if(!(kh&W)){var Ac=Ic&&Vf.call(uo,"__wrapped__"),zc=Gc&&Vf.call(Lf,"__wrapped__");if(Ac||zc){var ll=Ac?uo.value():uo,nl=zc?Lf.value():Lf;return Fu||(Fu=new r0),_c(ll,nl,kh,Zh,Fu)}}return Pc?(Fu||(Fu=new r0),Hd(uo,Lf,kh,Zh,_c,Fu)):!1}function z1(uo){if(!e1(uo)||Jd(uo))return!1;var Lf=ad(uo)?yh:un;return Lf.test(xl(uo))}function zd(uo){return Gl(uo)&&Xd(uo.length)&&!!di[Kl(uo)]}function Fd(uo){if(!Zd(uo))return Bh(uo);var Lf=[];for(var kh in Object(uo))Vf.call(uo,kh)&&kh!="constructor"&&Lf.push(kh);return Lf}function id(uo,Lf,kh,Zh,_c,Fu){var Ec=kh&W,Bc=uo.length,ic=Lf.length;if(Bc!=ic&&!(Ec&&ic>Bc))return!1;var Mc=Fu.get(uo);if(Mc&&Fu.get(Lf))return Mc==Lf;var Ic=-1,Gc=!0,Pc=kh&R?new oc:void 0;for(Fu.set(uo,Lf),Fu.set(Lf,uo);++Ic<Bc;){var Ac=uo[Ic],zc=Lf[Ic];if(Zh)var ll=Ec?Zh(zc,Ac,Ic,Lf,uo,Fu):Zh(Ac,zc,Ic,uo,Lf,Fu);if(ll!==void 0){if(ll)continue;Gc=!1;break}if(Pc){if(!jh(Lf,function(nl,yl){if(!zh(Pc,yl)&&(Ac===nl||_c(Ac,nl,kh,Zh,Fu)))return Pc.push(yl)})){Gc=!1;break}}else if(!(Ac===zc||_c(Ac,zc,kh,Zh,Fu))){Gc=!1;break}}return Fu.delete(uo),Fu.delete(Lf),Gc}function F1(uo,Lf,kh,Zh,_c,Fu,Ec){switch(kh){case t:if(uo.byteLength!=Lf.byteLength||uo.byteOffset!=Lf.byteOffset)return!1;uo=uo.buffer,Lf=Lf.buffer;case ii:return!(uo.byteLength!=Lf.byteLength||!Fu(new Ih(uo),new Ih(Lf)));case Zr:case si:case sn:return Qd(+uo,+Lf);case oi:return uo.name==Lf.name&&uo.message==Lf.message;case vn:case mi:return uo==Lf+"";case ui:var Bc=Uo;case Mn:var ic=Zh&W;if(Bc||(Bc=Vo),uo.size!=Lf.size&&!ic)return!1;var Mc=Ec.get(uo);if(Mc)return Mc==Lf;Zh|=R,Ec.set(uo,Lf);var Ic=id(Bc(uo),Bc(Lf),Zh,_c,Fu,Ec);return Ec.delete(uo),Ic;case mn:if(vh)return vh.call(uo)==vh.call(Lf)}return!1}function Hd(uo,Lf,kh,Zh,_c,Fu){var Ec=kh&W,Bc=nd(uo),ic=Bc.length,Mc=nd(Lf),Ic=Mc.length;if(ic!=Ic&&!Ec)return!1;for(var Gc=ic;Gc--;){var Pc=Bc[Gc];if(!(Ec?Pc in Lf:Vf.call(Lf,Pc)))return!1}var Ac=Fu.get(uo);if(Ac&&Fu.get(Lf))return Ac==Lf;var zc=!0;Fu.set(uo,Lf),Fu.set(Lf,uo);for(var ll=Ec;++Gc<ic;){Pc=Bc[Gc];var nl=uo[Pc],yl=Lf[Pc];if(Zh)var xd=Ec?Zh(yl,nl,Pc,Lf,uo,Fu):Zh(nl,yl,Pc,uo,Lf,Fu);if(!(xd===void 0?nl===yl||_c(nl,yl,kh,Zh,Fu):xd)){zc=!1;break}ll||(ll=Pc=="constructor")}if(zc&&!ll){var Wl=uo.constructor,Nc=Lf.constructor;Wl!=Nc&&"constructor"in uo&&"constructor"in Lf&&!(typeof Wl=="function"&&Wl instanceof Wl&&typeof Nc=="function"&&Nc instanceof Nc)&&(zc=!1)}return Fu.delete(uo),Fu.delete(Lf),zc}function nd(uo){return wd(uo,G1,Vd)}function Pl(uo,Lf){var kh=uo.__data__;return Wd(Lf)?kh[typeof Lf=="string"?"string":"hash"]:kh.map}function Yc(uo,Lf){var kh=Ko(uo,Lf);return z1(kh)?kh:void 0}function Kd(uo){var Lf=Vf.call(uo,Dh),kh=uo[Dh];try{uo[Dh]=void 0;var Zh=!0}catch{}var _c=Kh.call(uo);return Zh&&(Lf?uo[Dh]=kh:delete uo[Dh]),_c}var Vd=Mh?function(uo){return uo==null?[]:(uo=Object(uo),Lo(Mh(uo),function(Lf){return wh.call(uo,Lf)}))}:wc,bl=Kl;(Xf&&bl(new Xf(new ArrayBuffer(1)))!=t||Jh&&bl(new Jh)!=ui||Eh&&bl(Eh.resolve())!=ln||ph&&bl(new ph)!=Mn||Qh&&bl(new Qh)!=ko)&&(bl=function(uo){var Lf=Kl(uo),kh=Lf==nn?uo.constructor:void 0,Zh=kh?xl(kh):"";if(Zh)switch(Zh){case mh:return t;case su:return ui;case Ah:return ln;case gh:return Mn;case Xh:return ko}return Lf});function Gd(uo,Lf){return Lf=Lf??Wr,!!Lf&&(typeof uo=="number"||pn.test(uo))&&uo>-1&&uo%1==0&&uo<Lf}function Wd(uo){var Lf=typeof uo;return Lf=="string"||Lf=="number"||Lf=="symbol"||Lf=="boolean"?uo!=="__proto__":uo===null}function Jd(uo){return!!Ho&&Ho in uo}function Zd(uo){var Lf=uo&&uo.constructor,kh=typeof Lf=="function"&&Lf.prototype||Zo;return uo===kh}function H1(uo){return Kh.call(uo)}function xl(uo){if(uo!=null){try{return Hh.call(uo)}catch{}try{return uo+""}catch{}}return""}function Qd(uo,Lf){return uo===Lf||uo!==uo&&Lf!==Lf}var Yd=_d(function(){return arguments}())?_d:function(uo){return Gl(uo)&&Vf.call(uo,"callee")&&!wh.call(uo,"callee")},sd=Array.isArray;function K1(uo){return uo!=null&&Xd(uo.length)&&!ad(uo)}var Md=qu||yc;function V1(uo,Lf){return Vl(uo,Lf)}function ad(uo){if(!e1(uo))return!1;var Lf=Kl(uo);return Lf==ai||Lf==fi||Lf==Xr||Lf==on}function Xd(uo){return typeof uo=="number"&&uo>-1&&uo%1==0&&uo<=Wr}function e1(uo){var Lf=typeof uo;return uo!=null&&(Lf=="object"||Lf=="function")}function Gl(uo){return uo!=null&&typeof uo=="object"}var t1=qh?tf(qh):zd;function G1(uo){return K1(uo)?Ud(uo):Fd(uo)}function wc(){return[]}function yc(){return!1}r.exports=V1})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports;const Yi=getDefaultExportFromCjs(lodash_isequalExports);function unfetch_module(r,e){return e=e||{},new Promise(function(i,P){var W=new XMLHttpRequest,R=[],Wr=[],ei={},ni=function(){return{ok:(W.status/100|0)==2,statusText:W.statusText,status:W.status,url:W.responseURL,text:function(){return Promise.resolve(W.responseText)},json:function(){return Promise.resolve(W.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([W.response]))},clone:ni,headers:{keys:function(){return R},entries:function(){return Wr},get:function(Zr){return ei[Zr.toLowerCase()]},has:function(Zr){return Zr.toLowerCase()in ei}}}};for(var Xr in W.open(e.method||"get",r,!0),W.onload=function(){W.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(Zr,si,oi){R.push(si=si.toLowerCase()),Wr.push([si,oi]),ei[si]=ei[si]?ei[si]+","+oi:oi}),i(ni())},W.onerror=P,W.withCredentials=e.credentials=="include",e.headers)W.setRequestHeader(Xr,e.headers[Xr]);W.send(e.body||null)})}const unfetch_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:unfetch_module},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(unfetch_module$1);var browser=self.fetch||(self.fetch=require$$0.default||require$$0);const Hi=getDefaultExportFromCjs(browser);var define_process_env_default={};function Ji(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),P=0;P<i.length;P++)i[P]=255;for(var W=0;W<r.length;W++){var R=r.charAt(W),Wr=R.charCodeAt(0);if(i[Wr]!==255)throw new TypeError(R+" is ambiguous");i[Wr]=W}var ei=r.length,ni=r.charAt(0),Xr=Math.log(ei)/Math.log(256),Zr=Math.log(256)/Math.log(ei);function si(fi){if(fi instanceof Uint8Array||(ArrayBuffer.isView(fi)?fi=new Uint8Array(fi.buffer,fi.byteOffset,fi.byteLength):Array.isArray(fi)&&(fi=Uint8Array.from(fi))),!(fi instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(fi.length===0)return"";for(var ui=0,sn=0,hn=0,nn=fi.length;hn!==nn&&fi[hn]===0;)hn++,ui++;for(var ln=(nn-hn)*Zr+1>>>0,on=new Uint8Array(ln);hn!==nn;){for(var vn=fi[hn],Mn=0,mi=ln-1;(vn!==0||Mn<sn)&&mi!==-1;mi--,Mn++)vn+=256*on[mi]>>>0,on[mi]=vn%ei>>>0,vn=vn/ei>>>0;if(vn!==0)throw new Error("Non-zero carry");sn=Mn,hn++}for(var mn=ln-sn;mn!==ln&&on[mn]===0;)mn++;for(var Bn=ni.repeat(ui);mn<ln;++mn)Bn+=r.charAt(on[mn]);return Bn}function oi(fi){if(typeof fi!="string")throw new TypeError("Expected String");if(fi.length===0)return new Uint8Array;var ui=0;if(fi[ui]!==" "){for(var sn=0,hn=0;fi[ui]===ni;)sn++,ui++;for(var nn=(fi.length-ui)*Xr+1>>>0,ln=new Uint8Array(nn);fi[ui];){var on=i[fi.charCodeAt(ui)];if(on===255)return;for(var vn=0,Mn=nn-1;(on!==0||vn<hn)&&Mn!==-1;Mn--,vn++)on+=ei*ln[Mn]>>>0,ln[Mn]=on%256>>>0,on=on/256>>>0;if(on!==0)throw new Error("Non-zero carry");hn=vn,ui++}if(fi[ui]!==" "){for(var mi=nn-hn;mi!==nn&&ln[mi]===0;)mi++;for(var mn=new Uint8Array(sn+(nn-mi)),Bn=sn;mi!==nn;)mn[Bn++]=ln[mi++];return mn}}}function ai(fi){var ui=oi(fi);if(ui)return ui;throw new Error(`Non-${e} character`)}return{encode:si,decodeUnsafe:oi,decode:ai}}var Xi=Ji,Wi$1=Xi;const Ue$1=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Qi=r=>new TextEncoder().encode(r),Zi=r=>new TextDecoder().decode(r);let es$1=class{constructor(e,i,P){this.name=e,this.prefix=i,this.baseEncode=P}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},ts$1=class{constructor(e,i,P){if(this.name=e,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=P}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return $e(this,e)}},is$1=class{constructor(e){this.decoders=e}or(e){return $e(this,e)}decode(e){const i=e[0],P=this.decoders[i];if(P)return P.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const $e=(r,e)=>new is$1({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});let ss$1=class{constructor(e,i,P,W){this.name=e,this.prefix=i,this.baseEncode=P,this.baseDecode=W,this.encoder=new es$1(e,i,P),this.decoder=new ts$1(e,i,W)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Q$1=({name:r,prefix:e,encode:i,decode:P})=>new ss$1(r,e,i,P),K=({prefix:r,name:e,alphabet:i})=>{const{encode:P,decode:W}=Wi$1(i,e);return Q$1({prefix:r,name:e,encode:P,decode:R=>Ue$1(W(R))})},rs$1=(r,e,i,P)=>{const W={};for(let Zr=0;Zr<e.length;++Zr)W[e[Zr]]=Zr;let R=r.length;for(;r[R-1]==="=";)--R;const Wr=new Uint8Array(R*i/8|0);let ei=0,ni=0,Xr=0;for(let Zr=0;Zr<R;++Zr){const si=W[r[Zr]];if(si===void 0)throw new SyntaxError(`Non-${P} character`);ni=ni<<i|si,ei+=i,ei>=8&&(ei-=8,Wr[Xr++]=255&ni>>ei)}if(ei>=i||255&ni<<8-ei)throw new SyntaxError("Unexpected end of data");return Wr},ns=(r,e,i)=>{const P=e[e.length-1]==="=",W=(1<<i)-1;let R="",Wr=0,ei=0;for(let ni=0;ni<r.length;++ni)for(ei=ei<<8|r[ni],Wr+=8;Wr>i;)Wr-=i,R+=e[W&ei>>Wr];if(Wr&&(R+=e[W&ei<<i-Wr]),P)for(;R.length*i&7;)R+="=";return R},y=({name:r,prefix:e,bitsPerChar:i,alphabet:P})=>Q$1({prefix:e,name:r,encode(W){return ns(W,P,i)},decode(W){return rs$1(W,P,i,r)}}),os=Q$1({prefix:"\0",name:"identity",encode:r=>Zi(r),decode:r=>Qi(r)});var as=Object.freeze({__proto__:null,identity:os});const hs=y({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var cs=Object.freeze({__proto__:null,base2:hs});const ls=y({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var us=Object.freeze({__proto__:null,base8:ls});const ds=K({prefix:"9",name:"base10",alphabet:"0123456789"});var gs=Object.freeze({__proto__:null,base10:ds});const ps=y({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ds=y({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ys=Object.freeze({__proto__:null,base16:ps,base16upper:Ds});const ms=y({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bs=y({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fs=y({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Es=y({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ws=y({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vs=y({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Is=y({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Cs=y({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_s=y({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rs=Object.freeze({__proto__:null,base32:ms,base32upper:bs,base32pad:fs,base32padupper:Es,base32hex:ws,base32hexupper:vs,base32hexpad:Is,base32hexpadupper:Cs,base32z:_s});const Ts=K({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ss=K({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ps=Object.freeze({__proto__:null,base36:Ts,base36upper:Ss});const xs=K({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Os=K({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var As=Object.freeze({__proto__:null,base58btc:xs,base58flickr:Os});const zs=y({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ns=y({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ls=y({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Us=y({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $s=Object.freeze({__proto__:null,base64:zs,base64pad:Ns,base64url:Ls,base64urlpad:Us});const Fe$1=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Fs=Fe$1.reduce((r,e,i)=>(r[i]=e,r),[]),ks=Fe$1.reduce((r,e,i)=>(r[e.codePointAt(0)]=i,r),[]);function Bs(r){return r.reduce((e,i)=>(e+=Fs[i],e),"")}function Ms(r){const e=[];for(const i of r){const P=ks[i.codePointAt(0)];if(P===void 0)throw new Error(`Non-base256emoji character: ${i}`);e.push(P)}return new Uint8Array(e)}const Ks=Q$1({prefix:"🚀",name:"base256emoji",encode:Bs,decode:Ms});var Vs=Object.freeze({__proto__:null,base256emoji:Ks}),qs=Be$1,ke$1=128,js=127,Gs=~js,Ys=Math.pow(2,31);function Be$1(r,e,i){e=e||[],i=i||0;for(var P=i;r>=Ys;)e[i++]=r&255|ke$1,r/=128;for(;r&Gs;)e[i++]=r&255|ke$1,r>>>=7;return e[i]=r|0,Be$1.bytes=i-P+1,e}var Hs=de,Js=128,Me=127;function de(r,P){var i=0,P=P||0,W=0,R=P,Wr,ei=r.length;do{if(R>=ei)throw de.bytes=0,new RangeError("Could not decode varint");Wr=r[R++],i+=W<28?(Wr&Me)<<W:(Wr&Me)*Math.pow(2,W),W+=7}while(Wr>=Js);return de.bytes=R-P,i}var Xs=Math.pow(2,7),Ws=Math.pow(2,14),Qs=Math.pow(2,21),Zs=Math.pow(2,28),er=Math.pow(2,35),tr=Math.pow(2,42),ir=Math.pow(2,49),sr=Math.pow(2,56),rr=Math.pow(2,63),nr=function(r){return r<Xs?1:r<Ws?2:r<Qs?3:r<Zs?4:r<er?5:r<tr?6:r<ir?7:r<sr?8:r<rr?9:10},or={encode:qs,decode:Hs,encodingLength:nr},Ke$1=or;const Ve=(r,e,i=0)=>(Ke$1.encode(r,e,i),e),qe=r=>Ke$1.encodingLength(r),ge$1=(r,e)=>{const i=e.byteLength,P=qe(r),W=P+qe(i),R=new Uint8Array(W+i);return Ve(r,R,0),Ve(i,R,P),R.set(e,W),new ar(r,i,e,R)};class ar{constructor(e,i,P,W){this.code=e,this.size=i,this.digest=P,this.bytes=W}}const je$1=({name:r,code:e,encode:i})=>new hr$1(r,e,i);let hr$1=class{constructor(e,i,P){this.name=e,this.code=i,this.encode=P}digest(e){if(e instanceof Uint8Array){const i=this.encode(e);return i instanceof Uint8Array?ge$1(this.code,i):i.then(P=>ge$1(this.code,P))}else throw Error("Unknown type, must be binary type")}};const Ge$1=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),cr$1=je$1({name:"sha2-256",code:18,encode:Ge$1("SHA-256")}),lr$1=je$1({name:"sha2-512",code:19,encode:Ge$1("SHA-512")});var ur=Object.freeze({__proto__:null,sha256:cr$1,sha512:lr$1});const Ye$1=0,dr="identity",He$1=Ue$1,gr=r=>ge$1(Ye$1,He$1(r)),pr={code:Ye$1,name:dr,encode:He$1,digest:gr};var Dr=Object.freeze({__proto__:null,identity:pr});new TextEncoder,new TextDecoder;const Je$1={...as,...cs,...us,...gs,...ys,...Rs,...Ps,...As,...$s,...Vs};({...ur,...Dr});function Xe$1(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function yr(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xe$1(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function We$1(r,e,i,P){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:i},decoder:{decode:P}}}const Qe$1=We$1("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),pe=We$1("ascii","a",r=>{let e="a";for(let i=0;i<r.length;i++)e+=String.fromCharCode(r[i]);return e},r=>{r=r.substring(1);const e=yr(r.length);for(let i=0;i<r.length;i++)e[i]=r.charCodeAt(i);return e}),mr={utf8:Qe$1,"utf-8":Qe$1,hex:Je$1.base16,latin1:pe,ascii:pe,binary:pe,...Je$1};function br(r,e="utf8"){const i=mr[e];if(!i)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xe$1(globalThis.Buffer.from(r,"utf-8")):i.decoder.decode(`${i.prefix}${r}`)}const De="wc",Ze=2,Z="core",z$2=`${De}@2:${Z}:`,et={name:Z,logger:"error"},tt={database:":memory:"},it="crypto",ye="client_ed25519_seed",st=cjs$4.ONE_DAY,rt="keychain",nt="0.3",ot="messages",at="0.3",ht=cjs$4.SIX_HOURS,ct="publisher",lt="irn",ut="error",me="wss://relay.walletconnect.com",be="wss://relay.walletconnect.org",dt="relayer",v$1={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},gt="_subscription",f={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},pt=cjs$4.ONE_SECOND,Dt="2.12.1",yt=1e4,mt="0.3",bt="WALLETCONNECT_CLIENT_ID",S$1={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ft$1="subscription",Et="0.3",wt=cjs$4.FIVE_SECONDS*1e3,vt="pairing",It="0.3",F$1={wc_pairingDelete:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:0}}},V={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},I={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Ct$1="history",_t="0.3",Rt="expirer",C$1={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Tt="0.3",ee="verify-api",k="https://verify.walletconnect.com",te="https://verify.walletconnect.org",St=[k,te],Pt="echo",xt="https://echo.walletconnect.com";class Ot{constructor(e,i){this.core=e,this.logger=i,this.keychain=new Map,this.name=rt,this.version=nt,this.initialized=!1,this.storagePrefix=z$2,this.init=async()=>{if(!this.initialized){const P=await this.getKeyChain();typeof P<"u"&&(this.keychain=P),this.initialized=!0}},this.has=P=>(this.isInitialized(),this.keychain.has(P)),this.set=async(P,W)=>{this.isInitialized(),this.keychain.set(P,W),await this.persist()},this.get=P=>{this.isInitialized();const W=this.keychain.get(P);if(typeof W>"u"){const{message:R}=xe("NO_MATCHING_KEY",`${this.name}: ${P}`);throw new Error(R)}return W},this.del=async P=>{this.isInitialized(),this.keychain.delete(P),await this.persist()},this.core=e,this.logger=A$1(i,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,i0(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?n0(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class At{constructor(e,i,P){this.core=e,this.logger=i,this.name=it,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=W=>(this.isInitialized(),this.keychain.has(W)),this.getClientId=async()=>{this.isInitialized();const W=await this.getClientSeed(),R=generateKeyPair(W);return encodeIss(R.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const W=mu();return this.setPrivateKey(W.publicKey,W.privateKey)},this.signJWT=async W=>{this.isInitialized();const R=await this.getClientSeed(),Wr=generateKeyPair(R),ei=gu();return await signJWT(ei,W,st,Wr)},this.generateSharedKey=(W,R,Wr)=>{this.isInitialized();const ei=this.getPrivateKey(W),ni=Au(ei,R);return this.setSymKey(ni,Wr)},this.setSymKey=async(W,R)=>{this.isInitialized();const Wr=R||bu(W);return await this.keychain.set(Wr,W),Wr},this.deleteKeyPair=async W=>{this.isInitialized(),await this.keychain.del(W)},this.deleteSymKey=async W=>{this.isInitialized(),await this.keychain.del(W)},this.encode=async(W,R,Wr)=>{this.isInitialized();const ei=eo(Wr),ni=safeJsonStringify(R);if(Eu(ei)){const oi=ei.senderPublicKey,ai=ei.receiverPublicKey;W=await this.generateSharedKey(oi,ai)}const Xr=this.getSymKey(W),{type:Zr,senderPublicKey:si}=ei;return wu({type:Zr,symKey:Xr,message:ni,senderPublicKey:si})},this.decode=async(W,R,Wr)=>{this.isInitialized();const ei=Mu(R,Wr);if(Eu(ei)){const ni=ei.receiverPublicKey,Xr=ei.senderPublicKey;W=await this.generateSharedKey(ni,Xr)}try{const ni=this.getSymKey(W),Xr=xu({symKey:ni,encoded:R});return safeJsonParse(Xr)}catch(ni){this.logger.error(`Failed to decode message from topic: '${W}', clientId: '${await this.getClientId()}'`),this.logger.error(ni)}},this.getPayloadType=W=>{const R=Xi$1(W);return Mr(R.type)},this.getPayloadSenderPublicKey=W=>{const R=Xi$1(W);return R.senderPublicKey?toString(R.senderPublicKey,zt$1):void 0},this.core=e,this.logger=A$1(i,this.name),this.keychain=P||new Ot(this.core,this.logger)}get context(){return y$2(this.logger)}async setPrivateKey(e,i){return await this.keychain.set(e,i),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ye)}catch{e=gu(),await this.keychain.set(ye,e)}return br(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class zt extends a$1{constructor(e,i){super(e,i),this.logger=e,this.core=i,this.messages=new Map,this.name=ot,this.version=at,this.initialized=!1,this.storagePrefix=z$2,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const P=await this.getRelayerMessages();typeof P<"u"&&(this.messages=P),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(P){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(P)}finally{this.initialized=!0}}},this.set=async(P,W)=>{this.isInitialized();const R=yu(W);let Wr=this.messages.get(P);return typeof Wr>"u"&&(Wr={}),typeof Wr[R]<"u"||(Wr[R]=W,this.messages.set(P,Wr),await this.persist()),R},this.get=P=>{this.isInitialized();let W=this.messages.get(P);return typeof W>"u"&&(W={}),W},this.has=(P,W)=>{this.isInitialized();const R=this.get(P),Wr=yu(W);return typeof R[Wr]<"u"},this.del=async P=>{this.isInitialized(),this.messages.delete(P),await this.persist()},this.logger=A$1(e,this.name),this.core=i}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,i0(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?n0(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Ir extends u$1{constructor(e,i){super(e,i),this.relayer=e,this.logger=i,this.events=new eventsExports.EventEmitter,this.name=ct,this.queue=new Map,this.publishTimeout=cjs$4.toMiliseconds(cjs$4.ONE_MINUTE),this.failedPublishTimeout=cjs$4.toMiliseconds(cjs$4.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(P,W,R)=>{var Wr;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:P,message:W,opts:R}});const ei=(R==null?void 0:R.ttl)||ht,ni=Su(R),Xr=(R==null?void 0:R.prompt)||!1,Zr=(R==null?void 0:R.tag)||0,si=(R==null?void 0:R.id)||getBigIntRpcId().toString(),oi={topic:P,message:W,opts:{ttl:ei,relay:ni,prompt:Xr,tag:Zr,id:si}},ai=`Failed to publish payload, please try again. id:${si} tag:${Zr}`,fi=Date.now();let ui,sn=1;try{for(;ui===void 0;){if(Date.now()-fi>this.publishTimeout)throw new Error(ai);this.logger.trace({id:si,attempts:sn},`publisher.publish - attempt ${sn}`),ui=await await u0(this.rpcPublish(P,W,ei,ni,Xr,Zr,si).catch(hn=>this.logger.warn(hn)),this.publishTimeout,ai),sn++,ui||await new Promise(hn=>setTimeout(hn,this.failedPublishTimeout))}this.relayer.events.emit(v$1.publish,oi),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:si,topic:P,message:W,opts:R}})}catch(hn){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(hn),(Wr=R==null?void 0:R.internal)!=null&&Wr.throwOnFailedPublish)throw hn;this.queue.set(si,oi)}},this.on=(P,W)=>{this.events.on(P,W)},this.once=(P,W)=>{this.events.once(P,W)},this.off=(P,W)=>{this.events.off(P,W)},this.removeListener=(P,W)=>{this.events.removeListener(P,W)},this.relayer=e,this.logger=A$1(i,this.name),this.registerEventListeners()}get context(){return y$2(this.logger)}rpcPublish(e,i,P,W,R,Wr,ei){var ni,Xr,Zr,si;const oi={method:Nu(W.protocol).publish,params:{topic:e,message:i,ttl:P,prompt:R,tag:Wr},id:ei};return Pe((ni=oi.params)==null?void 0:ni.prompt)&&((Xr=oi.params)==null||delete Xr.prompt),Pe((Zr=oi.params)==null?void 0:Zr.tag)&&((si=oi.params)==null||delete si.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:oi}),this.relayer.request(oi)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:i,message:P,opts:W}=e;await this.publish(i,P,W)})}registerEventListeners(){this.relayer.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(v$1.connection_stalled);return}this.checkQueue()}),this.relayer.on(v$1.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class Cr{constructor(){this.map=new Map,this.set=(e,i)=>{const P=this.get(e);this.exists(e,i)||this.map.set(e,[...P,i])},this.get=e=>this.map.get(e)||[],this.exists=(e,i)=>this.get(e).includes(i),this.delete=(e,i)=>{if(typeof i>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const P=this.get(e);if(!this.exists(e,i))return;const W=P.filter(R=>R!==i);if(!W.length){this.map.delete(e);return}this.map.set(e,W)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var _r=Object.defineProperty,Rr=Object.defineProperties,Tr=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertySymbols,Sr=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,Lt=(r,e,i)=>e in r?_r(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,q$2=(r,e)=>{for(var i in e||(e={}))Sr.call(e,i)&&Lt(r,i,e[i]);if(Nt)for(var i of Nt(e))Pr.call(e,i)&&Lt(r,i,e[i]);return r},fe=(r,e)=>Rr(r,Tr(e));class Ut extends d{constructor(e,i){super(e,i),this.relayer=e,this.logger=i,this.subscriptions=new Map,this.topicMap=new Cr,this.events=new eventsExports.EventEmitter,this.name=ft$1,this.version=Et,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=z$2,this.subscribeTimeout=cjs$4.toMiliseconds(cjs$4.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(P,W)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:P,opts:W}});try{const R=Su(W),Wr={topic:P,relay:R};this.pending.set(P,Wr);const ei=await this.rpcSubscribe(P,R);return typeof ei=="string"&&(this.onSubscribe(ei,Wr),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:P,opts:W}})),ei}catch(R){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(R),R}},this.unsubscribe=async(P,W)=>{await this.restartToComplete(),this.isInitialized(),typeof(W==null?void 0:W.id)<"u"?await this.unsubscribeById(P,W.id,W):await this.unsubscribeByTopic(P,W)},this.isSubscribed=async P=>{if(this.topics.includes(P))return!0;const W=`${this.pendingSubscriptionWatchLabel}_${P}`;return await new Promise((R,Wr)=>{const ei=new cjs$4.Watch;ei.start(W);const ni=setInterval(()=>{!this.pending.has(P)&&this.topics.includes(P)&&(clearInterval(ni),ei.stop(W),R(!0)),ei.elapsed(W)>=wt&&(clearInterval(ni),ei.stop(W),Wr(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(P,W)=>{this.events.on(P,W)},this.once=(P,W)=>{this.events.once(P,W)},this.off=(P,W)=>{this.events.off(P,W)},this.removeListener=(P,W)=>{this.events.removeListener(P,W)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=A$1(i,this.name),this.clientId=""}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,i){let P=!1;try{P=this.getSubscription(e).topic===i}catch{}return P}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,i){const P=this.topicMap.get(e);await Promise.all(P.map(async W=>await this.unsubscribeById(e,W,i)))}async unsubscribeById(e,i,P){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:i,opts:P}});try{const W=Su(P);await this.rpcUnsubscribe(e,i,W);const R=tr$1("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,i,R),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:i,opts:P}})}catch(W){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(W),W}}async rpcSubscribe(e,i){const P={method:Nu(i.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:P});try{return await await u0(this.relayer.request(P).catch(W=>this.logger.warn(W)),this.subscribeTimeout)?yu(e+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(v$1.connection_stalled)}return null}async rpcBatchSubscribe(e){if(!e.length)return;const i=e[0].relay,P={method:Nu(i.protocol).batchSubscribe,params:{topics:e.map(W=>W.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:P});try{return await await u0(this.relayer.request(P).catch(W=>this.logger.warn(W)),this.subscribeTimeout)}catch{this.relayer.events.emit(v$1.connection_stalled)}}rpcUnsubscribe(e,i,P){const W={method:Nu(P.protocol).unsubscribe,params:{topic:e,id:i}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:W}),this.relayer.request(W)}onSubscribe(e,i){this.setSubscription(e,fe(q$2({},i),{id:e})),this.pending.delete(i.topic)}onBatchSubscribe(e){e.length&&e.forEach(i=>{this.setSubscription(i.id,q$2({},i)),this.pending.delete(i.topic)})}async onUnsubscribe(e,i,P){this.events.removeAllListeners(i),this.hasSubscription(i,e)&&this.deleteSubscription(i,P),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,i){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:i}),this.addSubscription(e,i)}addSubscription(e,i){this.subscriptions.set(e,q$2({},i)),this.topicMap.set(i.topic,e),this.events.emit(S$1.created,i)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const i=this.subscriptions.get(e);if(!i){const{message:P}=xe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(P)}return i}deleteSubscription(e,i){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:i});const P=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(P.topic,e),this.events.emit(S$1.deleted,fe(q$2({},P),{reason:i}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(S$1.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<e;i++){const P=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(P)}}this.events.emit(S$1.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:i}=xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(i),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(i)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const i=await this.rpcBatchSubscribe(e);Er(i)&&this.onBatchSubscribe(i.map((P,W)=>fe(q$2({},e[W]),{id:P})))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach(i=>{e.push(i)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(S$1.created,async e=>{const i=S$1.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:e}),await this.persist()}),this.events.on(S$1.deleted,async e=>{const i=S$1.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const i=setInterval(()=>{this.restartInProgress||(clearInterval(i),e())},this.pollingInterval)})}}var xr=Object.defineProperty,$t=Object.getOwnPropertySymbols,Or=Object.prototype.hasOwnProperty,Ar=Object.prototype.propertyIsEnumerable,Ft=(r,e,i)=>e in r?xr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,zr=(r,e)=>{for(var i in e||(e={}))Or.call(e,i)&&Ft(r,i,e[i]);if($t)for(var i of $t(e))Ar.call(e,i)&&Ft(r,i,e[i]);return r};class kt extends g$1{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new eventsExports.EventEmitter,this.name=dt,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=cjs$4.toMiliseconds(cjs$4.THIRTY_SECONDS+cjs$4.ONE_SECOND),this.request=async i=>{var P,W;this.logger.debug("Publishing Request Payload");const R=i.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{const Wr=this.provider.request(i);this.requestsInFlight.set(R,{promise:Wr,request:i}),this.logger.trace({id:R,method:i.method,topic:(P=i.params)==null?void 0:P.topic},"relayer.request - attempt to publish...");const ei=await new Promise(async(ni,Xr)=>{const Zr=()=>{Xr(new Error(`relayer.request - publish interrupted, id: ${R}`))};this.provider.on(f.disconnect,Zr);const si=await Wr;this.provider.off(f.disconnect,Zr),ni(si)});return this.logger.trace({id:R,method:i.method,topic:(W=i.params)==null?void 0:W.topic},"relayer.request - published"),ei}catch(Wr){throw this.logger.debug(`Failed to Publish Request: ${R}`),Wr}finally{this.requestsInFlight.delete(R)}},this.resetPingTimeout=()=>{if(pi())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var i,P,W;(W=(P=(i=this.provider)==null?void 0:i.connection)==null?void 0:P.socket)==null||W.terminate()},this.heartBeatTimeout)}catch(i){this.logger.warn(i)}},this.onPayloadHandler=i=>{this.onProviderPayload(i),this.resetPingTimeout()},this.onConnectHandler=()=>{this.startPingTimeout(),this.events.emit(v$1.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=i=>{this.logger.error(i),this.events.emit(v$1.error,i),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(f.payload,this.onPayloadHandler),this.provider.on(f.connect,this.onConnectHandler),this.provider.on(f.disconnect,this.onDisconnectHandler),this.provider.on(f.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?A$1(e.logger,this.name):Hg(E$2({level:e.logger||ut})),this.messages=new zt(this.logger,e.core),this.subscriber=new Ut(this,this.logger),this.publisher=new Ir(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||me,this.projectId=e.projectId,this.bundleId=Wo(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${be}...`),await this.restartTransport(be)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&this.subscriber.pending.size===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},yt)}get context(){return y$2(this.logger)}get connected(){var e,i,P;return((P=(i=(e=this.provider)==null?void 0:e.connection)==null?void 0:i.socket)==null?void 0:P.readyState)===1}get connecting(){var e,i,P;return((P=(i=(e=this.provider)==null?void 0:e.connection)==null?void 0:i.socket)==null?void 0:P.readyState)===0}async publish(e,i,P){this.isInitialized(),await this.publisher.publish(e,i,P),await this.recordMessageEvent({topic:e,message:i,publishedAt:Date.now()})}async subscribe(e,i){var P;this.isInitialized();let W=((P=this.subscriber.topicMap.get(e))==null?void 0:P[0])||"",R;const Wr=ei=>{ei.topic===e&&(this.subscriber.off(S$1.created,Wr),R())};return await Promise.all([new Promise(ei=>{R=ei,this.subscriber.on(S$1.created,Wr)}),new Promise(async ei=>{W=await this.subscriber.subscribe(e,i)||W,ei()})]),W}async unsubscribe(e,i){this.isInitialized(),await this.subscriber.unsubscribe(e,i)}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await u0(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect(),await this.createProvider()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(i,P)=>{const W=()=>{this.provider.off(f.disconnect,W),P(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(f.disconnect,W),await u0(this.provider.connect(),cjs$4.toMiliseconds(cjs$4.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(R=>{P(R)}),await this.subscriber.start(),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){this.logger.error(i);const P=i;if(!this.isConnectionStalled(P.message))throw i}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await hh())throw new Error("No internet connection detected. Please restart your network and try again.")}startPingTimeout(){var e,i,P,W,R;if(pi())try{(i=(e=this.provider)==null?void 0:e.connection)!=null&&i.socket&&((R=(W=(P=this.provider)==null?void 0:P.connection)==null?void 0:W.socket)==null||R.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(Wr){this.logger.warn(Wr)}}isConnectionStalled(e){return this.staleConnectionErrors.some(i=>e.includes(i))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new JsonRpcProvider(new f$1($o({sdkVersion:Dt,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:i,message:P}=e;await this.messages.set(i,P)}async shouldIgnoreMessageEvent(e){const{topic:i,message:P}=e;if(!P||P.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${P}`),!0;if(!await this.subscriber.isSubscribed(i))return this.logger.debug(`Ignoring message for non-subscribed topic ${i}`),!0;const W=this.messages.has(i,P);return W&&this.logger.debug(`Ignoring duplicate message: ${P}`),W}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),isJsonRpcRequest(e)){if(!e.method.endsWith(gt))return;const i=e.params,{topic:P,message:W,publishedAt:R}=i.data,Wr={topic:P,message:W,publishedAt:R};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(zr({type:"event",event:i.id},Wr)),this.events.emit(i.id,Wr),await this.acknowledgePayload(e),await this.onMessageEvent(Wr)}else isJsonRpcResponse(e)&&this.events.emit(v$1.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(v$1.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const i=formatJsonRpcResult(e.id,!0);await this.provider.connection.send(i)}unregisterProviderListeners(){this.provider.off(f.payload,this.onPayloadHandler),this.provider.off(f.connect,this.onConnectHandler),this.provider.off(f.disconnect,this.onDisconnectHandler),this.provider.off(f.error,this.onProviderErrorHandler)}async registerEventListeners(){let e=await hh();ch(async i=>{e!==i&&(e=i,i?await this.restartTransport().catch(P=>this.logger.error(P)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.events.emit(v$1.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},cjs$4.toMiliseconds(pt))}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{const i=setInterval(()=>{this.connected&&(clearInterval(i),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var Nr=Object.defineProperty,Bt$1=Object.getOwnPropertySymbols,Lr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Mt=(r,e,i)=>e in r?Nr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,Kt=(r,e)=>{for(var i in e||(e={}))Lr.call(e,i)&&Mt(r,i,e[i]);if(Bt$1)for(var i of Bt$1(e))Ur.call(e,i)&&Mt(r,i,e[i]);return r};class Vt extends p$1{constructor(e,i,P,W=z$2,R=void 0){super(e,i,P,W),this.core=e,this.logger=i,this.name=P,this.map=new Map,this.version=mt,this.cached=[],this.initialized=!1,this.storagePrefix=z$2,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Wr=>{this.getKey&&Wr!==null&&!Pe(Wr)?this.map.set(this.getKey(Wr),Wr):Gu(Wr)?this.map.set(Wr.id,Wr):Yu(Wr)&&this.map.set(Wr.topic,Wr)}),this.cached=[],this.initialized=!0)},this.set=async(Wr,ei)=>{this.isInitialized(),this.map.has(Wr)?await this.update(Wr,ei):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:Wr,value:ei}),this.map.set(Wr,ei),await this.persist())},this.get=Wr=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:Wr}),this.getData(Wr)),this.getAll=Wr=>(this.isInitialized(),Wr?this.values.filter(ei=>Object.keys(Wr).every(ni=>Yi(ei[ni],Wr[ni]))):this.values),this.update=async(Wr,ei)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:Wr,update:ei});const ni=Kt(Kt({},this.getData(Wr)),ei);this.map.set(Wr,ni),await this.persist()},this.delete=async(Wr,ei)=>{this.isInitialized(),this.map.has(Wr)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:Wr,reason:ei}),this.map.delete(Wr),this.addToRecentlyDeleted(Wr),await this.persist())},this.logger=A$1(i,this.name),this.storagePrefix=W,this.getKey=R}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const i=this.map.get(e);if(!i){if(this.recentlyDeleted.includes(e)){const{message:W}=xe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(W),new Error(W)}const{message:P}=xe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(P),new Error(P)}return i}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:i}=xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(i),new Error(i)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class qt{constructor(e,i){this.core=e,this.logger=i,this.name=vt,this.version=It,this.events=new Wg,this.initialized=!1,this.storagePrefix=z$2,this.ignoredPayloadTypes=[lr$2],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:P})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...P])]},this.create=async P=>{this.isInitialized();const W=gu(),R=await this.core.crypto.setSymKey(W),Wr=d0(cjs$4.FIVE_MINUTES),ei={protocol:lt},ni={topic:R,expiry:Wr,relay:ei,active:!1},Xr=Du({protocol:this.core.protocol,version:this.core.version,topic:R,symKey:W,relay:ei,expiryTimestamp:Wr,methods:P==null?void 0:P.methods});return await this.pairings.set(R,ni),await this.core.relayer.subscribe(R),this.core.expirer.set(R,Wr),{topic:R,uri:Xr}},this.pair=async P=>{this.isInitialized(),this.isValidPair(P);const{topic:W,symKey:R,relay:Wr,expiryTimestamp:ei,methods:ni}=Pu(P.uri);let Xr;if(this.pairings.keys.includes(W)&&(Xr=this.pairings.get(W),Xr.active))throw new Error(`Pairing already exists: ${W}. Please try again with a new connection URI.`);const Zr=ei||d0(cjs$4.FIVE_MINUTES),si={topic:W,relay:Wr,expiry:Zr,active:!1,methods:ni};return await this.pairings.set(W,si),this.core.expirer.set(W,Zr),P.activatePairing&&await this.activate({topic:W}),this.events.emit(V.create,si),this.core.crypto.keychain.has(W)||await this.core.crypto.setSymKey(R,W),await this.core.relayer.subscribe(W,{relay:Wr}),si},this.activate=async({topic:P})=>{this.isInitialized();const W=d0(cjs$4.THIRTY_DAYS);await this.pairings.update(P,{active:!0,expiry:W}),this.core.expirer.set(P,W)},this.ping=async P=>{this.isInitialized(),await this.isValidPing(P);const{topic:W}=P;if(this.pairings.keys.includes(W)){const R=await this.sendRequest(W,"wc_pairingPing",{}),{done:Wr,resolve:ei,reject:ni}=a0();this.events.once(v0("pairing_ping",R),({error:Xr})=>{Xr?ni(Xr):ei()}),await Wr()}},this.updateExpiry=async({topic:P,expiry:W})=>{this.isInitialized(),await this.pairings.update(P,{expiry:W})},this.updateMetadata=async({topic:P,metadata:W})=>{this.isInitialized(),await this.pairings.update(P,{peerMetadata:W})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async P=>{this.isInitialized(),await this.isValidDisconnect(P);const{topic:W}=P;this.pairings.keys.includes(W)&&(await this.sendRequest(W,"wc_pairingDelete",tr$1("USER_DISCONNECTED")),await this.deletePairing(W))},this.sendRequest=async(P,W,R)=>{const Wr=formatJsonRpcRequest(W,R),ei=await this.core.crypto.encode(P,Wr),ni=F$1[W].req;return this.core.history.set(P,Wr),this.core.relayer.publish(P,ei,ni),Wr.id},this.sendResult=async(P,W,R)=>{const Wr=formatJsonRpcResult(P,R),ei=await this.core.crypto.encode(W,Wr),ni=await this.core.history.get(W,P),Xr=F$1[ni.request.method].res;await this.core.relayer.publish(W,ei,Xr),await this.core.history.resolve(Wr)},this.sendError=async(P,W,R)=>{const Wr=formatJsonRpcError(P,R),ei=await this.core.crypto.encode(W,Wr),ni=await this.core.history.get(W,P),Xr=F$1[ni.request.method]?F$1[ni.request.method].res:F$1.unregistered_method.res;await this.core.relayer.publish(W,ei,Xr),await this.core.history.resolve(Wr)},this.deletePairing=async(P,W)=>{await this.core.relayer.unsubscribe(P),await Promise.all([this.pairings.delete(P,tr$1("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(P),W?Promise.resolve():this.core.expirer.del(P)])},this.cleanup=async()=>{const P=this.pairings.getAll().filter(W=>p0(W.expiry));await Promise.all(P.map(W=>this.deletePairing(W.topic)))},this.onRelayEventRequest=P=>{const{topic:W,payload:R}=P;switch(R.method){case"wc_pairingPing":return this.onPairingPingRequest(W,R);case"wc_pairingDelete":return this.onPairingDeleteRequest(W,R);default:return this.onUnknownRpcMethodRequest(W,R)}},this.onRelayEventResponse=async P=>{const{topic:W,payload:R}=P,Wr=(await this.core.history.get(W,R.id)).request.method;switch(Wr){case"wc_pairingPing":return this.onPairingPingResponse(W,R);default:return this.onUnknownRpcMethodResponse(Wr)}},this.onPairingPingRequest=async(P,W)=>{const{id:R}=W;try{this.isValidPing({topic:P}),await this.sendResult(R,P,!0),this.events.emit(V.ping,{id:R,topic:P})}catch(Wr){await this.sendError(R,P,Wr),this.logger.error(Wr)}},this.onPairingPingResponse=(P,W)=>{const{id:R}=W;setTimeout(()=>{isJsonRpcResult(W)?this.events.emit(v0("pairing_ping",R),{}):isJsonRpcError(W)&&this.events.emit(v0("pairing_ping",R),{error:W.error})},500)},this.onPairingDeleteRequest=async(P,W)=>{const{id:R}=W;try{this.isValidDisconnect({topic:P}),await this.deletePairing(P),this.events.emit(V.delete,{id:R,topic:P})}catch(Wr){await this.sendError(R,P,Wr),this.logger.error(Wr)}},this.onUnknownRpcMethodRequest=async(P,W)=>{const{id:R,method:Wr}=W;try{if(this.registeredMethods.includes(Wr))return;const ei=tr$1("WC_METHOD_UNSUPPORTED",Wr);await this.sendError(R,P,ei),this.logger.error(ei)}catch(ei){await this.sendError(R,P,ei),this.logger.error(ei)}},this.onUnknownRpcMethodResponse=P=>{this.registeredMethods.includes(P)||this.logger.error(tr$1("WC_METHOD_UNSUPPORTED",P))},this.isValidPair=P=>{var W;if(!$u(P)){const{message:Wr}=xe("MISSING_OR_INVALID",`pair() params: ${P}`);throw new Error(Wr)}if(!Ju(P.uri)){const{message:Wr}=xe("MISSING_OR_INVALID",`pair() uri: ${P.uri}`);throw new Error(Wr)}const R=Pu(P.uri);if(!((W=R==null?void 0:R.relay)!=null&&W.protocol)){const{message:Wr}=xe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(Wr)}if(!(R!=null&&R.symKey)){const{message:Wr}=xe("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(Wr)}if(R!=null&&R.expiryTimestamp&&cjs$4.toMiliseconds(R==null?void 0:R.expiryTimestamp)<Date.now()){const{message:Wr}=xe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(Wr)}},this.isValidPing=async P=>{if(!$u(P)){const{message:R}=xe("MISSING_OR_INVALID",`ping() params: ${P}`);throw new Error(R)}const{topic:W}=P;await this.isValidPairingTopic(W)},this.isValidDisconnect=async P=>{if(!$u(P)){const{message:R}=xe("MISSING_OR_INVALID",`disconnect() params: ${P}`);throw new Error(R)}const{topic:W}=P;await this.isValidPairingTopic(W)},this.isValidPairingTopic=async P=>{if(!Gt$1(P,!1)){const{message:W}=xe("MISSING_OR_INVALID",`pairing topic should be a string: ${P}`);throw new Error(W)}if(!this.pairings.keys.includes(P)){const{message:W}=xe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${P}`);throw new Error(W)}if(p0(this.pairings.get(P).expiry)){await this.deletePairing(P);const{message:W}=xe("EXPIRED",`pairing topic: ${P}`);throw new Error(W)}},this.core=e,this.logger=A$1(i,this.name),this.pairings=new Vt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$2(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(v$1.message,async e=>{const{topic:i,message:P}=e;if(!this.pairings.keys.includes(i)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(P)))return;const W=await this.core.crypto.decode(i,P);try{isJsonRpcRequest(W)?(this.core.history.set(i,W),this.onRelayEventRequest({topic:i,payload:W})):isJsonRpcResponse(W)&&(await this.core.history.resolve(W),await this.onRelayEventResponse({topic:i,payload:W}),this.core.history.delete(i,W.id))}catch(R){this.logger.error(R)}})}registerExpirerEvents(){this.core.expirer.on(C$1.expired,async e=>{const{topic:i}=l0(e.target);i&&this.pairings.keys.includes(i)&&(await this.deletePairing(i,!0),this.events.emit(V.expire,{topic:i}))})}}class jt extends h$1{constructor(e,i){super(e,i),this.core=e,this.logger=i,this.records=new Map,this.events=new eventsExports.EventEmitter,this.name=Ct$1,this.version=_t,this.cached=[],this.initialized=!1,this.storagePrefix=z$2,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(P=>this.records.set(P.id,P)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(P,W,R)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:P,request:W,chainId:R}),this.records.has(W.id))return;const Wr={id:W.id,topic:P,request:{method:W.method,params:W.params||null},chainId:R,expiry:d0(cjs$4.THIRTY_DAYS)};this.records.set(Wr.id,Wr),this.persist(),this.events.emit(I.created,Wr)},this.resolve=async P=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:P}),!this.records.has(P.id))return;const W=await this.getRecord(P.id);typeof W.response>"u"&&(W.response=isJsonRpcError(P)?{error:P.error}:{result:P.result},this.records.set(W.id,W),this.persist(),this.events.emit(I.updated,W))},this.get=async(P,W)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:P,id:W}),await this.getRecord(W)),this.delete=(P,W)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:W}),this.values.forEach(R=>{if(R.topic===P){if(typeof W<"u"&&R.id!==W)return;this.records.delete(R.id),this.events.emit(I.deleted,R)}}),this.persist()},this.exists=async(P,W)=>(this.isInitialized(),this.records.has(W)?(await this.getRecord(W)).topic===P:!1),this.on=(P,W)=>{this.events.on(P,W)},this.once=(P,W)=>{this.events.once(P,W)},this.off=(P,W)=>{this.events.off(P,W)},this.removeListener=(P,W)=>{this.events.removeListener(P,W)},this.logger=A$1(i,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(i=>{if(typeof i.response<"u")return;const P={topic:i.topic,request:formatJsonRpcRequest(i.request.method,i.request.params,i.id),chainId:i.chainId};return e.push(P)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const i=this.records.get(e);if(!i){const{message:P}=xe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(P)}return i}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(I.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:i}=xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(i),new Error(i)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(I.created,e=>{const i=I.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:e})}),this.events.on(I.updated,e=>{const i=I.updated;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:e})}),this.events.on(I.deleted,e=>{const i=I.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:e})}),this.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(i=>{cjs$4.toMiliseconds(i.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${i.id}`),this.records.delete(i.id),this.events.emit(I.deleted,i,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Gt extends E$1{constructor(e,i){super(e,i),this.core=e,this.logger=i,this.expirations=new Map,this.events=new eventsExports.EventEmitter,this.name=Rt,this.version=Tt,this.cached=[],this.initialized=!1,this.storagePrefix=z$2,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(P=>this.expirations.set(P.target,P)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=P=>{try{const W=this.formatTarget(P);return typeof this.getExpiration(W)<"u"}catch{return!1}},this.set=(P,W)=>{this.isInitialized();const R=this.formatTarget(P),Wr={target:R,expiry:W};this.expirations.set(R,Wr),this.checkExpiry(R,Wr),this.events.emit(C$1.created,{target:R,expiration:Wr})},this.get=P=>{this.isInitialized();const W=this.formatTarget(P);return this.getExpiration(W)},this.del=P=>{if(this.isInitialized(),this.has(P)){const W=this.formatTarget(P),R=this.getExpiration(W);this.expirations.delete(W),this.events.emit(C$1.deleted,{target:W,expiration:R})}},this.on=(P,W)=>{this.events.on(P,W)},this.once=(P,W)=>{this.events.once(P,W)},this.off=(P,W)=>{this.events.off(P,W)},this.removeListener=(P,W)=>{this.events.removeListener(P,W)},this.logger=A$1(i,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return h0(e);if(typeof e=="number")return c0(e);const{message:i}=xe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(i)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(C$1.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:i}=xe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(i),new Error(i)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const i=this.expirations.get(e);if(!i){const{message:P}=xe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(P),new Error(P)}return i}checkExpiry(e,i){const{expiry:P}=i;cjs$4.toMiliseconds(P)-Date.now()<=0&&this.expire(e,i)}expire(e,i){this.expirations.delete(e),this.events.emit(C$1.expired,{target:e,expiration:i})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,i)=>this.checkExpiry(i,e))}registerEventListeners(){this.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(C$1.created,e=>{const i=C$1.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:e}),this.persist()}),this.events.on(C$1.expired,e=>{const i=C$1.expired;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:e}),this.persist()}),this.events.on(C$1.deleted,e=>{const i=C$1.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}}}let Yt$1=class extends y$1{constructor(e,i){super(e,i),this.projectId=e,this.logger=i,this.name=ee,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async P=>{if(this.verifyDisabled||er$1()||!pr$1())return;const W=this.getVerifyUrl(P==null?void 0:P.verifyUrl);this.verifyUrl!==W&&this.removeIframe(),this.verifyUrl=W;try{await this.createIframe()}catch(R){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(R)}if(!this.initialized){this.removeIframe(),this.verifyUrl=te;try{await this.createIframe()}catch(R){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(R),this.verifyDisabled=!0}}},this.register=async P=>{this.initialized?this.sendPost(P.attestationId):(this.addToQueue(P.attestationId),await this.init())},this.resolve=async P=>{if(this.isDevEnv)return"";const W=this.getVerifyUrl(P==null?void 0:P.verifyUrl);let R;try{R=await this.fetchAttestation(P.attestationId,W)}catch(Wr){this.logger.info(`failed to resolve attestation: ${P.attestationId} from url: ${W}`),this.logger.info(Wr),R=await this.fetchAttestation(P.attestationId,te)}return R},this.fetchAttestation=async(P,W)=>{this.logger.info(`resolving attestation: ${P} from url: ${W}`);const R=this.startAbortTimer(cjs$4.ONE_SECOND*2),Wr=await fetch(`${W}/attestation/${P}`,{signal:this.abortController.signal});return clearTimeout(R),Wr.status===200?await Wr.json():void 0},this.addToQueue=P=>{this.queue.push(P)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(P=>this.sendPost(P)),this.queue=[])},this.sendPost=P=>{var W;try{if(!this.iframe)return;(W=this.iframe.contentWindow)==null||W.postMessage(P,"*"),this.logger.info(`postMessage sent: ${P} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let P;const W=R=>{R.data==="verify_ready"&&(this.onInit(),window.removeEventListener("message",W),P())};await Promise.race([new Promise(R=>{const Wr=document.getElementById(ee);if(Wr)return this.iframe=Wr,this.onInit(),R();window.addEventListener("message",W);const ei=document.createElement("iframe");ei.id=ee,ei.src=`${this.verifyUrl}/${this.projectId}`,ei.style.display="none",document.body.append(ei),this.iframe=ei,P=R}),new Promise((R,Wr)=>setTimeout(()=>{window.removeEventListener("message",W),Wr("verify iframe load timeout")},cjs$4.toMiliseconds(cjs$4.FIVE_SECONDS)))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=P=>{let W=P||k;return St.includes(W)||(this.logger.info(`verify url: ${W}, not included in trusted list, assigning default: ${k}`),W=k),W},this.logger=A$1(i,this.name),this.verifyUrl=k,this.abortController=new AbortController,this.isDevEnv=pi()&&define_process_env_default.IS_VITEST}get context(){return y$2(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$4.toMiliseconds(e))}},Ht$1=class extends v$2{constructor(e,i){super(e,i),this.projectId=e,this.logger=i,this.context=Pt,this.registerDeviceToken=async P=>{const{clientId:W,token:R,notificationType:Wr,enableEncrypted:ei=!1}=P,ni=`${xt}/${this.projectId}/clients`;await Hi(ni,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:W,type:Wr,token:R,always_raw:ei})})},this.logger=A$1(i,this.context)}};var $r=Object.defineProperty,Jt$1=Object.getOwnPropertySymbols,Fr=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable,Xt$1=(r,e,i)=>e in r?$r(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,Wt$1=(r,e)=>{for(var i in e||(e={}))Fr.call(e,i)&&Xt$1(r,i,e[i]);if(Jt$1)for(var i of Jt$1(e))kr.call(e,i)&&Xt$1(r,i,e[i]);return r};let ie$1=class hg extends n{constructor(e){var i;super(e),this.protocol=De,this.version=Ze,this.name=Z,this.events=new eventsExports.EventEmitter,this.initialized=!1,this.on=(Wr,ei)=>this.events.on(Wr,ei),this.once=(Wr,ei)=>this.events.once(Wr,ei),this.off=(Wr,ei)=>this.events.off(Wr,ei),this.removeListener=(Wr,ei)=>this.events.removeListener(Wr,ei),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||me,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const P=E$2({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:et.logger}),{logger:W,chunkLoggerController:R}=N$1({opts:P,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=R,(i=this.logChunkController)!=null&&i.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var Wr,ei;(Wr=this.logChunkController)!=null&&Wr.downloadLogsBlobInBrowser&&((ei=this.logChunkController)==null||ei.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=A$1(W,this.name),this.heartbeat=new cjs$1.HeartBeat,this.crypto=new At(this,this.logger,e==null?void 0:e.keychain),this.history=new jt(this,this.logger),this.expirer=new Gt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new h$2(Wt$1(Wt$1({},tt),e==null?void 0:e.storageOptions)),this.relayer=new kt({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new qt(this,this.logger),this.verify=new Yt$1(this.projectId||"",this.logger),this.echoClient=new Ht$1(this.projectId||"",this.logger)}static async init(e){const i=new hg(e);await i.initialize();const P=await i.crypto.getClientId();return await i.storage.setItem(bt,P),i}get context(){return y$2(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const Br=ie$1,Se="wc",Ee=2,_e="client",se=`${Se}@${Ee}:${_e}:`,ie={name:_e,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},Re="WALLETCONNECT_DEEPLINK_CHOICE",Ke="proposal",Ue="Proposal expired",Ge="session",L$1=cjs$4.SEVEN_DAYS,ke="engine",q$1={wc_sessionPropose:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjs$4.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjs$4.ONE_HOUR,prompt:!1,tag:1117}}},re={min:cjs$4.FIVE_MINUTES,max:cjs$4.SEVEN_DAYS},A={idle:"IDLE",active:"ACTIVE"},Fe="request",je=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],Qe="wc",ze="auth",He="authKeys",Ye="pairingTopics",Xe="requests",X=`${Qe}@${1.5}:${ze}:`,J=`${X}:PUB_KEY`;var Ht=Object.defineProperty,Yt=Object.defineProperties,Xt=Object.getOwnPropertyDescriptors,Je=Object.getOwnPropertySymbols,Jt=Object.prototype.hasOwnProperty,Bt=Object.prototype.propertyIsEnumerable,Be=(r,e,i)=>e in r?Ht(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,m$1=(r,e)=>{for(var i in e||(e={}))Jt.call(e,i)&&Be(r,i,e[i]);if(Je)for(var i of Je(e))Bt.call(e,i)&&Be(r,i,e[i]);return r},F=(r,e)=>Yt(r,Xt(e));class Wt extends w$1{constructor(e){super(e),this.name=ke,this.events=new Wg,this.initialized=!1,this.requestQueue={state:A.idle,queue:[]},this.sessionRequestQueue={state:A.idle,queue:[]},this.requestQueueDelay=cjs$4.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(q$1)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$4.toMiliseconds(this.requestQueueDelay)))},this.connect=async i=>{await this.isInitialized();const P=F(m$1({},i),{requiredNamespaces:i.requiredNamespaces||{},optionalNamespaces:i.optionalNamespaces||{}});await this.isValidConnect(P);const{pairingTopic:W,requiredNamespaces:R,optionalNamespaces:Wr,sessionProperties:ei,relays:ni}=P;let Xr=W,Zr,si=!1;try{Xr&&(si=this.client.core.pairing.pairings.get(Xr).active)}catch(on){throw this.client.logger.error(`connect() -> pairing.get(${Xr}) failed`),on}if(!Xr||!si){const{topic:on,uri:vn}=await this.client.core.pairing.create();Xr=on,Zr=vn}if(!Xr){const{message:on}=xe("NO_MATCHING_KEY",`connect() pairing topic: ${Xr}`);throw new Error(on)}const oi=await this.client.core.crypto.generateKeyPair(),ai=q$1.wc_sessionPropose.req.ttl||cjs$4.FIVE_MINUTES,fi=d0(ai),ui=m$1({requiredNamespaces:R,optionalNamespaces:Wr,relays:ni??[{protocol:lt}],proposer:{publicKey:oi,metadata:this.client.metadata},expiryTimestamp:fi},ei&&{sessionProperties:ei}),{reject:sn,resolve:hn,done:nn}=a0(ai,Ue);this.events.once(v0("session_connect"),async({error:on,session:vn})=>{if(on)sn(on);else if(vn){vn.self.publicKey=oi;const Mn=F(m$1({},vn),{requiredNamespaces:ui.requiredNamespaces,optionalNamespaces:ui.optionalNamespaces});await this.client.session.set(vn.topic,Mn),await this.setExpiry(vn.topic,vn.expiry),Xr&&await this.client.core.pairing.updateMetadata({topic:Xr,metadata:vn.peer.metadata}),hn(Mn)}});const ln=await this.sendRequest({topic:Xr,method:"wc_sessionPropose",params:ui,throwOnFailedPublish:!0});return await this.setProposal(ln,m$1({id:ln},ui)),{uri:Zr,approval:nn}},this.pair=async i=>{await this.isInitialized();try{return await this.client.core.pairing.pair(i)}catch(P){throw this.client.logger.error("pair() failed"),P}},this.approve=async i=>{await this.isInitialized();try{await this.isValidApprove(i)}catch(nn){throw this.client.logger.error("approve() -> isValidApprove() failed"),nn}const{id:P,relayProtocol:W,namespaces:R,sessionProperties:Wr,sessionConfig:ei}=i;let ni;try{ni=this.client.proposal.get(P)}catch(nn){throw this.client.logger.error(`approve() -> proposal.get(${P}) failed`),nn}let{pairingTopic:Xr,proposer:Zr,requiredNamespaces:si,optionalNamespaces:oi}=ni;Xr=Xr||"";const ai=await this.client.core.crypto.generateKeyPair(),fi=Zr.publicKey,ui=await this.client.core.crypto.generateSharedKey(ai,fi),sn=m$1(m$1({relay:{protocol:W??"irn"},namespaces:R,pairingTopic:Xr,controller:{publicKey:ai,metadata:this.client.metadata},expiry:d0(L$1)},Wr&&{sessionProperties:Wr}),ei&&{sessionConfig:ei});await this.client.core.relayer.subscribe(ui);const hn=F(m$1({},sn),{topic:ui,requiredNamespaces:si,optionalNamespaces:oi,pairingTopic:Xr,acknowledged:!1,self:sn.controller,peer:{publicKey:Zr.publicKey,metadata:Zr.metadata},controller:ai});await this.client.session.set(ui,hn);try{await this.sendResult({id:P,topic:Xr,result:{relay:{protocol:W??"irn"},responderPublicKey:ai},throwOnFailedPublish:!0}),await this.sendRequest({topic:ui,method:"wc_sessionSettle",params:sn,throwOnFailedPublish:!0})}catch(nn){throw this.client.logger.error(nn),this.client.session.delete(ui,tr$1("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(ui),nn}return await this.client.core.pairing.updateMetadata({topic:Xr,metadata:Zr.metadata}),await this.client.proposal.delete(P,tr$1("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:Xr}),await this.setExpiry(ui,d0(L$1)),{topic:ui,acknowledged:()=>new Promise(nn=>setTimeout(()=>nn(this.client.session.get(ui)),500))}},this.reject=async i=>{await this.isInitialized();try{await this.isValidReject(i)}catch(Wr){throw this.client.logger.error("reject() -> isValidReject() failed"),Wr}const{id:P,reason:W}=i;let R;try{R=this.client.proposal.get(P).pairingTopic}catch(Wr){throw this.client.logger.error(`reject() -> proposal.get(${P}) failed`),Wr}R&&(await this.sendError({id:P,topic:R,error:W}),await this.client.proposal.delete(P,tr$1("USER_DISCONNECTED")))},this.update=async i=>{await this.isInitialized();try{await this.isValidUpdate(i)}catch(si){throw this.client.logger.error("update() -> isValidUpdate() failed"),si}const{topic:P,namespaces:W}=i,{done:R,resolve:Wr,reject:ei}=a0(),ni=payloadId(),Xr=getBigIntRpcId().toString(),Zr=this.client.session.get(P).namespaces;return this.events.once(v0("session_update",ni),({error:si})=>{si?ei(si):Wr()}),await this.client.session.update(P,{namespaces:W}),this.sendRequest({topic:P,method:"wc_sessionUpdate",params:{namespaces:W},throwOnFailedPublish:!0,clientRpcId:ni,relayRpcId:Xr}).catch(si=>{this.client.logger.error(si),this.client.session.update(P,{namespaces:Zr}),ei(si)}),{acknowledged:R}},this.extend=async i=>{await this.isInitialized();try{await this.isValidExtend(i)}catch(ni){throw this.client.logger.error("extend() -> isValidExtend() failed"),ni}const{topic:P}=i,W=payloadId(),{done:R,resolve:Wr,reject:ei}=a0();return this.events.once(v0("session_extend",W),({error:ni})=>{ni?ei(ni):Wr()}),await this.setExpiry(P,d0(L$1)),this.sendRequest({topic:P,method:"wc_sessionExtend",params:{},clientRpcId:W,throwOnFailedPublish:!0}).catch(ni=>{ei(ni)}),{acknowledged:R}},this.request=async i=>{await this.isInitialized();try{await this.isValidRequest(i)}catch(ai){throw this.client.logger.error("request() -> isValidRequest() failed"),ai}const{chainId:P,request:W,topic:R,expiry:Wr=q$1.wc_sessionRequest.req.ttl}=i,ei=this.client.session.get(R),ni=payloadId(),Xr=getBigIntRpcId().toString(),{done:Zr,resolve:si,reject:oi}=a0(Wr,"Request expired. Please try again.");return this.events.once(v0("session_request",ni),({error:ai,result:fi})=>{ai?oi(ai):si(fi)}),await Promise.all([new Promise(async ai=>{await this.sendRequest({clientRpcId:ni,relayRpcId:Xr,topic:R,method:"wc_sessionRequest",params:{request:F(m$1({},W),{expiryTimestamp:d0(Wr)}),chainId:P},expiry:Wr,throwOnFailedPublish:!0}).catch(fi=>oi(fi)),this.client.events.emit("session_request_sent",{topic:R,request:W,chainId:P,id:ni}),ai()}),new Promise(async ai=>{var fi;if(!((fi=ei.sessionConfig)!=null&&fi.disableDeepLink)){const ui=await g0(this.client.core.storage,Re);m0({id:ni,topic:R,wcDeepLink:ui})}ai()}),Zr()]).then(ai=>ai[2])},this.respond=async i=>{await this.isInitialized(),await this.isValidRespond(i);const{topic:P,response:W}=i,{id:R}=W;isJsonRpcResult(W)?await this.sendResult({id:R,topic:P,result:W.result,throwOnFailedPublish:!0}):isJsonRpcError(W)&&await this.sendError({id:R,topic:P,error:W.error}),this.cleanupAfterResponse(i)},this.ping=async i=>{await this.isInitialized();try{await this.isValidPing(i)}catch(W){throw this.client.logger.error("ping() -> isValidPing() failed"),W}const{topic:P}=i;if(this.client.session.keys.includes(P)){const W=payloadId(),R=getBigIntRpcId().toString(),{done:Wr,resolve:ei,reject:ni}=a0();this.events.once(v0("session_ping",W),({error:Xr})=>{Xr?ni(Xr):ei()}),await Promise.all([this.sendRequest({topic:P,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:W,relayRpcId:R}),Wr()])}else this.client.core.pairing.pairings.keys.includes(P)&&await this.client.core.pairing.ping({topic:P})},this.emit=async i=>{await this.isInitialized(),await this.isValidEmit(i);const{topic:P,event:W,chainId:R}=i,Wr=getBigIntRpcId().toString();await this.sendRequest({topic:P,method:"wc_sessionEvent",params:{event:W,chainId:R},throwOnFailedPublish:!0,relayRpcId:Wr})},this.disconnect=async i=>{await this.isInitialized(),await this.isValidDisconnect(i);const{topic:P}=i;if(this.client.session.keys.includes(P))await this.sendRequest({topic:P,method:"wc_sessionDelete",params:tr$1("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:P,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(P))await this.client.core.pairing.disconnect({topic:P});else{const{message:W}=xe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${P}`);throw new Error(W)}},this.find=i=>(this.isInitialized(),this.client.session.getAll().filter(P=>Qu(P,i))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async i=>{this.isInitialized(),this.isValidAuthenticate(i);const{chains:P,statement:W="",uri:R,domain:Wr,nonce:ei,type:ni,exp:Xr,nbf:Zr,methods:si=[]}=i,oi=[...i.resources||[]],{topic:ai,uri:fi}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});this.client.logger.info({message:"Generated new pairing",pairing:{topic:ai,uri:fi}});const ui=await this.client.core.crypto.generateKeyPair(),sn=bu(ui);if(await Promise.all([this.client.auth.authKeys.set(J,{responseTopic:sn,publicKey:ui}),this.client.auth.pairingTopics.set(sn,{topic:sn,pairingTopic:ai})]),await this.client.core.relayer.subscribe(sn),this.client.logger.info(`sending request to new pairing topic: ${ai}`),si.length>0){const{namespace:t}=dn(P[0]);let o=cu(t,"request",si);Qr(oi)&&(o=lu(o,oi.pop())),oi.push(o)}const hn=d0(q$1.wc_sessionPropose.req.ttl),nn={authPayload:{type:ni??"caip122",chains:P,statement:W,aud:R,domain:Wr,version:"1",nonce:ei,iat:new Date().toISOString(),exp:Xr,nbf:Zr,resources:oi},requester:{publicKey:ui,metadata:this.client.metadata},expiryTimestamp:hn},ln={eip155:{chains:P,methods:[...new Set(["personal_sign",...si])],events:["chainChanged","accountsChanged"]}},on={requiredNamespaces:{},optionalNamespaces:ln,relays:[{protocol:"irn"}],proposer:{publicKey:ui,metadata:this.client.metadata},expiryTimestamp:hn},{done:vn,resolve:Mn,reject:mi}=a0(q$1.wc_sessionAuthenticate.req.ttl,"Request expired"),mn=async({error:t,session:o})=>{if(this.events.off(v0("session_request",ko),Bn),t)mi(t);else if(o){o.self.publicKey=ui,await this.client.session.set(o.topic,o),await this.setExpiry(o.topic,o.expiry),ai&&await this.client.core.pairing.updateMetadata({topic:ai,metadata:o.peer.metadata});const H=this.client.session.get(o.topic);Mn({session:H})}},Bn=async t=>{if(t.error){const Ie=tr$1("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return t.error.code===Ie.code?void 0:(this.events.off(v0("session_connect"),mn),mi(t.error.message))}this.events.off(v0("session_connect"),mn);const{cacaos:o,responder:H}=t.result,G=[],Ne=[];for(const Ie of o){await ou({cacao:Ie,projectId:this.client.core.projectId})||(this.client.logger.error(Ie,"Signature verification failed"),mi(tr$1("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:s}=Ie,Y=Qr(s.resources),li=[fu(s.iss)],un=Li(s.iss);if(Y){const pn=du(Y),di=pu(Y);G.push(...pn),li.push(...di)}for(const pn of li)Ne.push(`${pn}:${un}`)}const Le=await this.client.core.crypto.generateSharedKey(ui,H.publicKey);let ti;G.length>0&&(ti={topic:Le,acknowledged:!0,self:{publicKey:ui,metadata:this.client.metadata},peer:H,controller:H.publicKey,expiry:d0(L$1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ai,namespaces:ju([...new Set(G)],[...new Set(Ne)])},await this.client.core.relayer.subscribe(Le),await this.client.session.set(Le,ti),ti=this.client.session.get(Le)),Mn({auths:o,session:ti})},ko=payloadId(),ii=payloadId();this.events.once(v0("session_connect"),mn),this.events.once(v0("session_request",ko),Bn);try{await Promise.all([this.sendRequest({topic:ai,method:"wc_sessionAuthenticate",params:nn,expiry:i.expiry,throwOnFailedPublish:!0,clientRpcId:ko}),this.sendRequest({topic:ai,method:"wc_sessionPropose",params:on,expiry:q$1.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:ii})])}catch(t){throw this.events.off(v0("session_connect"),mn),this.events.off(v0("session_request",ko),Bn),t}return await this.setProposal(ii,m$1({id:ii},on)),await this.client.auth.requests.set(ko,{authPayload:nn.authPayload,requester:nn.requester,expiryTimestamp:hn,id:ko,pairingTopic:ai,verifyContext:{}}),{uri:fi,response:vn}},this.approveSessionAuthenticate=async i=>{this.isInitialized();const{id:P,auths:W}=i,R=this.getPendingAuthRequest(P);if(!R)throw new Error(`Could not find pending auth request with id ${P}`);const Wr=R.requester.publicKey,ei=await this.client.core.crypto.generateKeyPair(),ni=bu(Wr),Xr={type:lr$2,receiverPublicKey:Wr,senderPublicKey:ei},Zr=[],si=[];for(const fi of W){if(!await ou({cacao:fi,projectId:this.client.core.projectId})){const ln=tr$1("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:P,topic:ni,error:ln,encodeOpts:Xr}),new Error(ln.message)}const{p:ui}=fi,sn=Qr(ui.resources),hn=[fu(ui.iss)],nn=Li(ui.iss);if(sn){const ln=du(sn),on=pu(sn);Zr.push(...ln),hn.push(...on)}for(const ln of hn)si.push(`${ln}:${nn}`)}const oi=await this.client.core.crypto.generateSharedKey(ei,Wr);let ai;return(Zr==null?void 0:Zr.length)>0&&(ai={topic:oi,acknowledged:!0,self:{publicKey:ei,metadata:this.client.metadata},peer:{publicKey:Wr,metadata:R.requester.metadata},controller:Wr,expiry:d0(L$1),authentication:W,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:"",namespaces:ju([...new Set(Zr)],[...new Set(si)])},await this.client.core.relayer.subscribe(oi),await this.client.session.set(oi,ai)),await this.sendResult({topic:ni,id:P,result:{cacaos:W,responder:{publicKey:ei,metadata:this.client.metadata}},encodeOpts:Xr,throwOnFailedPublish:!0}),await this.client.auth.requests.delete(P,{message:"fullfilled",code:0}),await this.client.core.pairing.activate({topic:R.pairingTopic}),{session:ai}},this.rejectSessionAuthenticate=async i=>{await this.isInitialized();const{id:P,reason:W}=i,R=this.getPendingAuthRequest(P);if(!R)throw new Error(`Could not find pending auth request with id ${P}`);const Wr=R.requester.publicKey,ei=await this.client.core.crypto.generateKeyPair(),ni=bu(Wr),Xr={type:lr$2,receiverPublicKey:Wr,senderPublicKey:ei};await this.sendError({id:P,topic:ni,error:W,encodeOpts:Xr}),await this.client.auth.requests.delete(P,{message:"rejected",code:0}),await this.client.proposal.delete(P,tr$1("USER_DISCONNECTED"))},this.formatAuthMessage=i=>{this.isInitialized();const{request:P,iss:W}=i;return zf(P,W)},this.cleanupDuplicatePairings=async i=>{if(i.pairingTopic)try{const P=this.client.core.pairing.pairings.get(i.pairingTopic),W=this.client.core.pairing.pairings.getAll().filter(R=>{var Wr,ei;return((Wr=R.peerMetadata)==null?void 0:Wr.url)&&((ei=R.peerMetadata)==null?void 0:ei.url)===i.peer.metadata.url&&R.topic&&R.topic!==P.topic});if(W.length===0)return;this.client.logger.info(`Cleaning up ${W.length} duplicate pairing(s)`),await Promise.all(W.map(R=>this.client.core.pairing.disconnect({topic:R.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(P){this.client.logger.error(P)}},this.deleteSession=async i=>{const{topic:P,expirerHasDeleted:W=!1,emitEvent:R=!0,id:Wr=0}=i,{self:ei}=this.client.session.get(P);await this.client.core.relayer.unsubscribe(P),await this.client.session.delete(P,tr$1("USER_DISCONNECTED")),this.addToRecentlyDeleted(P,"session"),this.client.core.crypto.keychain.has(ei.publicKey)&&await this.client.core.crypto.deleteKeyPair(ei.publicKey),this.client.core.crypto.keychain.has(P)&&await this.client.core.crypto.deleteSymKey(P),W||this.client.core.expirer.del(P),this.client.core.storage.removeItem(Re).catch(ni=>this.client.logger.warn(ni)),this.getPendingSessionRequests().forEach(ni=>{ni.topic===P&&this.deletePendingSessionRequest(ni.id,tr$1("USER_DISCONNECTED"))}),R&&this.client.events.emit("session_delete",{id:Wr,topic:P})},this.deleteProposal=async(i,P)=>{await Promise.all([this.client.proposal.delete(i,tr$1("USER_DISCONNECTED")),P?Promise.resolve():this.client.core.expirer.del(i)]),this.addToRecentlyDeleted(i,"proposal")},this.deletePendingSessionRequest=async(i,P,W=!1)=>{await Promise.all([this.client.pendingRequest.delete(i,P),W?Promise.resolve():this.client.core.expirer.del(i)]),this.addToRecentlyDeleted(i,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(R=>R.id!==i),W&&(this.sessionRequestQueue.state=A.idle,this.client.events.emit("session_request_expire",{id:i}))},this.setExpiry=async(i,P)=>{this.client.session.keys.includes(i)&&await this.client.session.update(i,{expiry:P}),this.client.core.expirer.set(i,P)},this.setProposal=async(i,P)=>{await this.client.proposal.set(i,P),this.client.core.expirer.set(i,d0(q$1.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async i=>{const{id:P,topic:W,params:R,verifyContext:Wr}=i,ei=R.request.expiryTimestamp||d0(q$1.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(P,{id:P,topic:W,params:R,verifyContext:Wr}),ei&&this.client.core.expirer.set(P,ei)},this.sendRequest=async i=>{const{topic:P,method:W,params:R,expiry:Wr,relayRpcId:ei,clientRpcId:ni,throwOnFailedPublish:Xr}=i,Zr=formatJsonRpcRequest(W,R,ni);if(pr$1()&&je.includes(W)){const ai=yu(JSON.stringify(Zr));this.client.core.verify.register({attestationId:ai})}let si;try{si=await this.client.core.crypto.encode(P,Zr)}catch(ai){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${P} failed`),ai}const oi=q$1[W].req;return Wr&&(oi.ttl=Wr),ei&&(oi.id=ei),this.client.core.history.set(P,Zr),Xr?(oi.internal=F(m$1({},oi.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(P,si,oi)):this.client.core.relayer.publish(P,si,oi).catch(ai=>this.client.logger.error(ai)),Zr.id},this.sendResult=async i=>{const{id:P,topic:W,result:R,throwOnFailedPublish:Wr,encodeOpts:ei}=i,ni=formatJsonRpcResult(P,R);let Xr;try{Xr=await this.client.core.crypto.encode(W,ni,ei)}catch(oi){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${W} failed`),oi}let Zr;try{Zr=await this.client.core.history.get(W,P)}catch(oi){throw this.client.logger.error(`sendResult() -> history.get(${W}, ${P}) failed`),oi}const si=q$1[Zr.request.method].res;Wr?(si.internal=F(m$1({},si.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(W,Xr,si)):this.client.core.relayer.publish(W,Xr,si).catch(oi=>this.client.logger.error(oi)),await this.client.core.history.resolve(ni)},this.sendError=async i=>{const{id:P,topic:W,error:R,encodeOpts:Wr}=i,ei=formatJsonRpcError(P,R);let ni;try{ni=await this.client.core.crypto.encode(W,ei,Wr)}catch(si){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${W} failed`),si}let Xr;try{Xr=await this.client.core.history.get(W,P)}catch(si){throw this.client.logger.error(`sendError() -> history.get(${W}, ${P}) failed`),si}const Zr=q$1[Xr.request.method].res;this.client.core.relayer.publish(W,ni,Zr),await this.client.core.history.resolve(ei)},this.cleanup=async()=>{const i=[],P=[];this.client.session.getAll().forEach(W=>{let R=!1;p0(W.expiry)&&(R=!0),this.client.core.crypto.keychain.has(W.topic)||(R=!0),R&&i.push(W.topic)}),this.client.proposal.getAll().forEach(W=>{p0(W.expiryTimestamp)&&P.push(W.id)}),await Promise.all([...i.map(W=>this.deleteSession({topic:W})),...P.map(W=>this.deleteProposal(W))])},this.onRelayEventRequest=async i=>{this.requestQueue.queue.push(i),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===A.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=A.active;const i=this.requestQueue.queue.shift();if(i)try{this.processRequest(i),await new Promise(P=>setTimeout(P,300))}catch(P){this.client.logger.warn(P)}}this.requestQueue.state=A.idle},this.processRequest=i=>{const{topic:P,payload:W}=i,R=W.method;if(!this.shouldIgnorePairingRequest({topic:P,requestMethod:R}))switch(R){case"wc_sessionPropose":return this.onSessionProposeRequest(P,W);case"wc_sessionSettle":return this.onSessionSettleRequest(P,W);case"wc_sessionUpdate":return this.onSessionUpdateRequest(P,W);case"wc_sessionExtend":return this.onSessionExtendRequest(P,W);case"wc_sessionPing":return this.onSessionPingRequest(P,W);case"wc_sessionDelete":return this.onSessionDeleteRequest(P,W);case"wc_sessionRequest":return this.onSessionRequest(P,W);case"wc_sessionEvent":return this.onSessionEventRequest(P,W);case"wc_sessionAuthenticate":return this.onSessionAuthenticateRequest(P,W);default:return this.client.logger.info(`Unsupported request method ${R}`)}},this.onRelayEventResponse=async i=>{const{topic:P,payload:W}=i,R=(await this.client.core.history.get(P,W.id)).request.method;switch(R){case"wc_sessionPropose":return this.onSessionProposeResponse(P,W);case"wc_sessionSettle":return this.onSessionSettleResponse(P,W);case"wc_sessionUpdate":return this.onSessionUpdateResponse(P,W);case"wc_sessionExtend":return this.onSessionExtendResponse(P,W);case"wc_sessionPing":return this.onSessionPingResponse(P,W);case"wc_sessionRequest":return this.onSessionRequestResponse(P,W);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(P,W);default:return this.client.logger.info(`Unsupported response method ${R}`)}},this.onRelayEventUnknownPayload=i=>{const{topic:P}=i,{message:W}=xe("MISSING_OR_INVALID",`Decoded payload on topic ${P} is not identifiable as a JSON-RPC request or a response.`);throw new Error(W)},this.shouldIgnorePairingRequest=i=>{const{topic:P,requestMethod:W}=i,R=this.expectedPairingMethodMap.get(P);return!R||R.includes(W)?!1:!!(R.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async(i,P)=>{const{params:W,id:R}=P;try{this.isValidConnect(m$1({},P.params));const Wr=W.expiryTimestamp||d0(q$1.wc_sessionPropose.req.ttl),ei=m$1({id:R,pairingTopic:i,expiryTimestamp:Wr},W);await this.setProposal(R,ei);const ni=yu(JSON.stringify(P)),Xr=await this.getVerifyContext(ni,ei.proposer.metadata);this.client.events.emit("session_proposal",{id:R,params:ei,verifyContext:Xr})}catch(Wr){await this.sendError({id:R,topic:i,error:Wr}),this.client.logger.error(Wr)}},this.onSessionProposeResponse=async(i,P)=>{const{id:W}=P;if(isJsonRpcResult(P)){const{result:R}=P;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:R});const Wr=this.client.proposal.get(W);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:Wr});const ei=Wr.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:ei});const ni=R.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:ni});const Xr=await this.client.core.crypto.generateSharedKey(ei,ni);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:Xr});const Zr=await this.client.core.relayer.subscribe(Xr);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Zr}),await this.client.core.pairing.activate({topic:i})}else if(isJsonRpcError(P)){await this.client.proposal.delete(W,tr$1("USER_DISCONNECTED"));const R=v0("session_connect");if(this.events.listenerCount(R)===0)throw new Error(`emitting ${R} without any listeners, 954`);this.events.emit(v0("session_connect"),{error:P.error})}},this.onSessionSettleRequest=async(i,P)=>{const{id:W,params:R}=P;try{this.isValidSessionSettleRequest(R);const{relay:Wr,controller:ei,expiry:ni,namespaces:Xr,sessionProperties:Zr,pairingTopic:si,sessionConfig:oi}=P.params,ai=m$1(m$1({topic:i,relay:Wr,expiry:ni,namespaces:Xr,acknowledged:!0,pairingTopic:si,requiredNamespaces:{},optionalNamespaces:{},controller:ei.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:ei.publicKey,metadata:ei.metadata}},Zr&&{sessionProperties:Zr}),oi&&{sessionConfig:oi});await this.sendResult({id:P.id,topic:i,result:!0,throwOnFailedPublish:!0});const fi=v0("session_connect");if(this.events.listenerCount(fi)===0)throw new Error(`emitting ${fi} without any listeners 997`);this.events.emit(v0("session_connect"),{session:ai}),this.cleanupDuplicatePairings(ai)}catch(Wr){await this.sendError({id:W,topic:i,error:Wr}),this.client.logger.error(Wr)}},this.onSessionSettleResponse=async(i,P)=>{const{id:W}=P;isJsonRpcResult(P)?(await this.client.session.update(i,{acknowledged:!0}),this.events.emit(v0("session_approve",W),{})):isJsonRpcError(P)&&(await this.client.session.delete(i,tr$1("USER_DISCONNECTED")),this.events.emit(v0("session_approve",W),{error:P.error}))},this.onSessionUpdateRequest=async(i,P)=>{const{params:W,id:R}=P;try{const Wr=`${i}_session_update`,ei=lh.get(Wr);if(ei&&this.isRequestOutOfSync(ei,R)){this.client.logger.info(`Discarding out of sync request - ${R}`),this.sendError({id:R,topic:i,error:tr$1("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(m$1({topic:i},W));try{lh.set(Wr,R),await this.client.session.update(i,{namespaces:W.namespaces}),await this.sendResult({id:R,topic:i,result:!0,throwOnFailedPublish:!0})}catch(ni){throw lh.delete(Wr),ni}this.client.events.emit("session_update",{id:R,topic:i,params:W})}catch(Wr){await this.sendError({id:R,topic:i,error:Wr}),this.client.logger.error(Wr)}},this.isRequestOutOfSync=(i,P)=>parseInt(P.toString().slice(0,-3))<=parseInt(i.toString().slice(0,-3)),this.onSessionUpdateResponse=(i,P)=>{const{id:W}=P,R=v0("session_update",W);if(this.events.listenerCount(R)===0)throw new Error(`emitting ${R} without any listeners`);isJsonRpcResult(P)?this.events.emit(v0("session_update",W),{}):isJsonRpcError(P)&&this.events.emit(v0("session_update",W),{error:P.error})},this.onSessionExtendRequest=async(i,P)=>{const{id:W}=P;try{this.isValidExtend({topic:i}),await this.setExpiry(i,d0(L$1)),await this.sendResult({id:W,topic:i,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:W,topic:i})}catch(R){await this.sendError({id:W,topic:i,error:R}),this.client.logger.error(R)}},this.onSessionExtendResponse=(i,P)=>{const{id:W}=P,R=v0("session_extend",W);if(this.events.listenerCount(R)===0)throw new Error(`emitting ${R} without any listeners`);isJsonRpcResult(P)?this.events.emit(v0("session_extend",W),{}):isJsonRpcError(P)&&this.events.emit(v0("session_extend",W),{error:P.error})},this.onSessionPingRequest=async(i,P)=>{const{id:W}=P;try{this.isValidPing({topic:i}),await this.sendResult({id:W,topic:i,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:W,topic:i})}catch(R){await this.sendError({id:W,topic:i,error:R}),this.client.logger.error(R)}},this.onSessionPingResponse=(i,P)=>{const{id:W}=P,R=v0("session_ping",W);if(this.events.listenerCount(R)===0)throw new Error(`emitting ${R} without any listeners`);setTimeout(()=>{isJsonRpcResult(P)?this.events.emit(v0("session_ping",W),{}):isJsonRpcError(P)&&this.events.emit(v0("session_ping",W),{error:P.error})},500)},this.onSessionDeleteRequest=async(i,P)=>{const{id:W}=P;try{this.isValidDisconnect({topic:i,reason:P.params}),await Promise.all([new Promise(R=>{this.client.core.relayer.once(v$1.publish,async()=>{R(await this.deleteSession({topic:i,id:W}))})}),this.sendResult({id:W,topic:i,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:i,error:tr$1("USER_DISCONNECTED")})])}catch(R){this.client.logger.error(R)}},this.onSessionRequest=async(i,P)=>{const{id:W,params:R}=P;try{await this.isValidRequest(m$1({topic:i},R));const Wr=yu(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",R,W))),ei=this.client.session.get(i),ni=await this.getVerifyContext(Wr,ei.peer.metadata),Xr={id:W,topic:i,params:R,verifyContext:ni};await this.setPendingSessionRequest(Xr),this.addSessionRequestToSessionRequestQueue(Xr),this.processSessionRequestQueue()}catch(Wr){await this.sendError({id:W,topic:i,error:Wr}),this.client.logger.error(Wr)}},this.onSessionRequestResponse=(i,P)=>{const{id:W}=P,R=v0("session_request",W);if(this.events.listenerCount(R)===0)throw new Error(`emitting ${R} without any listeners`);isJsonRpcResult(P)?this.events.emit(v0("session_request",W),{result:P.result}):isJsonRpcError(P)&&this.events.emit(v0("session_request",W),{error:P.error})},this.onSessionEventRequest=async(i,P)=>{const{id:W,params:R}=P;try{const Wr=`${i}_session_event_${R.event.name}`,ei=lh.get(Wr);if(ei&&this.isRequestOutOfSync(ei,W)){this.client.logger.info(`Discarding out of sync request - ${W}`);return}this.isValidEmit(m$1({topic:i},R)),this.client.events.emit("session_event",{id:W,topic:i,params:R}),lh.set(Wr,W)}catch(Wr){await this.sendError({id:W,topic:i,error:Wr}),this.client.logger.error(Wr)}},this.onSessionAuthenticateResponse=(i,P)=>{const{id:W}=P;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:i,payload:P}),isJsonRpcResult(P)?this.events.emit(v0("session_request",W),{result:P.result}):isJsonRpcError(P)&&this.events.emit(v0("session_request",W),{error:P.error})},this.onSessionAuthenticateRequest=async(i,P)=>{const{requester:W,authPayload:R,expiryTimestamp:Wr}=P.params,ei=yu(JSON.stringify(P)),ni=await this.getVerifyContext(ei,this.client.metadata),Xr={requester:W,pairingTopic:i,id:P.id,authPayload:R,verifyContext:ni,expiryTimestamp:Wr};await this.client.auth.requests.set(P.id,Xr),this.client.events.emit("session_authenticate",{topic:i,params:P.params,id:P.id})},this.addSessionRequestToSessionRequestQueue=i=>{this.sessionRequestQueue.queue.push(i)},this.cleanupAfterResponse=i=>{this.deletePendingSessionRequest(i.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=A.idle,this.processSessionRequestQueue()},cjs$4.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:i,error:P})=>{const W=this.client.core.history.pending;W.length>0&&W.filter(R=>R.topic===i&&R.request.method==="wc_sessionRequest").forEach(R=>{const Wr=R.request.id,ei=v0("session_request",Wr);if(this.events.listenerCount(ei)===0)throw new Error(`emitting ${ei} without any listeners`);this.events.emit(v0("session_request",R.request.id),{error:P})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===A.active){this.client.logger.info("session request queue is already active.");return}const i=this.sessionRequestQueue.queue[0];if(!i){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=A.active,this.client.events.emit("session_request",i)}catch(P){this.client.logger.error(P)}},this.onPairingCreated=i=>{if(i.methods&&this.expectedPairingMethodMap.set(i.topic,i.methods),i.active)return;const P=this.client.proposal.getAll().find(W=>W.pairingTopic===i.topic);P&&this.onSessionProposeRequest(i.topic,formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:P.requiredNamespaces,optionalNamespaces:P.optionalNamespaces,relays:P.relays,proposer:P.proposer,sessionProperties:P.sessionProperties},P.id))},this.isValidConnect=async i=>{if(!$u(i)){const{message:ni}=xe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(i)}`);throw new Error(ni)}const{pairingTopic:P,requiredNamespaces:W,optionalNamespaces:R,sessionProperties:Wr,relays:ei}=i;if(Pe(P)||await this.isValidPairingTopic(P),!Xu(ei,!0)){const{message:ni}=xe("MISSING_OR_INVALID",`connect() relays: ${ei}`);throw new Error(ni)}!Pe(W)&&Yr(W)!==0&&this.validateNamespaces(W,"requiredNamespaces"),!Pe(R)&&Yr(R)!==0&&this.validateNamespaces(R,"optionalNamespaces"),Pe(Wr)||this.validateSessionProps(Wr,"sessionProperties")},this.validateNamespaces=(i,P)=>{const W=Wu(i,"connect()",P);if(W)throw new Error(W.message)},this.isValidApprove=async i=>{if(!$u(i))throw new Error(xe("MISSING_OR_INVALID",`approve() params: ${i}`).message);const{id:P,namespaces:W,relayProtocol:R,sessionProperties:Wr}=i;this.checkRecentlyDeleted(P),await this.isValidProposalId(P);const ei=this.client.proposal.get(P),ni=So(W,"approve()");if(ni)throw new Error(ni.message);const Xr=Io(ei.requiredNamespaces,W,"approve()");if(Xr)throw new Error(Xr.message);if(!Gt$1(R,!0)){const{message:Zr}=xe("MISSING_OR_INVALID",`approve() relayProtocol: ${R}`);throw new Error(Zr)}Pe(Wr)||this.validateSessionProps(Wr,"sessionProperties")},this.isValidReject=async i=>{if(!$u(i)){const{message:R}=xe("MISSING_OR_INVALID",`reject() params: ${i}`);throw new Error(R)}const{id:P,reason:W}=i;if(this.checkRecentlyDeleted(P),await this.isValidProposalId(P),!th(W)){const{message:R}=xe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(W)}`);throw new Error(R)}},this.isValidSessionSettleRequest=i=>{if(!$u(i)){const{message:Xr}=xe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${i}`);throw new Error(Xr)}const{relay:P,controller:W,namespaces:R,expiry:Wr}=i;if(!No(P)){const{message:Xr}=xe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(Xr)}const ei=Vu(W,"onSessionSettleRequest()");if(ei)throw new Error(ei.message);const ni=So(R,"onSessionSettleRequest()");if(ni)throw new Error(ni.message);if(p0(Wr)){const{message:Xr}=xe("EXPIRED","onSessionSettleRequest()");throw new Error(Xr)}},this.isValidUpdate=async i=>{if(!$u(i)){const{message:ni}=xe("MISSING_OR_INVALID",`update() params: ${i}`);throw new Error(ni)}const{topic:P,namespaces:W}=i;this.checkRecentlyDeleted(P),await this.isValidSessionTopic(P);const R=this.client.session.get(P),Wr=So(W,"update()");if(Wr)throw new Error(Wr.message);const ei=Io(R.requiredNamespaces,W,"update()");if(ei)throw new Error(ei.message)},this.isValidExtend=async i=>{if(!$u(i)){const{message:W}=xe("MISSING_OR_INVALID",`extend() params: ${i}`);throw new Error(W)}const{topic:P}=i;this.checkRecentlyDeleted(P),await this.isValidSessionTopic(P)},this.isValidRequest=async i=>{if(!$u(i)){const{message:ni}=xe("MISSING_OR_INVALID",`request() params: ${i}`);throw new Error(ni)}const{topic:P,request:W,chainId:R,expiry:Wr}=i;this.checkRecentlyDeleted(P),await this.isValidSessionTopic(P);const{namespaces:ei}=this.client.session.get(P);if(!nh(ei,R)){const{message:ni}=xe("MISSING_OR_INVALID",`request() chainId: ${R}`);throw new Error(ni)}if(!eh(W)){const{message:ni}=xe("MISSING_OR_INVALID",`request() ${JSON.stringify(W)}`);throw new Error(ni)}if(!fh(ei,R,W.method)){const{message:ni}=xe("MISSING_OR_INVALID",`request() method: ${W.method}`);throw new Error(ni)}if(Wr&&!uh(Wr,re)){const{message:ni}=xe("MISSING_OR_INVALID",`request() expiry: ${Wr}. Expiry must be a number (in seconds) between ${re.min} and ${re.max}`);throw new Error(ni)}},this.isValidRespond=async i=>{var P;if(!$u(i)){const{message:Wr}=xe("MISSING_OR_INVALID",`respond() params: ${i}`);throw new Error(Wr)}const{topic:W,response:R}=i;try{await this.isValidSessionTopic(W)}catch(Wr){throw(P=i==null?void 0:i.response)!=null&&P.id&&this.cleanupAfterResponse(i),Wr}if(!rh(R)){const{message:Wr}=xe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(R)}`);throw new Error(Wr)}},this.isValidPing=async i=>{if(!$u(i)){const{message:W}=xe("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(W)}const{topic:P}=i;await this.isValidSessionOrPairingTopic(P)},this.isValidEmit=async i=>{if(!$u(i)){const{message:ei}=xe("MISSING_OR_INVALID",`emit() params: ${i}`);throw new Error(ei)}const{topic:P,event:W,chainId:R}=i;await this.isValidSessionTopic(P);const{namespaces:Wr}=this.client.session.get(P);if(!nh(Wr,R)){const{message:ei}=xe("MISSING_OR_INVALID",`emit() chainId: ${R}`);throw new Error(ei)}if(!ih(W)){const{message:ei}=xe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(W)}`);throw new Error(ei)}if(!oh(Wr,R,W.name)){const{message:ei}=xe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(W)}`);throw new Error(ei)}},this.isValidDisconnect=async i=>{if(!$u(i)){const{message:W}=xe("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(W)}const{topic:P}=i;await this.isValidSessionOrPairingTopic(P)},this.isValidAuthenticate=i=>{const{chains:P,uri:W,domain:R,nonce:Wr}=i;if(!Array.isArray(P)||P.length===0)throw new Error("chains is required and must be a non-empty array");if(!Gt$1(W,!1))throw new Error("uri is required parameter");if(!Gt$1(R,!1))throw new Error("domain is required parameter");if(!Gt$1(Wr,!1))throw new Error("nonce is required parameter");if([...new Set(P.map(ni=>dn(ni).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:ei}=dn(P[0]);if(ei!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async(i,P)=>{const W={verified:{verifyUrl:P.verifyUrl||k,validation:"UNKNOWN",origin:P.url||""}};try{const R=await this.client.core.verify.resolve({attestationId:i,verifyUrl:P.verifyUrl});R&&(W.verified.origin=R.origin,W.verified.isScam=R.isScam,W.verified.validation=R.origin===new URL(P.url).origin?"VALID":"INVALID")}catch(R){this.client.logger.info(R)}return this.client.logger.info(`Verify context: ${JSON.stringify(W)}`),W},this.validateSessionProps=(i,P)=>{Object.values(i).forEach(W=>{if(!Gt$1(W,!1)){const{message:R}=xe("MISSING_OR_INVALID",`${P} must be in Record<string, string> format. Received: ${JSON.stringify(W)}`);throw new Error(R)}})},this.getPendingAuthRequest=i=>{const P=this.client.auth.requests.get(i);return typeof P=="object"?P:void 0},this.addToRecentlyDeleted=(i,P)=>{if(this.recentlyDeletedMap.set(i,P),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let W=0;const R=this.recentlyDeletedLimit/2;for(const Wr of this.recentlyDeletedMap.keys()){if(W++>=R)break;this.recentlyDeletedMap.delete(Wr)}}},this.checkRecentlyDeleted=i=>{const P=this.recentlyDeletedMap.get(i);if(P){const{message:W}=xe("MISSING_OR_INVALID",`Record was recently deleted - ${P}: ${i}`);throw new Error(W)}}}async isInitialized(){if(!this.initialized){const{message:e}=xe("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(v$1.message,async e=>{const{topic:i,message:P}=e,{publicKey:W}=this.client.auth.authKeys.keys.includes(J)?this.client.auth.authKeys.get(J):{responseTopic:void 0,publicKey:void 0},R=await this.client.core.crypto.decode(i,P,{receiverPublicKey:W});try{isJsonRpcRequest(R)?(this.client.core.history.set(i,R),this.onRelayEventRequest({topic:i,payload:R})):isJsonRpcResponse(R)?(await this.client.core.history.resolve(R),await this.onRelayEventResponse({topic:i,payload:R}),this.client.core.history.delete(i,R.id)):this.onRelayEventUnknownPayload({topic:i,payload:R})}catch(Wr){this.client.logger.error(Wr)}})}registerExpirerEvents(){this.client.core.expirer.on(C$1.expired,async e=>{const{topic:i,id:P}=l0(e.target);if(P&&this.client.pendingRequest.keys.includes(P))return await this.deletePendingSessionRequest(P,xe("EXPIRED"),!0);i?this.client.session.keys.includes(i)&&(await this.deleteSession({topic:i,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:i})):P&&(await this.deleteProposal(P,!0),this.client.events.emit("proposal_expire",{id:P}))})}registerPairingEvents(){this.client.core.pairing.events.on(V.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(V.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Gt$1(e,!1)){const{message:i}=xe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(i)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:i}=xe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(i)}if(p0(this.client.core.pairing.pairings.get(e).expiry)){const{message:i}=xe("EXPIRED",`pairing topic: ${e}`);throw new Error(i)}}async isValidSessionTopic(e){if(!Gt$1(e,!1)){const{message:i}=xe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(i)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:i}=xe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(i)}if(p0(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:i}=xe("EXPIRED",`session topic: ${e}`);throw new Error(i)}if(!this.client.core.crypto.keychain.has(e)){const{message:i}=xe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(i)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Gt$1(e,!1)){const{message:i}=xe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(i)}else{const{message:i}=xe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(i)}}async isValidProposalId(e){if(!Zu(e)){const{message:i}=xe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(i)}if(!this.client.proposal.keys.includes(e)){const{message:i}=xe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(i)}if(p0(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:i}=xe("EXPIRED",`proposal id: ${e}`);throw new Error(i)}}}class Zt extends Vt{constructor(e,i){super(e,i,Ke,se),this.core=e,this.logger=i}}class We extends Vt{constructor(e,i){super(e,i,Ge,se),this.core=e,this.logger=i}}class es extends Vt{constructor(e,i){super(e,i,Fe,se,P=>P.id),this.core=e,this.logger=i}}class ts extends Vt{constructor(e,i){super(e,i,He,X,()=>J),this.core=e,this.logger=i}}class ss extends Vt{constructor(e,i){super(e,i,Ye,X),this.core=e,this.logger=i}}class is extends Vt{constructor(e,i){super(e,i,Xe,X,P=>P.id),this.core=e,this.logger=i}}class rs{constructor(e,i){this.core=e,this.logger=i,this.authKeys=new ts(this.core,this.logger),this.pairingTopics=new ss(this.core,this.logger),this.requests=new is(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class ne extends b$2{constructor(e){super(e),this.protocol=Se,this.version=Ee,this.name=ie.name,this.events=new eventsExports.EventEmitter,this.on=(P,W)=>this.events.on(P,W),this.once=(P,W)=>this.events.once(P,W),this.off=(P,W)=>this.events.off(P,W),this.removeListener=(P,W)=>this.events.removeListener(P,W),this.removeAllListeners=P=>this.events.removeAllListeners(P),this.connect=async P=>{try{return await this.engine.connect(P)}catch(W){throw this.logger.error(W.message),W}},this.pair=async P=>{try{return await this.engine.pair(P)}catch(W){throw this.logger.error(W.message),W}},this.approve=async P=>{try{return await this.engine.approve(P)}catch(W){throw this.logger.error(W.message),W}},this.reject=async P=>{try{return await this.engine.reject(P)}catch(W){throw this.logger.error(W.message),W}},this.update=async P=>{try{return await this.engine.update(P)}catch(W){throw this.logger.error(W.message),W}},this.extend=async P=>{try{return await this.engine.extend(P)}catch(W){throw this.logger.error(W.message),W}},this.request=async P=>{try{return await this.engine.request(P)}catch(W){throw this.logger.error(W.message),W}},this.respond=async P=>{try{return await this.engine.respond(P)}catch(W){throw this.logger.error(W.message),W}},this.ping=async P=>{try{return await this.engine.ping(P)}catch(W){throw this.logger.error(W.message),W}},this.emit=async P=>{try{return await this.engine.emit(P)}catch(W){throw this.logger.error(W.message),W}},this.disconnect=async P=>{try{return await this.engine.disconnect(P)}catch(W){throw this.logger.error(W.message),W}},this.find=P=>{try{return this.engine.find(P)}catch(W){throw this.logger.error(W.message),W}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(P){throw this.logger.error(P.message),P}},this.authenticate=async P=>{try{return await this.engine.authenticate(P)}catch(W){throw this.logger.error(W.message),W}},this.formatAuthMessage=P=>{try{return this.engine.formatAuthMessage(P)}catch(W){throw this.logger.error(W.message),W}},this.approveSessionAuthenticate=async P=>{try{return await this.engine.approveSessionAuthenticate(P)}catch(W){throw this.logger.error(W.message),W}},this.rejectSessionAuthenticate=async P=>{try{return await this.engine.rejectSessionAuthenticate(P)}catch(W){throw this.logger.error(W.message),W}},this.name=(e==null?void 0:e.name)||ie.name,this.metadata=(e==null?void 0:e.metadata)||Xo();const i=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Hg(E$2({level:(e==null?void 0:e.logger)||ie.logger}));this.core=(e==null?void 0:e.core)||new Br(e),this.logger=A$1(i,this.name),this.session=new We(this.core,this.logger),this.proposal=new Zt(this.core,this.logger),this.pendingRequest=new es(this.core,this.logger),this.engine=new Wt(this),this.auth=new rs(this.core,this.logger)}static async init(e){const i=new ne(e);return await i.initialize(),i}get context(){return y$2(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),await this.auth.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var browserPonyfill={exports:{}};(function(r,e){var i=typeof self<"u"?self:commonjsGlobal,P=function(){function R(){this.fetch=!1,this.DOMException=i.DOMException}return R.prototype=i,new R}();(function(R){(function(Wr){var ei={searchParams:"URLSearchParams"in R,iterable:"Symbol"in R&&"iterator"in Symbol,blob:"FileReader"in R&&"Blob"in R&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in R,arrayBuffer:"ArrayBuffer"in R};function ni(H){return H&&DataView.prototype.isPrototypeOf(H)}if(ei.arrayBuffer)var Xr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Zr=ArrayBuffer.isView||function(H){return H&&Xr.indexOf(Object.prototype.toString.call(H))>-1};function si(H){if(typeof H!="string"&&(H=String(H)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(H))throw new TypeError("Invalid character in header field name");return H.toLowerCase()}function oi(H){return typeof H!="string"&&(H=String(H)),H}function ai(H){var G={next:function(){var Ne=H.shift();return{done:Ne===void 0,value:Ne}}};return ei.iterable&&(G[Symbol.iterator]=function(){return G}),G}function fi(H){this.map={},H instanceof fi?H.forEach(function(G,Ne){this.append(Ne,G)},this):Array.isArray(H)?H.forEach(function(G){this.append(G[0],G[1])},this):H&&Object.getOwnPropertyNames(H).forEach(function(G){this.append(G,H[G])},this)}fi.prototype.append=function(H,G){H=si(H),G=oi(G);var Ne=this.map[H];this.map[H]=Ne?Ne+", "+G:G},fi.prototype.delete=function(H){delete this.map[si(H)]},fi.prototype.get=function(H){return H=si(H),this.has(H)?this.map[H]:null},fi.prototype.has=function(H){return this.map.hasOwnProperty(si(H))},fi.prototype.set=function(H,G){this.map[si(H)]=oi(G)},fi.prototype.forEach=function(H,G){for(var Ne in this.map)this.map.hasOwnProperty(Ne)&&H.call(G,this.map[Ne],Ne,this)},fi.prototype.keys=function(){var H=[];return this.forEach(function(G,Ne){H.push(Ne)}),ai(H)},fi.prototype.values=function(){var H=[];return this.forEach(function(G){H.push(G)}),ai(H)},fi.prototype.entries=function(){var H=[];return this.forEach(function(G,Ne){H.push([Ne,G])}),ai(H)},ei.iterable&&(fi.prototype[Symbol.iterator]=fi.prototype.entries);function ui(H){if(H.bodyUsed)return Promise.reject(new TypeError("Already read"));H.bodyUsed=!0}function sn(H){return new Promise(function(G,Ne){H.onload=function(){G(H.result)},H.onerror=function(){Ne(H.error)}})}function hn(H){var G=new FileReader,Ne=sn(G);return G.readAsArrayBuffer(H),Ne}function nn(H){var G=new FileReader,Ne=sn(G);return G.readAsText(H),Ne}function ln(H){for(var G=new Uint8Array(H),Ne=new Array(G.length),Le=0;Le<G.length;Le++)Ne[Le]=String.fromCharCode(G[Le]);return Ne.join("")}function on(H){if(H.slice)return H.slice(0);var G=new Uint8Array(H.byteLength);return G.set(new Uint8Array(H)),G.buffer}function vn(){return this.bodyUsed=!1,this._initBody=function(H){this._bodyInit=H,H?typeof H=="string"?this._bodyText=H:ei.blob&&Blob.prototype.isPrototypeOf(H)?this._bodyBlob=H:ei.formData&&FormData.prototype.isPrototypeOf(H)?this._bodyFormData=H:ei.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)?this._bodyText=H.toString():ei.arrayBuffer&&ei.blob&&ni(H)?(this._bodyArrayBuffer=on(H.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ei.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(H)||Zr(H))?this._bodyArrayBuffer=on(H):this._bodyText=H=Object.prototype.toString.call(H):this._bodyText="",this.headers.get("content-type")||(typeof H=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ei.searchParams&&URLSearchParams.prototype.isPrototypeOf(H)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ei.blob&&(this.blob=function(){var H=ui(this);if(H)return H;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ui(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(hn)}),this.text=function(){var H=ui(this);if(H)return H;if(this._bodyBlob)return nn(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ln(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ei.formData&&(this.formData=function(){return this.text().then(Bn)}),this.json=function(){return this.text().then(JSON.parse)},this}var Mn=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function mi(H){var G=H.toUpperCase();return Mn.indexOf(G)>-1?G:H}function mn(H,G){G=G||{};var Ne=G.body;if(H instanceof mn){if(H.bodyUsed)throw new TypeError("Already read");this.url=H.url,this.credentials=H.credentials,G.headers||(this.headers=new fi(H.headers)),this.method=H.method,this.mode=H.mode,this.signal=H.signal,!Ne&&H._bodyInit!=null&&(Ne=H._bodyInit,H.bodyUsed=!0)}else this.url=String(H);if(this.credentials=G.credentials||this.credentials||"same-origin",(G.headers||!this.headers)&&(this.headers=new fi(G.headers)),this.method=mi(G.method||this.method||"GET"),this.mode=G.mode||this.mode||null,this.signal=G.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Ne)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Ne)}mn.prototype.clone=function(){return new mn(this,{body:this._bodyInit})};function Bn(H){var G=new FormData;return H.trim().split("&").forEach(function(Ne){if(Ne){var Le=Ne.split("="),ti=Le.shift().replace(/\+/g," "),Ie=Le.join("=").replace(/\+/g," ");G.append(decodeURIComponent(ti),decodeURIComponent(Ie))}}),G}function ko(H){var G=new fi,Ne=H.replace(/\r?\n[\t ]+/g," ");return Ne.split(/\r?\n/).forEach(function(Le){var ti=Le.split(":"),Ie=ti.shift().trim();if(Ie){var s=ti.join(":").trim();G.append(Ie,s)}}),G}vn.call(mn.prototype);function ii(H,G){G||(G={}),this.type="default",this.status=G.status===void 0?200:G.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in G?G.statusText:"OK",this.headers=new fi(G.headers),this.url=G.url||"",this._initBody(H)}vn.call(ii.prototype),ii.prototype.clone=function(){return new ii(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new fi(this.headers),url:this.url})},ii.error=function(){var H=new ii(null,{status:0,statusText:""});return H.type="error",H};var t=[301,302,303,307,308];ii.redirect=function(H,G){if(t.indexOf(G)===-1)throw new RangeError("Invalid status code");return new ii(null,{status:G,headers:{location:H}})},Wr.DOMException=R.DOMException;try{new Wr.DOMException}catch{Wr.DOMException=function(G,Ne){this.message=G,this.name=Ne;var Le=Error(G);this.stack=Le.stack},Wr.DOMException.prototype=Object.create(Error.prototype),Wr.DOMException.prototype.constructor=Wr.DOMException}function o(H,G){return new Promise(function(Ne,Le){var ti=new mn(H,G);if(ti.signal&&ti.signal.aborted)return Le(new Wr.DOMException("Aborted","AbortError"));var Ie=new XMLHttpRequest;function s(){Ie.abort()}Ie.onload=function(){var Y={status:Ie.status,statusText:Ie.statusText,headers:ko(Ie.getAllResponseHeaders()||"")};Y.url="responseURL"in Ie?Ie.responseURL:Y.headers.get("X-Request-URL");var li="response"in Ie?Ie.response:Ie.responseText;Ne(new ii(li,Y))},Ie.onerror=function(){Le(new TypeError("Network request failed"))},Ie.ontimeout=function(){Le(new TypeError("Network request failed"))},Ie.onabort=function(){Le(new Wr.DOMException("Aborted","AbortError"))},Ie.open(ti.method,ti.url,!0),ti.credentials==="include"?Ie.withCredentials=!0:ti.credentials==="omit"&&(Ie.withCredentials=!1),"responseType"in Ie&&ei.blob&&(Ie.responseType="blob"),ti.headers.forEach(function(Y,li){Ie.setRequestHeader(li,Y)}),ti.signal&&(ti.signal.addEventListener("abort",s),Ie.onreadystatechange=function(){Ie.readyState===4&&ti.signal.removeEventListener("abort",s)}),Ie.send(typeof ti._bodyInit>"u"?null:ti._bodyInit)})}return o.polyfill=!0,R.fetch||(R.fetch=o,R.Headers=fi,R.Request=mn,R.Response=ii),Wr.Headers=fi,Wr.Request=mn,Wr.Response=ii,Wr.fetch=o,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr})({})})(P),P.fetch.ponyfill=!0,delete P.fetch.polyfill;var W=P;e=W.fetch,e.default=W.fetch,e.fetch=W.fetch,e.Headers=W.Headers,e.Request=W.Request,e.Response=W.Response,r.exports=e})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const fetch$1=getDefaultExportFromCjs(browserPonyfillExports),DEFAULT_HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"},DEFAULT_HTTP_METHOD="POST",DEFAULT_FETCH_OPTS={headers:DEFAULT_HTTP_HEADERS,method:DEFAULT_HTTP_METHOD},EVENT_EMITTER_MAX_LISTENERS_DEFAULT=10;class HttpConnection{constructor(e,i=!1){if(this.url=e,this.disableProviderPing=i,this.events=new eventsExports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=i}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}off(e,i){this.events.off(e,i)}removeListener(e,i){this.events.removeListener(e,i)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,i){this.isAvailable||await this.register();try{const P=safeJsonStringify(e),R=await(await fetch$1(this.url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:P}))).json();this.onPayload({data:R})}catch(P){this.onError(e.id,P)}}async register(e=this.url){if(!isHttpUrl(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((P,W)=>{this.events.once("register_error",R=>{this.resetMaxListeners(),W(R)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return W(new Error("HTTP connection is missing or invalid"));P()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const i=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await fetch$1(e,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:i}))}this.onOpen()}catch(i){const P=this.parseError(i);throw this.events.emit("register_error",P),this.onClose(),P}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const i=typeof e.data=="string"?safeJsonParse(e.data):e.data;this.events.emit("payload",i)}onError(e,i){const P=this.parseError(i),W=P.message||P.toString(),R=formatJsonRpcError(e,W);this.events.emit("payload",R)}parseError(e,i=this.url){return parseConnectionError(e,i,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>EVENT_EMITTER_MAX_LISTENERS_DEFAULT&&this.events.setMaxListeners(EVENT_EMITTER_MAX_LISTENERS_DEFAULT)}}const xa="error",Mg="wss://relay.walletconnect.com",qg="wc",Bg="universal_provider",Ea=`${qg}@2:${Bg}:`,Gg="https://rpc.walletconnect.com/v1/",Vn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ui={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(r,e){(function(){var i,P="4.17.21",W=200,R="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Wr="Expected a function",ei="Invalid `variable` option passed into `_.template`",ni="__lodash_hash_undefined__",Xr=500,Zr="__lodash_placeholder__",si=1,oi=2,ai=4,fi=1,ui=2,sn=1,hn=2,nn=4,ln=8,on=16,vn=32,Mn=64,mi=128,mn=256,Bn=512,ko=30,ii="...",t=800,o=16,H=1,G=2,Ne=3,Le=1/0,ti=9007199254740991,Ie=17976931348623157e292,s=NaN,Y=4294967295,li=Y-1,un=Y>>>1,pn=[["ary",mi],["bind",sn],["bindKey",hn],["curry",ln],["curryRight",on],["flip",Bn],["partial",vn],["partialRight",Mn],["rearg",mn]],di="[object Arguments]",An="[object Array]",$i="[object AsyncFunction]",fn="[object Boolean]",cn="[object Date]",ci="[object DOMException]",Rn="[object Error]",Zn="[object Function]",ho="[object GeneratorFunction]",qh="[object Map]",Lo="[object Number]",jo="[object Null]",jh="[object Object]",_h="[object Promise]",tf="[object Proxy]",zh="[object RegExp]",Ko="[object Set]",Uo="[object String]",Uh="[object Symbol]",Vo="[object Undefined]",qo="[object WeakMap]",Fh="[object WeakSet]",Zo="[object ArrayBuffer]",Fo="[object DataView]",Hh="[object Float32Array]",Vf="[object Float64Array]",Ho="[object Int8Array]",Kh="[object Int16Array]",yh="[object Int32Array]",Yo="[object Uint8Array]",Vh="[object Uint8ClampedArray]",Ih="[object Uint16Array]",wh="[object Uint32Array]",uu=/\b__p \+= '';/g,Dh=/\b(__p \+=) '' \+/g,Mh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qu=/&(?:amp|lt|gt|quot|#39);/g,Bh=/[&<>"']/g,Xf=RegExp(qu.source),Jh=RegExp(Bh.source),Eh=/<%-([\s\S]+?)%>/g,ph=/<%([\s\S]+?)%>/g,Qh=/<%=([\s\S]+?)%>/g,xh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mh=/^\w*$/,su=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ah=/[\\^$.*+?()[\]{}|]/g,gh=RegExp(Ah.source),Xh=/^\s+/,Sh=/\s/,vh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wh=/\{\n\/\* \[wrapped with (.+)\] \*/,Rh=/,? & /,bh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Uu=/[()=,{}\[\]\/\s]/,Ch=/\\(\\)?/g,$h=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,au=/\w*$/,f0=/^[-+]0x[0-9a-f]+$/i,$0=/^0b[01]+$/i,D0=/^\[object .+?Constructor\]$/,F0=/^0o[0-7]+$/i,tc=/^(?:0|[1-9]\d*)$/,Ku=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sc=/($^)/,uc=/['\n\r\u2028\u2029\\]/g,ac="\\ud800-\\udfff",cc="\\u0300-\\u036f",lc="\\ufe20-\\ufe2f",oc="\\u20d0-\\u20ff",fc=cc+lc+oc,hc="\\u2700-\\u27bf",r0="a-z\\xdf-\\xf6\\xf8-\\xff",dc="\\xac\\xb1\\xd7\\xf7",pc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vc="\\u2000-\\u206f",Fl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ld="A-Z\\xc0-\\xd6\\xd8-\\xde",Ud="\\ufe0e\\ufe0f",Hl=dc+pc+vc+Fl,wd="['’]",Kl="["+ac+"]",_d="["+Hl+"]",Vl="["+fc+"]",jd="\\d+",z1="["+hc+"]",zd="["+r0+"]",Fd="[^"+ac+Hl+jd+hc+r0+Ld+"]",id="\\ud83c[\\udffb-\\udfff]",F1="(?:"+Vl+"|"+id+")",Hd="[^"+ac+"]",nd="(?:\\ud83c[\\udde6-\\uddff]){2}",Pl="[\\ud800-\\udbff][\\udc00-\\udfff]",Yc="["+Ld+"]",Kd="\\u200d",Vd="(?:"+zd+"|"+Fd+")",bl="(?:"+Yc+"|"+Fd+")",Gd="(?:"+wd+"(?:d|ll|m|re|s|t|ve))?",Wd="(?:"+wd+"(?:D|LL|M|RE|S|T|VE))?",Jd=F1+"?",Zd="["+Ud+"]?",H1="(?:"+Kd+"(?:"+[Hd,nd,Pl].join("|")+")"+Zd+Jd+")*",xl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yd=Zd+Jd+H1,sd="(?:"+[z1,nd,Pl].join("|")+")"+Yd,K1="(?:"+[Hd+Vl+"?",Vl,nd,Pl,Kl].join("|")+")",Md=RegExp(wd,"g"),V1=RegExp(Vl,"g"),ad=RegExp(id+"(?="+id+")|"+K1+Yd,"g"),Xd=RegExp([Yc+"?"+zd+"+"+Gd+"(?="+[_d,Yc,"$"].join("|")+")",bl+"+"+Wd+"(?="+[_d,Yc+Vd,"$"].join("|")+")",Yc+"?"+Vd+"+"+Gd,Yc+"+"+Wd,Qd,xl,jd,sd].join("|"),"g"),e1=RegExp("["+Kd+ac+fc+Ud+"]"),Gl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,t1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],G1=-1,wc={};wc[Hh]=wc[Vf]=wc[Ho]=wc[Kh]=wc[yh]=wc[Yo]=wc[Vh]=wc[Ih]=wc[wh]=!0,wc[di]=wc[An]=wc[Zo]=wc[fn]=wc[Fo]=wc[cn]=wc[Rn]=wc[Zn]=wc[qh]=wc[Lo]=wc[jh]=wc[zh]=wc[Ko]=wc[Uo]=wc[qo]=!1;var yc={};yc[di]=yc[An]=yc[Zo]=yc[Fo]=yc[fn]=yc[cn]=yc[Hh]=yc[Vf]=yc[Ho]=yc[Kh]=yc[yh]=yc[qh]=yc[Lo]=yc[jh]=yc[zh]=yc[Ko]=yc[Uo]=yc[Uh]=yc[Yo]=yc[Vh]=yc[Ih]=yc[wh]=!0,yc[Rn]=yc[Zn]=yc[qo]=!1;var uo={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Lf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_c=parseFloat,Fu=parseInt,Ec=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Bc=typeof self=="object"&&self&&self.Object===Object&&self,ic=Ec||Bc||Function("return this")(),Mc=e&&!e.nodeType&&e,Ic=Mc&&!0&&r&&!r.nodeType&&r,Gc=Ic&&Ic.exports===Mc,Pc=Gc&&Ec.process,Ac=function(){try{var jf=Ic&&Ic.require&&Ic.require("util").types;return jf||Pc&&Pc.binding&&Pc.binding("util")}catch{}}(),zc=Ac&&Ac.isArrayBuffer,ll=Ac&&Ac.isDate,nl=Ac&&Ac.isMap,yl=Ac&&Ac.isRegExp,xd=Ac&&Ac.isSet,Wl=Ac&&Ac.isTypedArray;function Nc(jf,Oh,Ph){switch(Ph.length){case 0:return jf.call(Oh);case 1:return jf.call(Oh,Ph[0]);case 2:return jf.call(Oh,Ph[0],Ph[1]);case 3:return jf.call(Oh,Ph[0],Ph[1],Ph[2])}return jf.apply(Oh,Ph)}function ug(jf,Oh,Ph,Yh){for(var zu=-1,mc=jf==null?0:jf.length;++zu<mc;){var Cc=jf[zu];Oh(Yh,Cc,Ph(Cc),jf)}return Yh}function sl(jf,Oh){for(var Ph=-1,Yh=jf==null?0:jf.length;++Ph<Yh&&Oh(jf[Ph],Ph,jf)!==!1;);return jf}function cg(jf,Oh){for(var Ph=jf==null?0:jf.length;Ph--&&Oh(jf[Ph],Ph,jf)!==!1;);return jf}function Yp(jf,Oh){for(var Ph=-1,Yh=jf==null?0:jf.length;++Ph<Yh;)if(!Oh(jf[Ph],Ph,jf))return!1;return!0}function Cl(jf,Oh){for(var Ph=-1,Yh=jf==null?0:jf.length,zu=0,mc=[];++Ph<Yh;){var Cc=jf[Ph];Oh(Cc,Ph,jf)&&(mc[zu++]=Cc)}return mc}function r1(jf,Oh){var Ph=jf==null?0:jf.length;return!!Ph&&od(jf,Oh,0)>-1}function W1(jf,Oh,Ph){for(var Yh=-1,zu=jf==null?0:jf.length;++Yh<zu;)if(Ph(Oh,jf[Yh]))return!0;return!1}function Sc(jf,Oh){for(var Ph=-1,Yh=jf==null?0:jf.length,zu=Array(Yh);++Ph<Yh;)zu[Ph]=Oh(jf[Ph],Ph,jf);return zu}function Ol(jf,Oh){for(var Ph=-1,Yh=Oh.length,zu=jf.length;++Ph<Yh;)jf[zu+Ph]=Oh[Ph];return jf}function J1(jf,Oh,Ph,Yh){var zu=-1,mc=jf==null?0:jf.length;for(Yh&&mc&&(Ph=jf[++zu]);++zu<mc;)Ph=Oh(Ph,jf[zu],zu,jf);return Ph}function lg(jf,Oh,Ph,Yh){var zu=jf==null?0:jf.length;for(Yh&&zu&&(Ph=jf[--zu]);zu--;)Ph=Oh(Ph,jf[zu],zu,jf);return Ph}function Z1(jf,Oh){for(var Ph=-1,Yh=jf==null?0:jf.length;++Ph<Yh;)if(Oh(jf[Ph],Ph,jf))return!0;return!1}var dg=Q1("length");function pg(jf){return jf.split("")}function vg(jf){return jf.match(bh)||[]}function Xp(jf,Oh,Ph){var Yh;return Ph(jf,function(zu,mc,Cc){if(Oh(zu,mc,Cc))return Yh=mc,!1}),Yh}function i1(jf,Oh,Ph,Yh){for(var zu=jf.length,mc=Ph+(Yh?1:-1);Yh?mc--:++mc<zu;)if(Oh(jf[mc],mc,jf))return mc;return-1}function od(jf,Oh,Ph){return Oh===Oh?Rg(jf,Oh,Ph):i1(jf,lv,Ph)}function mg(jf,Oh,Ph,Yh){for(var zu=Ph-1,mc=jf.length;++zu<mc;)if(Yh(jf[zu],Oh))return zu;return-1}function lv(jf){return jf!==jf}function dv(jf,Oh){var Ph=jf==null?0:jf.length;return Ph?X1(jf,Oh)/Ph:s}function Q1(jf){return function(Oh){return Oh==null?i:Oh[jf]}}function Y1(jf){return function(Oh){return jf==null?i:jf[Oh]}}function pv(jf,Oh,Ph,Yh,zu){return zu(jf,function(mc,Cc,xc){Ph=Yh?(Yh=!1,mc):Oh(Ph,mc,Cc,xc)}),Ph}function gg(jf,Oh){var Ph=jf.length;for(jf.sort(Oh);Ph--;)jf[Ph]=jf[Ph].value;return jf}function X1(jf,Oh){for(var Ph,Yh=-1,zu=jf.length;++Yh<zu;){var mc=Oh(jf[Yh]);mc!==i&&(Ph=Ph===i?mc:Ph+mc)}return Ph}function ep(jf,Oh){for(var Ph=-1,Yh=Array(jf);++Ph<jf;)Yh[Ph]=Oh(Ph);return Yh}function bg(jf,Oh){return Sc(Oh,function(Ph){return[Ph,jf[Ph]]})}function vv(jf){return jf&&jf.slice(0,yv(jf)+1).replace(Xh,"")}function Xc(jf){return function(Oh){return jf(Oh)}}function tp(jf,Oh){return Sc(Oh,function(Ph){return jf[Ph]})}function Ed(jf,Oh){return jf.has(Oh)}function mv(jf,Oh){for(var Ph=-1,Yh=jf.length;++Ph<Yh&&od(Oh,jf[Ph],0)>-1;);return Ph}function gv(jf,Oh){for(var Ph=jf.length;Ph--&&od(Oh,jf[Ph],0)>-1;);return Ph}function yg(jf,Oh){for(var Ph=jf.length,Yh=0;Ph--;)jf[Ph]===Oh&&++Yh;return Yh}var wg=Y1(uo),_g=Y1(Lf);function xg(jf){return"\\"+Zh[jf]}function Eg(jf,Oh){return jf==null?i:jf[Oh]}function fd(jf){return e1.test(jf)}function Ag(jf){return Gl.test(jf)}function Sg(jf){for(var Oh,Ph=[];!(Oh=jf.next()).done;)Ph.push(Oh.value);return Ph}function rp(jf){var Oh=-1,Ph=Array(jf.size);return jf.forEach(function(Yh,zu){Ph[++Oh]=[zu,Yh]}),Ph}function bv(jf,Oh){return function(Ph){return jf(Oh(Ph))}}function Tl(jf,Oh){for(var Ph=-1,Yh=jf.length,zu=0,mc=[];++Ph<Yh;){var Cc=jf[Ph];(Cc===Oh||Cc===Zr)&&(jf[Ph]=Zr,mc[zu++]=Ph)}return mc}function n1(jf){var Oh=-1,Ph=Array(jf.size);return jf.forEach(function(Yh){Ph[++Oh]=Yh}),Ph}function $g(jf){var Oh=-1,Ph=Array(jf.size);return jf.forEach(function(Yh){Ph[++Oh]=[Yh,Yh]}),Ph}function Rg(jf,Oh,Ph){for(var Yh=Ph-1,zu=jf.length;++Yh<zu;)if(jf[Yh]===Oh)return Yh;return-1}function Ig(jf,Oh,Ph){for(var Yh=Ph+1;Yh--;)if(jf[Yh]===Oh)return Yh;return Yh}function hd(jf){return fd(jf)?Pg(jf):dg(jf)}function dl(jf){return fd(jf)?Cg(jf):pg(jf)}function yv(jf){for(var Oh=jf.length;Oh--&&Sh.test(jf.charAt(Oh)););return Oh}var Dg=Y1(kh);function Pg(jf){for(var Oh=ad.lastIndex=0;ad.test(jf);)++Oh;return Oh}function Cg(jf){return jf.match(ad)||[]}function Og(jf){return jf.match(Xd)||[]}var Tg=function jf(Oh){Oh=Oh==null?ic:ud.defaults(ic.Object(),Oh,ud.pick(ic,t1));var Ph=Oh.Array,Yh=Oh.Date,zu=Oh.Error,mc=Oh.Function,Cc=Oh.Math,xc=Oh.Object,ip=Oh.RegExp,Ng=Oh.String,al=Oh.TypeError,s1=Ph.prototype,Lg=mc.prototype,cd=xc.prototype,a1=Oh["__core-js_shared__"],o1=Lg.toString,bc=cd.hasOwnProperty,Ug=0,wv=function(){var Te=/[^.]+$/.exec(a1&&a1.keys&&a1.keys.IE_PROTO||"");return Te?"Symbol(src)_1."+Te:""}(),f1=cd.toString,Fg=o1.call(xc),e2=ic._,t2=ip("^"+o1.call(bc).replace(Ah,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h1=Gc?Oh.Buffer:i,Nl=Oh.Symbol,u1=Oh.Uint8Array,_v=h1?h1.allocUnsafe:i,c1=bv(xc.getPrototypeOf,xc),Mv=xc.create,xv=cd.propertyIsEnumerable,l1=s1.splice,Ev=Nl?Nl.isConcatSpreadable:i,Ad=Nl?Nl.iterator:i,Jl=Nl?Nl.toStringTag:i,d1=function(){try{var Te=ed(xc,"defineProperty");return Te({},"",{}),Te}catch{}}(),r2=Oh.clearTimeout!==ic.clearTimeout&&Oh.clearTimeout,i2=Yh&&Yh.now!==ic.Date.now&&Yh.now,n2=Oh.setTimeout!==ic.setTimeout&&Oh.setTimeout,p1=Cc.ceil,v1=Cc.floor,np=xc.getOwnPropertySymbols,s2=h1?h1.isBuffer:i,Av=Oh.isFinite,a2=s1.join,o2=bv(xc.keys,xc),Oc=Cc.max,Uc=Cc.min,f2=Yh.now,h2=Oh.parseInt,Sv=Cc.random,u2=s1.reverse,sp=ed(Oh,"DataView"),Sd=ed(Oh,"Map"),ap=ed(Oh,"Promise"),ld=ed(Oh,"Set"),$d=ed(Oh,"WeakMap"),Rd=ed(xc,"create"),m1=$d&&new $d,dd={},c2=td(sp),l2=td(Sd),d2=td(ap),p2=td(ld),v2=td($d),g1=Nl?Nl.prototype:i,Id=g1?g1.valueOf:i,$v=g1?g1.toString:i;function Cn(Te){if(Rc(Te)&&!Hu(Te)&&!(Te instanceof rc)){if(Te instanceof ol)return Te;if(bc.call(Te,"__wrapped__"))return Rm(Te)}return new ol(Te)}var pd=function(){function Te(){}return function(ri){if(!$c(ri))return{};if(Mv)return Mv(ri);Te.prototype=ri;var hi=new Te;return Te.prototype=i,hi}}();function b1(){}function ol(Te,ri){this.__wrapped__=Te,this.__actions__=[],this.__chain__=!!ri,this.__index__=0,this.__values__=i}Cn.templateSettings={escape:Eh,evaluate:ph,interpolate:Qh,variable:"",imports:{_:Cn}},Cn.prototype=b1.prototype,Cn.prototype.constructor=Cn,ol.prototype=pd(b1.prototype),ol.prototype.constructor=ol;function rc(Te){this.__wrapped__=Te,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Y,this.__views__=[]}function m2(){var Te=new rc(this.__wrapped__);return Te.__actions__=Wc(this.__actions__),Te.__dir__=this.__dir__,Te.__filtered__=this.__filtered__,Te.__iteratees__=Wc(this.__iteratees__),Te.__takeCount__=this.__takeCount__,Te.__views__=Wc(this.__views__),Te}function g2(){if(this.__filtered__){var Te=new rc(this);Te.__dir__=-1,Te.__filtered__=!0}else Te=this.clone(),Te.__dir__*=-1;return Te}function b2(){var Te=this.__wrapped__.value(),ri=this.__dir__,hi=Hu(Te),an=ri<0,gn=hi?Te.length:0,Ya=Db(0,gn,this.__views__),Do=Ya.start,To=Ya.end,Qf=To-Do,Th=an?To:Do-1,Nh=this.__iteratees__,Lh=Nh.length,Gh=0,hu=Uc(Qf,this.__takeCount__);if(!hi||!an&&gn==Qf&&hu==Qf)return Qv(Te,this.__actions__);var ku=[];e:for(;Qf--&&Gh<hu;){Th+=ri;for(var t0=-1,Lu=Te[Th];++t0<Lh;){var o0=Nh[t0],nc=o0.iteratee,rl=o0.type,Kc=nc(Lu);if(rl==G)Lu=Kc;else if(!Kc){if(rl==H)continue e;break e}}ku[Gh++]=Lu}return ku}rc.prototype=pd(b1.prototype),rc.prototype.constructor=rc;function Zl(Te){var ri=-1,hi=Te==null?0:Te.length;for(this.clear();++ri<hi;){var an=Te[ri];this.set(an[0],an[1])}}function y2(){this.__data__=Rd?Rd(null):{},this.size=0}function w2(Te){var ri=this.has(Te)&&delete this.__data__[Te];return this.size-=ri?1:0,ri}function _2(Te){var ri=this.__data__;if(Rd){var hi=ri[Te];return hi===ni?i:hi}return bc.call(ri,Te)?ri[Te]:i}function M2(Te){var ri=this.__data__;return Rd?ri[Te]!==i:bc.call(ri,Te)}function x2(Te,ri){var hi=this.__data__;return this.size+=this.has(Te)?0:1,hi[Te]=Rd&&ri===i?ni:ri,this}Zl.prototype.clear=y2,Zl.prototype.delete=w2,Zl.prototype.get=_2,Zl.prototype.has=M2,Zl.prototype.set=x2;function El(Te){var ri=-1,hi=Te==null?0:Te.length;for(this.clear();++ri<hi;){var an=Te[ri];this.set(an[0],an[1])}}function E2(){this.__data__=[],this.size=0}function A2(Te){var ri=this.__data__,hi=y1(ri,Te);if(hi<0)return!1;var an=ri.length-1;return hi==an?ri.pop():l1.call(ri,hi,1),--this.size,!0}function S2(Te){var ri=this.__data__,hi=y1(ri,Te);return hi<0?i:ri[hi][1]}function $2(Te){return y1(this.__data__,Te)>-1}function R2(Te,ri){var hi=this.__data__,an=y1(hi,Te);return an<0?(++this.size,hi.push([Te,ri])):hi[an][1]=ri,this}El.prototype.clear=E2,El.prototype.delete=A2,El.prototype.get=S2,El.prototype.has=$2,El.prototype.set=R2;function Al(Te){var ri=-1,hi=Te==null?0:Te.length;for(this.clear();++ri<hi;){var an=Te[ri];this.set(an[0],an[1])}}function I2(){this.size=0,this.__data__={hash:new Zl,map:new(Sd||El),string:new Zl}}function D2(Te){var ri=B1(this,Te).delete(Te);return this.size-=ri?1:0,ri}function q2(Te){return B1(this,Te).get(Te)}function B2(Te){return B1(this,Te).has(Te)}function P2(Te,ri){var hi=B1(this,Te),an=hi.size;return hi.set(Te,ri),this.size+=hi.size==an?0:1,this}Al.prototype.clear=I2,Al.prototype.delete=D2,Al.prototype.get=q2,Al.prototype.has=B2,Al.prototype.set=P2;function Ql(Te){var ri=-1,hi=Te==null?0:Te.length;for(this.__data__=new Al;++ri<hi;)this.add(Te[ri])}function C2(Te){return this.__data__.set(Te,ni),this}function O2(Te){return this.__data__.has(Te)}Ql.prototype.add=Ql.prototype.push=C2,Ql.prototype.has=O2;function pl(Te){var ri=this.__data__=new El(Te);this.size=ri.size}function T2(){this.__data__=new El,this.size=0}function N2(Te){var ri=this.__data__,hi=ri.delete(Te);return this.size=ri.size,hi}function k2(Te){return this.__data__.get(Te)}function L2(Te){return this.__data__.has(Te)}function U2(Te,ri){var hi=this.__data__;if(hi instanceof El){var an=hi.__data__;if(!Sd||an.length<W-1)return an.push([Te,ri]),this.size=++hi.size,this;hi=this.__data__=new Al(an)}return hi.set(Te,ri),this.size=hi.size,this}pl.prototype.clear=T2,pl.prototype.delete=N2,pl.prototype.get=k2,pl.prototype.has=L2,pl.prototype.set=U2;function Rv(Te,ri){var hi=Hu(Te),an=!hi&&rd(Te),gn=!hi&&!an&&zl(Te),Ya=!hi&&!an&&!gn&&bd(Te),Do=hi||an||gn||Ya,To=Do?ep(Te.length,Ng):[],Qf=To.length;for(var Th in Te)(ri||bc.call(Te,Th))&&!(Do&&(Th=="length"||gn&&(Th=="offset"||Th=="parent")||Ya&&(Th=="buffer"||Th=="byteLength"||Th=="byteOffset")||Il(Th,Qf)))&&To.push(Th);return To}function Iv(Te){var ri=Te.length;return ri?Te[gp(0,ri-1)]:i}function j2(Te,ri){return P1(Wc(Te),Yl(ri,0,Te.length))}function z2(Te){return P1(Wc(Te))}function op(Te,ri,hi){(hi!==i&&!vl(Te[ri],hi)||hi===i&&!(ri in Te))&&Sl(Te,ri,hi)}function Dd(Te,ri,hi){var an=Te[ri];(!(bc.call(Te,ri)&&vl(an,hi))||hi===i&&!(ri in Te))&&Sl(Te,ri,hi)}function y1(Te,ri){for(var hi=Te.length;hi--;)if(vl(Te[hi][0],ri))return hi;return-1}function F2(Te,ri,hi,an){return kl(Te,function(gn,Ya,Do){ri(an,gn,hi(gn),Do)}),an}function Dv(Te,ri){return Te&&_l(ri,kc(ri),Te)}function H2(Te,ri){return Te&&_l(ri,Zc(ri),Te)}function Sl(Te,ri,hi){ri=="__proto__"&&d1?d1(Te,ri,{configurable:!0,enumerable:!0,value:hi,writable:!0}):Te[ri]=hi}function fp(Te,ri){for(var hi=-1,an=ri.length,gn=Ph(an),Ya=Te==null;++hi<an;)gn[hi]=Ya?i:zp(Te,ri[hi]);return gn}function Yl(Te,ri,hi){return Te===Te&&(hi!==i&&(Te=Te<=hi?Te:hi),ri!==i&&(Te=Te>=ri?Te:ri)),Te}function fl(Te,ri,hi,an,gn,Ya){var Do,To=ri&si,Qf=ri&oi,Th=ri&ai;if(hi&&(Do=gn?hi(Te,an,gn,Ya):hi(Te)),Do!==i)return Do;if(!$c(Te))return Te;var Nh=Hu(Te);if(Nh){if(Do=Bb(Te),!To)return Wc(Te,Do)}else{var Lh=jc(Te),Gh=Lh==Zn||Lh==ho;if(zl(Te))return em(Te,To);if(Lh==jh||Lh==di||Gh&&!gn){if(Do=Qf||Gh?{}:ym(Te),!To)return Qf?_b(Te,H2(Do,Te)):wb(Te,Dv(Do,Te))}else{if(!yc[Lh])return gn?Te:{};Do=Pb(Te,Lh,To)}}Ya||(Ya=new pl);var hu=Ya.get(Te);if(hu)return hu;Ya.set(Te,Do),Wm(Te)?Te.forEach(function(Lu){Do.add(fl(Lu,ri,hi,Lu,Te,Ya))}):Vm(Te)&&Te.forEach(function(Lu,o0){Do.set(o0,fl(Lu,ri,hi,o0,Te,Ya))});var ku=Th?Qf?Rp:$p:Qf?Zc:kc,t0=Nh?i:ku(Te);return sl(t0||Te,function(Lu,o0){t0&&(o0=Lu,Lu=Te[o0]),Dd(Do,o0,fl(Lu,ri,hi,o0,Te,Ya))}),Do}function K2(Te){var ri=kc(Te);return function(hi){return qv(hi,Te,ri)}}function qv(Te,ri,hi){var an=hi.length;if(Te==null)return!an;for(Te=xc(Te);an--;){var gn=hi[an],Ya=ri[gn],Do=Te[gn];if(Do===i&&!(gn in Te)||!Ya(Do))return!1}return!0}function Bv(Te,ri,hi){if(typeof Te!="function")throw new al(Wr);return Nd(function(){Te.apply(i,hi)},ri)}function qd(Te,ri,hi,an){var gn=-1,Ya=r1,Do=!0,To=Te.length,Qf=[],Th=ri.length;if(!To)return Qf;hi&&(ri=Sc(ri,Xc(hi))),an?(Ya=W1,Do=!1):ri.length>=W&&(Ya=Ed,Do=!1,ri=new Ql(ri));e:for(;++gn<To;){var Nh=Te[gn],Lh=hi==null?Nh:hi(Nh);if(Nh=an||Nh!==0?Nh:0,Do&&Lh===Lh){for(var Gh=Th;Gh--;)if(ri[Gh]===Lh)continue e;Qf.push(Nh)}else Ya(ri,Lh,an)||Qf.push(Nh)}return Qf}var kl=sm(wl),Pv=sm(up,!0);function V2(Te,ri){var hi=!0;return kl(Te,function(an,gn,Ya){return hi=!!ri(an,gn,Ya),hi}),hi}function w1(Te,ri,hi){for(var an=-1,gn=Te.length;++an<gn;){var Ya=Te[an],Do=ri(Ya);if(Do!=null&&(To===i?Do===Do&&!tl(Do):hi(Do,To)))var To=Do,Qf=Ya}return Qf}function G2(Te,ri,hi,an){var gn=Te.length;for(hi=e0(hi),hi<0&&(hi=-hi>gn?0:gn+hi),an=an===i||an>gn?gn:e0(an),an<0&&(an+=gn),an=hi>an?0:Zm(an);hi<an;)Te[hi++]=ri;return Te}function Cv(Te,ri){var hi=[];return kl(Te,function(an,gn,Ya){ri(an,gn,Ya)&&hi.push(an)}),hi}function Lc(Te,ri,hi,an,gn){var Ya=-1,Do=Te.length;for(hi||(hi=Ob),gn||(gn=[]);++Ya<Do;){var To=Te[Ya];ri>0&&hi(To)?ri>1?Lc(To,ri-1,hi,an,gn):Ol(gn,To):an||(gn[gn.length]=To)}return gn}var hp=am(),Ov=am(!0);function wl(Te,ri){return Te&&hp(Te,ri,kc)}function up(Te,ri){return Te&&Ov(Te,ri,kc)}function M1(Te,ri){return Cl(ri,function(hi){return Dl(Te[hi])})}function Xl(Te,ri){ri=Ul(ri,Te);for(var hi=0,an=ri.length;Te!=null&&hi<an;)Te=Te[Ml(ri[hi++])];return hi&&hi==an?Te:i}function Tv(Te,ri,hi){var an=ri(Te);return Hu(Te)?an:Ol(an,hi(Te))}function Fc(Te){return Te==null?Te===i?Vo:jo:Jl&&Jl in xc(Te)?Ib(Te):zb(Te)}function cp(Te,ri){return Te>ri}function W2(Te,ri){return Te!=null&&bc.call(Te,ri)}function J2(Te,ri){return Te!=null&&ri in xc(Te)}function Z2(Te,ri,hi){return Te>=Uc(ri,hi)&&Te<Oc(ri,hi)}function lp(Te,ri,hi){for(var an=hi?W1:r1,gn=Te[0].length,Ya=Te.length,Do=Ya,To=Ph(Ya),Qf=1/0,Th=[];Do--;){var Nh=Te[Do];Do&&ri&&(Nh=Sc(Nh,Xc(ri))),Qf=Uc(Nh.length,Qf),To[Do]=!hi&&(ri||gn>=120&&Nh.length>=120)?new Ql(Do&&Nh):i}Nh=Te[0];var Lh=-1,Gh=To[0];e:for(;++Lh<gn&&Th.length<Qf;){var hu=Nh[Lh],ku=ri?ri(hu):hu;if(hu=hi||hu!==0?hu:0,!(Gh?Ed(Gh,ku):an(Th,ku,hi))){for(Do=Ya;--Do;){var t0=To[Do];if(!(t0?Ed(t0,ku):an(Te[Do],ku,hi)))continue e}Gh&&Gh.push(ku),Th.push(hu)}}return Th}function Q2(Te,ri,hi,an){return wl(Te,function(gn,Ya,Do){ri(an,hi(gn),Ya,Do)}),an}function Bd(Te,ri,hi){ri=Ul(ri,Te),Te=xm(Te,ri);var an=Te==null?Te:Te[Ml(ul(ri))];return an==null?i:Nc(an,Te,hi)}function Nv(Te){return Rc(Te)&&Fc(Te)==di}function Y2(Te){return Rc(Te)&&Fc(Te)==Zo}function X2(Te){return Rc(Te)&&Fc(Te)==cn}function Pd(Te,ri,hi,an,gn){return Te===ri?!0:Te==null||ri==null||!Rc(Te)&&!Rc(ri)?Te!==Te&&ri!==ri:eb(Te,ri,hi,an,Pd,gn)}function eb(Te,ri,hi,an,gn,Ya){var Do=Hu(Te),To=Hu(ri),Qf=Do?An:jc(Te),Th=To?An:jc(ri);Qf=Qf==di?jh:Qf,Th=Th==di?jh:Th;var Nh=Qf==jh,Lh=Th==jh,Gh=Qf==Th;if(Gh&&zl(Te)){if(!zl(ri))return!1;Do=!0,Nh=!1}if(Gh&&!Nh)return Ya||(Ya=new pl),Do||bd(Te)?mm(Te,ri,hi,an,gn,Ya):$b(Te,ri,Qf,hi,an,gn,Ya);if(!(hi&fi)){var hu=Nh&&bc.call(Te,"__wrapped__"),ku=Lh&&bc.call(ri,"__wrapped__");if(hu||ku){var t0=hu?Te.value():Te,Lu=ku?ri.value():ri;return Ya||(Ya=new pl),gn(t0,Lu,hi,an,Ya)}}return Gh?(Ya||(Ya=new pl),Rb(Te,ri,hi,an,gn,Ya)):!1}function tb(Te){return Rc(Te)&&jc(Te)==qh}function dp(Te,ri,hi,an){var gn=hi.length,Ya=gn,Do=!an;if(Te==null)return!Ya;for(Te=xc(Te);gn--;){var To=hi[gn];if(Do&&To[2]?To[1]!==Te[To[0]]:!(To[0]in Te))return!1}for(;++gn<Ya;){To=hi[gn];var Qf=To[0],Th=Te[Qf],Nh=To[1];if(Do&&To[2]){if(Th===i&&!(Qf in Te))return!1}else{var Lh=new pl;if(an)var Gh=an(Th,Nh,Qf,Te,ri,Lh);if(!(Gh===i?Pd(Nh,Th,fi|ui,an,Lh):Gh))return!1}}return!0}function kv(Te){if(!$c(Te)||Nb(Te))return!1;var ri=Dl(Te)?t2:D0;return ri.test(td(Te))}function rb(Te){return Rc(Te)&&Fc(Te)==zh}function ib(Te){return Rc(Te)&&jc(Te)==Ko}function nb(Te){return Rc(Te)&&L1(Te.length)&&!!wc[Fc(Te)]}function Lv(Te){return typeof Te=="function"?Te:Te==null?Qc:typeof Te=="object"?Hu(Te)?zv(Te[0],Te[1]):jv(Te):og(Te)}function pp(Te){if(!Td(Te))return o2(Te);var ri=[];for(var hi in xc(Te))bc.call(Te,hi)&&hi!="constructor"&&ri.push(hi);return ri}function sb(Te){if(!$c(Te))return jb(Te);var ri=Td(Te),hi=[];for(var an in Te)an=="constructor"&&(ri||!bc.call(Te,an))||hi.push(an);return hi}function vp(Te,ri){return Te<ri}function Uv(Te,ri){var hi=-1,an=Jc(Te)?Ph(Te.length):[];return kl(Te,function(gn,Ya,Do){an[++hi]=ri(gn,Ya,Do)}),an}function jv(Te){var ri=Dp(Te);return ri.length==1&&ri[0][2]?_m(ri[0][0],ri[0][1]):function(hi){return hi===Te||dp(hi,Te,ri)}}function zv(Te,ri){return Bp(Te)&&wm(ri)?_m(Ml(Te),ri):function(hi){var an=zp(hi,Te);return an===i&&an===ri?Fp(hi,Te):Pd(ri,an,fi|ui)}}function x1(Te,ri,hi,an,gn){Te!==ri&&hp(ri,function(Ya,Do){if(gn||(gn=new pl),$c(Ya))ab(Te,ri,Do,hi,x1,an,gn);else{var To=an?an(Cp(Te,Do),Ya,Do+"",Te,ri,gn):i;To===i&&(To=Ya),op(Te,Do,To)}},Zc)}function ab(Te,ri,hi,an,gn,Ya,Do){var To=Cp(Te,hi),Qf=Cp(ri,hi),Th=Do.get(Qf);if(Th){op(Te,hi,Th);return}var Nh=Ya?Ya(To,Qf,hi+"",Te,ri,Do):i,Lh=Nh===i;if(Lh){var Gh=Hu(Qf),hu=!Gh&&zl(Qf),ku=!Gh&&!hu&&bd(Qf);Nh=Qf,Gh||hu||ku?Hu(To)?Nh=To:Dc(To)?Nh=Wc(To):hu?(Lh=!1,Nh=em(Qf,!0)):ku?(Lh=!1,Nh=tm(Qf,!0)):Nh=[]:kd(Qf)||rd(Qf)?(Nh=To,rd(To)?Nh=Qm(To):(!$c(To)||Dl(To))&&(Nh=ym(Qf))):Lh=!1}Lh&&(Do.set(Qf,Nh),gn(Nh,Qf,an,Ya,Do),Do.delete(Qf)),op(Te,hi,Nh)}function Fv(Te,ri){var hi=Te.length;if(hi)return ri+=ri<0?hi:0,Il(ri,hi)?Te[ri]:i}function Hv(Te,ri,hi){ri.length?ri=Sc(ri,function(Ya){return Hu(Ya)?function(Do){return Xl(Do,Ya.length===1?Ya[0]:Ya)}:Ya}):ri=[Qc];var an=-1;ri=Sc(ri,Xc(Tu()));var gn=Uv(Te,function(Ya,Do,To){var Qf=Sc(ri,function(Th){return Th(Ya)});return{criteria:Qf,index:++an,value:Ya}});return gg(gn,function(Ya,Do){return yb(Ya,Do,hi)})}function ob(Te,ri){return Kv(Te,ri,function(hi,an){return Fp(Te,an)})}function Kv(Te,ri,hi){for(var an=-1,gn=ri.length,Ya={};++an<gn;){var Do=ri[an],To=Xl(Te,Do);hi(To,Do)&&Cd(Ya,Ul(Do,Te),To)}return Ya}function fb(Te){return function(ri){return Xl(ri,Te)}}function mp(Te,ri,hi,an){var gn=an?mg:od,Ya=-1,Do=ri.length,To=Te;for(Te===ri&&(ri=Wc(ri)),hi&&(To=Sc(Te,Xc(hi)));++Ya<Do;)for(var Qf=0,Th=ri[Ya],Nh=hi?hi(Th):Th;(Qf=gn(To,Nh,Qf,an))>-1;)To!==Te&&l1.call(To,Qf,1),l1.call(Te,Qf,1);return Te}function Vv(Te,ri){for(var hi=Te?ri.length:0,an=hi-1;hi--;){var gn=ri[hi];if(hi==an||gn!==Ya){var Ya=gn;Il(gn)?l1.call(Te,gn,1):wp(Te,gn)}}return Te}function gp(Te,ri){return Te+v1(Sv()*(ri-Te+1))}function hb(Te,ri,hi,an){for(var gn=-1,Ya=Oc(p1((ri-Te)/(hi||1)),0),Do=Ph(Ya);Ya--;)Do[an?Ya:++gn]=Te,Te+=hi;return Do}function bp(Te,ri){var hi="";if(!Te||ri<1||ri>ti)return hi;do ri%2&&(hi+=Te),ri=v1(ri/2),ri&&(Te+=Te);while(ri);return hi}function s0(Te,ri){return Op(Mm(Te,ri,Qc),Te+"")}function ub(Te){return Iv(yd(Te))}function cb(Te,ri){var hi=yd(Te);return P1(hi,Yl(ri,0,hi.length))}function Cd(Te,ri,hi,an){if(!$c(Te))return Te;ri=Ul(ri,Te);for(var gn=-1,Ya=ri.length,Do=Ya-1,To=Te;To!=null&&++gn<Ya;){var Qf=Ml(ri[gn]),Th=hi;if(Qf==="__proto__"||Qf==="constructor"||Qf==="prototype")return Te;if(gn!=Do){var Nh=To[Qf];Th=an?an(Nh,Qf,To):i,Th===i&&(Th=$c(Nh)?Nh:Il(ri[gn+1])?[]:{})}Dd(To,Qf,Th),To=To[Qf]}return Te}var Gv=m1?function(Te,ri){return m1.set(Te,ri),Te}:Qc,lb=d1?function(Te,ri){return d1(Te,"toString",{configurable:!0,enumerable:!1,value:Kp(ri),writable:!0})}:Qc;function db(Te){return P1(yd(Te))}function hl(Te,ri,hi){var an=-1,gn=Te.length;ri<0&&(ri=-ri>gn?0:gn+ri),hi=hi>gn?gn:hi,hi<0&&(hi+=gn),gn=ri>hi?0:hi-ri>>>0,ri>>>=0;for(var Ya=Ph(gn);++an<gn;)Ya[an]=Te[an+ri];return Ya}function pb(Te,ri){var hi;return kl(Te,function(an,gn,Ya){return hi=ri(an,gn,Ya),!hi}),!!hi}function E1(Te,ri,hi){var an=0,gn=Te==null?an:Te.length;if(typeof ri=="number"&&ri===ri&&gn<=un){for(;an<gn;){var Ya=an+gn>>>1,Do=Te[Ya];Do!==null&&!tl(Do)&&(hi?Do<=ri:Do<ri)?an=Ya+1:gn=Ya}return gn}return yp(Te,ri,Qc,hi)}function yp(Te,ri,hi,an){var gn=0,Ya=Te==null?0:Te.length;if(Ya===0)return 0;ri=hi(ri);for(var Do=ri!==ri,To=ri===null,Qf=tl(ri),Th=ri===i;gn<Ya;){var Nh=v1((gn+Ya)/2),Lh=hi(Te[Nh]),Gh=Lh!==i,hu=Lh===null,ku=Lh===Lh,t0=tl(Lh);if(Do)var Lu=an||ku;else Th?Lu=ku&&(an||Gh):To?Lu=ku&&Gh&&(an||!hu):Qf?Lu=ku&&Gh&&!hu&&(an||!t0):hu||t0?Lu=!1:Lu=an?Lh<=ri:Lh<ri;Lu?gn=Nh+1:Ya=Nh}return Uc(Ya,li)}function Wv(Te,ri){for(var hi=-1,an=Te.length,gn=0,Ya=[];++hi<an;){var Do=Te[hi],To=ri?ri(Do):Do;if(!hi||!vl(To,Qf)){var Qf=To;Ya[gn++]=Do===0?0:Do}}return Ya}function Jv(Te){return typeof Te=="number"?Te:tl(Te)?s:+Te}function el(Te){if(typeof Te=="string")return Te;if(Hu(Te))return Sc(Te,el)+"";if(tl(Te))return $v?$v.call(Te):"";var ri=Te+"";return ri=="0"&&1/Te==-Le?"-0":ri}function Ll(Te,ri,hi){var an=-1,gn=r1,Ya=Te.length,Do=!0,To=[],Qf=To;if(hi)Do=!1,gn=W1;else if(Ya>=W){var Th=ri?null:Ab(Te);if(Th)return n1(Th);Do=!1,gn=Ed,Qf=new Ql}else Qf=ri?[]:To;e:for(;++an<Ya;){var Nh=Te[an],Lh=ri?ri(Nh):Nh;if(Nh=hi||Nh!==0?Nh:0,Do&&Lh===Lh){for(var Gh=Qf.length;Gh--;)if(Qf[Gh]===Lh)continue e;ri&&Qf.push(Lh),To.push(Nh)}else gn(Qf,Lh,hi)||(Qf!==To&&Qf.push(Lh),To.push(Nh))}return To}function wp(Te,ri){return ri=Ul(ri,Te),Te=xm(Te,ri),Te==null||delete Te[Ml(ul(ri))]}function Zv(Te,ri,hi,an){return Cd(Te,ri,hi(Xl(Te,ri)),an)}function A1(Te,ri,hi,an){for(var gn=Te.length,Ya=an?gn:-1;(an?Ya--:++Ya<gn)&&ri(Te[Ya],Ya,Te););return hi?hl(Te,an?0:Ya,an?Ya+1:gn):hl(Te,an?Ya+1:0,an?gn:Ya)}function Qv(Te,ri){var hi=Te;return hi instanceof rc&&(hi=hi.value()),J1(ri,function(an,gn){return gn.func.apply(gn.thisArg,Ol([an],gn.args))},hi)}function _p(Te,ri,hi){var an=Te.length;if(an<2)return an?Ll(Te[0]):[];for(var gn=-1,Ya=Ph(an);++gn<an;)for(var Do=Te[gn],To=-1;++To<an;)To!=gn&&(Ya[gn]=qd(Ya[gn]||Do,Te[To],ri,hi));return Ll(Lc(Ya,1),ri,hi)}function Yv(Te,ri,hi){for(var an=-1,gn=Te.length,Ya=ri.length,Do={};++an<gn;){var To=an<Ya?ri[an]:i;hi(Do,Te[an],To)}return Do}function Mp(Te){return Dc(Te)?Te:[]}function xp(Te){return typeof Te=="function"?Te:Qc}function Ul(Te,ri){return Hu(Te)?Te:Bp(Te,ri)?[Te]:$m(gc(Te))}var vb=s0;function jl(Te,ri,hi){var an=Te.length;return hi=hi===i?an:hi,!ri&&hi>=an?Te:hl(Te,ri,hi)}var Xv=r2||function(Te){return ic.clearTimeout(Te)};function em(Te,ri){if(ri)return Te.slice();var hi=Te.length,an=_v?_v(hi):new Te.constructor(hi);return Te.copy(an),an}function Ep(Te){var ri=new Te.constructor(Te.byteLength);return new u1(ri).set(new u1(Te)),ri}function mb(Te,ri){var hi=ri?Ep(Te.buffer):Te.buffer;return new Te.constructor(hi,Te.byteOffset,Te.byteLength)}function gb(Te){var ri=new Te.constructor(Te.source,au.exec(Te));return ri.lastIndex=Te.lastIndex,ri}function bb(Te){return Id?xc(Id.call(Te)):{}}function tm(Te,ri){var hi=ri?Ep(Te.buffer):Te.buffer;return new Te.constructor(hi,Te.byteOffset,Te.length)}function rm(Te,ri){if(Te!==ri){var hi=Te!==i,an=Te===null,gn=Te===Te,Ya=tl(Te),Do=ri!==i,To=ri===null,Qf=ri===ri,Th=tl(ri);if(!To&&!Th&&!Ya&&Te>ri||Ya&&Do&&Qf&&!To&&!Th||an&&Do&&Qf||!hi&&Qf||!gn)return 1;if(!an&&!Ya&&!Th&&Te<ri||Th&&hi&&gn&&!an&&!Ya||To&&hi&&gn||!Do&&gn||!Qf)return-1}return 0}function yb(Te,ri,hi){for(var an=-1,gn=Te.criteria,Ya=ri.criteria,Do=gn.length,To=hi.length;++an<Do;){var Qf=rm(gn[an],Ya[an]);if(Qf){if(an>=To)return Qf;var Th=hi[an];return Qf*(Th=="desc"?-1:1)}}return Te.index-ri.index}function im(Te,ri,hi,an){for(var gn=-1,Ya=Te.length,Do=hi.length,To=-1,Qf=ri.length,Th=Oc(Ya-Do,0),Nh=Ph(Qf+Th),Lh=!an;++To<Qf;)Nh[To]=ri[To];for(;++gn<Do;)(Lh||gn<Ya)&&(Nh[hi[gn]]=Te[gn]);for(;Th--;)Nh[To++]=Te[gn++];return Nh}function nm(Te,ri,hi,an){for(var gn=-1,Ya=Te.length,Do=-1,To=hi.length,Qf=-1,Th=ri.length,Nh=Oc(Ya-To,0),Lh=Ph(Nh+Th),Gh=!an;++gn<Nh;)Lh[gn]=Te[gn];for(var hu=gn;++Qf<Th;)Lh[hu+Qf]=ri[Qf];for(;++Do<To;)(Gh||gn<Ya)&&(Lh[hu+hi[Do]]=Te[gn++]);return Lh}function Wc(Te,ri){var hi=-1,an=Te.length;for(ri||(ri=Ph(an));++hi<an;)ri[hi]=Te[hi];return ri}function _l(Te,ri,hi,an){var gn=!hi;hi||(hi={});for(var Ya=-1,Do=ri.length;++Ya<Do;){var To=ri[Ya],Qf=an?an(hi[To],Te[To],To,hi,Te):i;Qf===i&&(Qf=Te[To]),gn?Sl(hi,To,Qf):Dd(hi,To,Qf)}return hi}function wb(Te,ri){return _l(Te,qp(Te),ri)}function _b(Te,ri){return _l(Te,gm(Te),ri)}function S1(Te,ri){return function(hi,an){var gn=Hu(hi)?ug:F2,Ya=ri?ri():{};return gn(hi,Te,Tu(an,2),Ya)}}function vd(Te){return s0(function(ri,hi){var an=-1,gn=hi.length,Ya=gn>1?hi[gn-1]:i,Do=gn>2?hi[2]:i;for(Ya=Te.length>3&&typeof Ya=="function"?(gn--,Ya):i,Do&&Hc(hi[0],hi[1],Do)&&(Ya=gn<3?i:Ya,gn=1),ri=xc(ri);++an<gn;){var To=hi[an];To&&Te(ri,To,an,Ya)}return ri})}function sm(Te,ri){return function(hi,an){if(hi==null)return hi;if(!Jc(hi))return Te(hi,an);for(var gn=hi.length,Ya=ri?gn:-1,Do=xc(hi);(ri?Ya--:++Ya<gn)&&an(Do[Ya],Ya,Do)!==!1;);return hi}}function am(Te){return function(ri,hi,an){for(var gn=-1,Ya=xc(ri),Do=an(ri),To=Do.length;To--;){var Qf=Do[Te?To:++gn];if(hi(Ya[Qf],Qf,Ya)===!1)break}return ri}}function Mb(Te,ri,hi){var an=ri&sn,gn=Od(Te);function Ya(){var Do=this&&this!==ic&&this instanceof Ya?gn:Te;return Do.apply(an?hi:this,arguments)}return Ya}function om(Te){return function(ri){ri=gc(ri);var hi=fd(ri)?dl(ri):i,an=hi?hi[0]:ri.charAt(0),gn=hi?jl(hi,1).join(""):ri.slice(1);return an[Te]()+gn}}function md(Te){return function(ri){return J1(sg(ng(ri).replace(Md,"")),Te,"")}}function Od(Te){return function(){var ri=arguments;switch(ri.length){case 0:return new Te;case 1:return new Te(ri[0]);case 2:return new Te(ri[0],ri[1]);case 3:return new Te(ri[0],ri[1],ri[2]);case 4:return new Te(ri[0],ri[1],ri[2],ri[3]);case 5:return new Te(ri[0],ri[1],ri[2],ri[3],ri[4]);case 6:return new Te(ri[0],ri[1],ri[2],ri[3],ri[4],ri[5]);case 7:return new Te(ri[0],ri[1],ri[2],ri[3],ri[4],ri[5],ri[6])}var hi=pd(Te.prototype),an=Te.apply(hi,ri);return $c(an)?an:hi}}function xb(Te,ri,hi){var an=Od(Te);function gn(){for(var Ya=arguments.length,Do=Ph(Ya),To=Ya,Qf=gd(gn);To--;)Do[To]=arguments[To];var Th=Ya<3&&Do[0]!==Qf&&Do[Ya-1]!==Qf?[]:Tl(Do,Qf);if(Ya-=Th.length,Ya<hi)return lm(Te,ri,$1,gn.placeholder,i,Do,Th,i,i,hi-Ya);var Nh=this&&this!==ic&&this instanceof gn?an:Te;return Nc(Nh,this,Do)}return gn}function fm(Te){return function(ri,hi,an){var gn=xc(ri);if(!Jc(ri)){var Ya=Tu(hi,3);ri=kc(ri),hi=function(To){return Ya(gn[To],To,gn)}}var Do=Te(ri,hi,an);return Do>-1?gn[Ya?ri[Do]:Do]:i}}function hm(Te){return Rl(function(ri){var hi=ri.length,an=hi,gn=ol.prototype.thru;for(Te&&ri.reverse();an--;){var Ya=ri[an];if(typeof Ya!="function")throw new al(Wr);if(gn&&!Do&&q1(Ya)=="wrapper")var Do=new ol([],!0)}for(an=Do?an:hi;++an<hi;){Ya=ri[an];var To=q1(Ya),Qf=To=="wrapper"?Ip(Ya):i;Qf&&Pp(Qf[0])&&Qf[1]==(mi|ln|vn|mn)&&!Qf[4].length&&Qf[9]==1?Do=Do[q1(Qf[0])].apply(Do,Qf[3]):Do=Ya.length==1&&Pp(Ya)?Do[To]():Do.thru(Ya)}return function(){var Th=arguments,Nh=Th[0];if(Do&&Th.length==1&&Hu(Nh))return Do.plant(Nh).value();for(var Lh=0,Gh=hi?ri[Lh].apply(this,Th):Nh;++Lh<hi;)Gh=ri[Lh].call(this,Gh);return Gh}})}function $1(Te,ri,hi,an,gn,Ya,Do,To,Qf,Th){var Nh=ri&mi,Lh=ri&sn,Gh=ri&hn,hu=ri&(ln|on),ku=ri&Bn,t0=Gh?i:Od(Te);function Lu(){for(var o0=arguments.length,nc=Ph(o0),rl=o0;rl--;)nc[rl]=arguments[rl];if(hu)var Kc=gd(Lu),il=yg(nc,Kc);if(an&&(nc=im(nc,an,gn,hu)),Ya&&(nc=nm(nc,Ya,Do,hu)),o0-=il,hu&&o0<Th){var qc=Tl(nc,Kc);return lm(Te,ri,$1,Lu.placeholder,hi,nc,qc,To,Qf,Th-o0)}var ml=Lh?hi:this,Bl=Gh?ml[Te]:Te;return o0=nc.length,To?nc=Fb(nc,To):ku&&o0>1&&nc.reverse(),Nh&&Qf<o0&&(nc.length=Qf),this&&this!==ic&&this instanceof Lu&&(Bl=t0||Od(Bl)),Bl.apply(ml,nc)}return Lu}function um(Te,ri){return function(hi,an){return Q2(hi,Te,ri(an),{})}}function R1(Te,ri){return function(hi,an){var gn;if(hi===i&&an===i)return ri;if(hi!==i&&(gn=hi),an!==i){if(gn===i)return an;typeof hi=="string"||typeof an=="string"?(hi=el(hi),an=el(an)):(hi=Jv(hi),an=Jv(an)),gn=Te(hi,an)}return gn}}function Ap(Te){return Rl(function(ri){return ri=Sc(ri,Xc(Tu())),s0(function(hi){var an=this;return Te(ri,function(gn){return Nc(gn,an,hi)})})})}function I1(Te,ri){ri=ri===i?" ":el(ri);var hi=ri.length;if(hi<2)return hi?bp(ri,Te):ri;var an=bp(ri,p1(Te/hd(ri)));return fd(ri)?jl(dl(an),0,Te).join(""):an.slice(0,Te)}function Eb(Te,ri,hi,an){var gn=ri&sn,Ya=Od(Te);function Do(){for(var To=-1,Qf=arguments.length,Th=-1,Nh=an.length,Lh=Ph(Nh+Qf),Gh=this&&this!==ic&&this instanceof Do?Ya:Te;++Th<Nh;)Lh[Th]=an[Th];for(;Qf--;)Lh[Th++]=arguments[++To];return Nc(Gh,gn?hi:this,Lh)}return Do}function cm(Te){return function(ri,hi,an){return an&&typeof an!="number"&&Hc(ri,hi,an)&&(hi=an=i),ri=ql(ri),hi===i?(hi=ri,ri=0):hi=ql(hi),an=an===i?ri<hi?1:-1:ql(an),hb(ri,hi,an,Te)}}function D1(Te){return function(ri,hi){return typeof ri=="string"&&typeof hi=="string"||(ri=cl(ri),hi=cl(hi)),Te(ri,hi)}}function lm(Te,ri,hi,an,gn,Ya,Do,To,Qf,Th){var Nh=ri&ln,Lh=Nh?Do:i,Gh=Nh?i:Do,hu=Nh?Ya:i,ku=Nh?i:Ya;ri|=Nh?vn:Mn,ri&=~(Nh?Mn:vn),ri&nn||(ri&=~(sn|hn));var t0=[Te,ri,gn,hu,Lh,ku,Gh,To,Qf,Th],Lu=hi.apply(i,t0);return Pp(Te)&&Em(Lu,t0),Lu.placeholder=an,Am(Lu,Te,ri)}function Sp(Te){var ri=Cc[Te];return function(hi,an){if(hi=cl(hi),an=an==null?0:Uc(e0(an),292),an&&Av(hi)){var gn=(gc(hi)+"e").split("e"),Ya=ri(gn[0]+"e"+(+gn[1]+an));return gn=(gc(Ya)+"e").split("e"),+(gn[0]+"e"+(+gn[1]-an))}return ri(hi)}}var Ab=ld&&1/n1(new ld([,-0]))[1]==Le?function(Te){return new ld(Te)}:Wp;function dm(Te){return function(ri){var hi=jc(ri);return hi==qh?rp(ri):hi==Ko?$g(ri):bg(ri,Te(ri))}}function $l(Te,ri,hi,an,gn,Ya,Do,To){var Qf=ri&hn;if(!Qf&&typeof Te!="function")throw new al(Wr);var Th=an?an.length:0;if(Th||(ri&=~(vn|Mn),an=gn=i),Do=Do===i?Do:Oc(e0(Do),0),To=To===i?To:e0(To),Th-=gn?gn.length:0,ri&Mn){var Nh=an,Lh=gn;an=gn=i}var Gh=Qf?i:Ip(Te),hu=[Te,ri,hi,an,gn,Nh,Lh,Ya,Do,To];if(Gh&&Ub(hu,Gh),Te=hu[0],ri=hu[1],hi=hu[2],an=hu[3],gn=hu[4],To=hu[9]=hu[9]===i?Qf?0:Te.length:Oc(hu[9]-Th,0),!To&&ri&(ln|on)&&(ri&=~(ln|on)),!ri||ri==sn)var ku=Mb(Te,ri,hi);else ri==ln||ri==on?ku=xb(Te,ri,To):(ri==vn||ri==(sn|vn))&&!gn.length?ku=Eb(Te,ri,hi,an):ku=$1.apply(i,hu);var t0=Gh?Gv:Em;return Am(t0(ku,hu),Te,ri)}function pm(Te,ri,hi,an){return Te===i||vl(Te,cd[hi])&&!bc.call(an,hi)?ri:Te}function vm(Te,ri,hi,an,gn,Ya){return $c(Te)&&$c(ri)&&(Ya.set(ri,Te),x1(Te,ri,i,vm,Ya),Ya.delete(ri)),Te}function Sb(Te){return kd(Te)?i:Te}function mm(Te,ri,hi,an,gn,Ya){var Do=hi&fi,To=Te.length,Qf=ri.length;if(To!=Qf&&!(Do&&Qf>To))return!1;var Th=Ya.get(Te),Nh=Ya.get(ri);if(Th&&Nh)return Th==ri&&Nh==Te;var Lh=-1,Gh=!0,hu=hi&ui?new Ql:i;for(Ya.set(Te,ri),Ya.set(ri,Te);++Lh<To;){var ku=Te[Lh],t0=ri[Lh];if(an)var Lu=Do?an(t0,ku,Lh,ri,Te,Ya):an(ku,t0,Lh,Te,ri,Ya);if(Lu!==i){if(Lu)continue;Gh=!1;break}if(hu){if(!Z1(ri,function(o0,nc){if(!Ed(hu,nc)&&(ku===o0||gn(ku,o0,hi,an,Ya)))return hu.push(nc)})){Gh=!1;break}}else if(!(ku===t0||gn(ku,t0,hi,an,Ya))){Gh=!1;break}}return Ya.delete(Te),Ya.delete(ri),Gh}function $b(Te,ri,hi,an,gn,Ya,Do){switch(hi){case Fo:if(Te.byteLength!=ri.byteLength||Te.byteOffset!=ri.byteOffset)return!1;Te=Te.buffer,ri=ri.buffer;case Zo:return!(Te.byteLength!=ri.byteLength||!Ya(new u1(Te),new u1(ri)));case fn:case cn:case Lo:return vl(+Te,+ri);case Rn:return Te.name==ri.name&&Te.message==ri.message;case zh:case Uo:return Te==ri+"";case qh:var To=rp;case Ko:var Qf=an&fi;if(To||(To=n1),Te.size!=ri.size&&!Qf)return!1;var Th=Do.get(Te);if(Th)return Th==ri;an|=ui,Do.set(Te,ri);var Nh=mm(To(Te),To(ri),an,gn,Ya,Do);return Do.delete(Te),Nh;case Uh:if(Id)return Id.call(Te)==Id.call(ri)}return!1}function Rb(Te,ri,hi,an,gn,Ya){var Do=hi&fi,To=$p(Te),Qf=To.length,Th=$p(ri),Nh=Th.length;if(Qf!=Nh&&!Do)return!1;for(var Lh=Qf;Lh--;){var Gh=To[Lh];if(!(Do?Gh in ri:bc.call(ri,Gh)))return!1}var hu=Ya.get(Te),ku=Ya.get(ri);if(hu&&ku)return hu==ri&&ku==Te;var t0=!0;Ya.set(Te,ri),Ya.set(ri,Te);for(var Lu=Do;++Lh<Qf;){Gh=To[Lh];var o0=Te[Gh],nc=ri[Gh];if(an)var rl=Do?an(nc,o0,Gh,ri,Te,Ya):an(o0,nc,Gh,Te,ri,Ya);if(!(rl===i?o0===nc||gn(o0,nc,hi,an,Ya):rl)){t0=!1;break}Lu||(Lu=Gh=="constructor")}if(t0&&!Lu){var Kc=Te.constructor,il=ri.constructor;Kc!=il&&"constructor"in Te&&"constructor"in ri&&!(typeof Kc=="function"&&Kc instanceof Kc&&typeof il=="function"&&il instanceof il)&&(t0=!1)}return Ya.delete(Te),Ya.delete(ri),t0}function Rl(Te){return Op(Mm(Te,i,qm),Te+"")}function $p(Te){return Tv(Te,kc,qp)}function Rp(Te){return Tv(Te,Zc,gm)}var Ip=m1?function(Te){return m1.get(Te)}:Wp;function q1(Te){for(var ri=Te.name+"",hi=dd[ri],an=bc.call(dd,ri)?hi.length:0;an--;){var gn=hi[an],Ya=gn.func;if(Ya==null||Ya==Te)return gn.name}return ri}function gd(Te){var ri=bc.call(Cn,"placeholder")?Cn:Te;return ri.placeholder}function Tu(){var Te=Cn.iteratee||Vp;return Te=Te===Vp?Lv:Te,arguments.length?Te(arguments[0],arguments[1]):Te}function B1(Te,ri){var hi=Te.__data__;return Tb(ri)?hi[typeof ri=="string"?"string":"hash"]:hi.map}function Dp(Te){for(var ri=kc(Te),hi=ri.length;hi--;){var an=ri[hi],gn=Te[an];ri[hi]=[an,gn,wm(gn)]}return ri}function ed(Te,ri){var hi=Eg(Te,ri);return kv(hi)?hi:i}function Ib(Te){var ri=bc.call(Te,Jl),hi=Te[Jl];try{Te[Jl]=i;var an=!0}catch{}var gn=f1.call(Te);return an&&(ri?Te[Jl]=hi:delete Te[Jl]),gn}var qp=np?function(Te){return Te==null?[]:(Te=xc(Te),Cl(np(Te),function(ri){return xv.call(Te,ri)}))}:Jp,gm=np?function(Te){for(var ri=[];Te;)Ol(ri,qp(Te)),Te=c1(Te);return ri}:Jp,jc=Fc;(sp&&jc(new sp(new ArrayBuffer(1)))!=Fo||Sd&&jc(new Sd)!=qh||ap&&jc(ap.resolve())!=_h||ld&&jc(new ld)!=Ko||$d&&jc(new $d)!=qo)&&(jc=function(Te){var ri=Fc(Te),hi=ri==jh?Te.constructor:i,an=hi?td(hi):"";if(an)switch(an){case c2:return Fo;case l2:return qh;case d2:return _h;case p2:return Ko;case v2:return qo}return ri});function Db(Te,ri,hi){for(var an=-1,gn=hi.length;++an<gn;){var Ya=hi[an],Do=Ya.size;switch(Ya.type){case"drop":Te+=Do;break;case"dropRight":ri-=Do;break;case"take":ri=Uc(ri,Te+Do);break;case"takeRight":Te=Oc(Te,ri-Do);break}}return{start:Te,end:ri}}function qb(Te){var ri=Te.match(Wh);return ri?ri[1].split(Rh):[]}function bm(Te,ri,hi){ri=Ul(ri,Te);for(var an=-1,gn=ri.length,Ya=!1;++an<gn;){var Do=Ml(ri[an]);if(!(Ya=Te!=null&&hi(Te,Do)))break;Te=Te[Do]}return Ya||++an!=gn?Ya:(gn=Te==null?0:Te.length,!!gn&&L1(gn)&&Il(Do,gn)&&(Hu(Te)||rd(Te)))}function Bb(Te){var ri=Te.length,hi=new Te.constructor(ri);return ri&&typeof Te[0]=="string"&&bc.call(Te,"index")&&(hi.index=Te.index,hi.input=Te.input),hi}function ym(Te){return typeof Te.constructor=="function"&&!Td(Te)?pd(c1(Te)):{}}function Pb(Te,ri,hi){var an=Te.constructor;switch(ri){case Zo:return Ep(Te);case fn:case cn:return new an(+Te);case Fo:return mb(Te,hi);case Hh:case Vf:case Ho:case Kh:case yh:case Yo:case Vh:case Ih:case wh:return tm(Te,hi);case qh:return new an;case Lo:case Uo:return new an(Te);case zh:return gb(Te);case Ko:return new an;case Uh:return bb(Te)}}function Cb(Te,ri){var hi=ri.length;if(!hi)return Te;var an=hi-1;return ri[an]=(hi>1?"& ":"")+ri[an],ri=ri.join(hi>2?", ":" "),Te.replace(vh,`{
/* [wrapped with `+ri+`] */
`)}function Ob(Te){return Hu(Te)||rd(Te)||!!(Ev&&Te&&Te[Ev])}function Il(Te,ri){var hi=typeof Te;return ri=ri??ti,!!ri&&(hi=="number"||hi!="symbol"&&tc.test(Te))&&Te>-1&&Te%1==0&&Te<ri}function Hc(Te,ri,hi){if(!$c(hi))return!1;var an=typeof ri;return(an=="number"?Jc(hi)&&Il(ri,hi.length):an=="string"&&ri in hi)?vl(hi[ri],Te):!1}function Bp(Te,ri){if(Hu(Te))return!1;var hi=typeof Te;return hi=="number"||hi=="symbol"||hi=="boolean"||Te==null||tl(Te)?!0:mh.test(Te)||!xh.test(Te)||ri!=null&&Te in xc(ri)}function Tb(Te){var ri=typeof Te;return ri=="string"||ri=="number"||ri=="symbol"||ri=="boolean"?Te!=="__proto__":Te===null}function Pp(Te){var ri=q1(Te),hi=Cn[ri];if(typeof hi!="function"||!(ri in rc.prototype))return!1;if(Te===hi)return!0;var an=Ip(hi);return!!an&&Te===an[0]}function Nb(Te){return!!wv&&wv in Te}var kb=a1?Dl:Zp;function Td(Te){var ri=Te&&Te.constructor,hi=typeof ri=="function"&&ri.prototype||cd;return Te===hi}function wm(Te){return Te===Te&&!$c(Te)}function _m(Te,ri){return function(hi){return hi==null?!1:hi[Te]===ri&&(ri!==i||Te in xc(hi))}}function Lb(Te){var ri=N1(Te,function(an){return hi.size===Xr&&hi.clear(),an}),hi=ri.cache;return ri}function Ub(Te,ri){var hi=Te[1],an=ri[1],gn=hi|an,Ya=gn<(sn|hn|mi),Do=an==mi&&hi==ln||an==mi&&hi==mn&&Te[7].length<=ri[8]||an==(mi|mn)&&ri[7].length<=ri[8]&&hi==ln;if(!(Ya||Do))return Te;an&sn&&(Te[2]=ri[2],gn|=hi&sn?0:nn);var To=ri[3];if(To){var Qf=Te[3];Te[3]=Qf?im(Qf,To,ri[4]):To,Te[4]=Qf?Tl(Te[3],Zr):ri[4]}return To=ri[5],To&&(Qf=Te[5],Te[5]=Qf?nm(Qf,To,ri[6]):To,Te[6]=Qf?Tl(Te[5],Zr):ri[6]),To=ri[7],To&&(Te[7]=To),an&mi&&(Te[8]=Te[8]==null?ri[8]:Uc(Te[8],ri[8])),Te[9]==null&&(Te[9]=ri[9]),Te[0]=ri[0],Te[1]=gn,Te}function jb(Te){var ri=[];if(Te!=null)for(var hi in xc(Te))ri.push(hi);return ri}function zb(Te){return f1.call(Te)}function Mm(Te,ri,hi){return ri=Oc(ri===i?Te.length-1:ri,0),function(){for(var an=arguments,gn=-1,Ya=Oc(an.length-ri,0),Do=Ph(Ya);++gn<Ya;)Do[gn]=an[ri+gn];gn=-1;for(var To=Ph(ri+1);++gn<ri;)To[gn]=an[gn];return To[ri]=hi(Do),Nc(Te,this,To)}}function xm(Te,ri){return ri.length<2?Te:Xl(Te,hl(ri,0,-1))}function Fb(Te,ri){for(var hi=Te.length,an=Uc(ri.length,hi),gn=Wc(Te);an--;){var Ya=ri[an];Te[an]=Il(Ya,hi)?gn[Ya]:i}return Te}function Cp(Te,ri){if(!(ri==="constructor"&&typeof Te[ri]=="function")&&ri!="__proto__")return Te[ri]}var Em=Sm(Gv),Nd=n2||function(Te,ri){return ic.setTimeout(Te,ri)},Op=Sm(lb);function Am(Te,ri,hi){var an=ri+"";return Op(Te,Cb(an,Hb(qb(an),hi)))}function Sm(Te){var ri=0,hi=0;return function(){var an=f2(),gn=o-(an-hi);if(hi=an,gn>0){if(++ri>=t)return arguments[0]}else ri=0;return Te.apply(i,arguments)}}function P1(Te,ri){var hi=-1,an=Te.length,gn=an-1;for(ri=ri===i?an:ri;++hi<ri;){var Ya=gp(hi,gn),Do=Te[Ya];Te[Ya]=Te[hi],Te[hi]=Do}return Te.length=ri,Te}var $m=Lb(function(Te){var ri=[];return Te.charCodeAt(0)===46&&ri.push(""),Te.replace(su,function(hi,an,gn,Ya){ri.push(gn?Ya.replace(Ch,"$1"):an||hi)}),ri});function Ml(Te){if(typeof Te=="string"||tl(Te))return Te;var ri=Te+"";return ri=="0"&&1/Te==-Le?"-0":ri}function td(Te){if(Te!=null){try{return o1.call(Te)}catch{}try{return Te+""}catch{}}return""}function Hb(Te,ri){return sl(pn,function(hi){var an="_."+hi[0];ri&hi[1]&&!r1(Te,an)&&Te.push(an)}),Te.sort()}function Rm(Te){if(Te instanceof rc)return Te.clone();var ri=new ol(Te.__wrapped__,Te.__chain__);return ri.__actions__=Wc(Te.__actions__),ri.__index__=Te.__index__,ri.__values__=Te.__values__,ri}function Kb(Te,ri,hi){(hi?Hc(Te,ri,hi):ri===i)?ri=1:ri=Oc(e0(ri),0);var an=Te==null?0:Te.length;if(!an||ri<1)return[];for(var gn=0,Ya=0,Do=Ph(p1(an/ri));gn<an;)Do[Ya++]=hl(Te,gn,gn+=ri);return Do}function Vb(Te){for(var ri=-1,hi=Te==null?0:Te.length,an=0,gn=[];++ri<hi;){var Ya=Te[ri];Ya&&(gn[an++]=Ya)}return gn}function Gb(){var Te=arguments.length;if(!Te)return[];for(var ri=Ph(Te-1),hi=arguments[0],an=Te;an--;)ri[an-1]=arguments[an];return Ol(Hu(hi)?Wc(hi):[hi],Lc(ri,1))}var Wb=s0(function(Te,ri){return Dc(Te)?qd(Te,Lc(ri,1,Dc,!0)):[]}),Jb=s0(function(Te,ri){var hi=ul(ri);return Dc(hi)&&(hi=i),Dc(Te)?qd(Te,Lc(ri,1,Dc,!0),Tu(hi,2)):[]}),Zb=s0(function(Te,ri){var hi=ul(ri);return Dc(hi)&&(hi=i),Dc(Te)?qd(Te,Lc(ri,1,Dc,!0),i,hi):[]});function Qb(Te,ri,hi){var an=Te==null?0:Te.length;return an?(ri=hi||ri===i?1:e0(ri),hl(Te,ri<0?0:ri,an)):[]}function Yb(Te,ri,hi){var an=Te==null?0:Te.length;return an?(ri=hi||ri===i?1:e0(ri),ri=an-ri,hl(Te,0,ri<0?0:ri)):[]}function Xb(Te,ri){return Te&&Te.length?A1(Te,Tu(ri,3),!0,!0):[]}function ey(Te,ri){return Te&&Te.length?A1(Te,Tu(ri,3),!0):[]}function ty(Te,ri,hi,an){var gn=Te==null?0:Te.length;return gn?(hi&&typeof hi!="number"&&Hc(Te,ri,hi)&&(hi=0,an=gn),G2(Te,ri,hi,an)):[]}function Im(Te,ri,hi){var an=Te==null?0:Te.length;if(!an)return-1;var gn=hi==null?0:e0(hi);return gn<0&&(gn=Oc(an+gn,0)),i1(Te,Tu(ri,3),gn)}function Dm(Te,ri,hi){var an=Te==null?0:Te.length;if(!an)return-1;var gn=an-1;return hi!==i&&(gn=e0(hi),gn=hi<0?Oc(an+gn,0):Uc(gn,an-1)),i1(Te,Tu(ri,3),gn,!0)}function qm(Te){var ri=Te==null?0:Te.length;return ri?Lc(Te,1):[]}function ry(Te){var ri=Te==null?0:Te.length;return ri?Lc(Te,Le):[]}function iy(Te,ri){var hi=Te==null?0:Te.length;return hi?(ri=ri===i?1:e0(ri),Lc(Te,ri)):[]}function ny(Te){for(var ri=-1,hi=Te==null?0:Te.length,an={};++ri<hi;){var gn=Te[ri];an[gn[0]]=gn[1]}return an}function Bm(Te){return Te&&Te.length?Te[0]:i}function sy(Te,ri,hi){var an=Te==null?0:Te.length;if(!an)return-1;var gn=hi==null?0:e0(hi);return gn<0&&(gn=Oc(an+gn,0)),od(Te,ri,gn)}function ay(Te){var ri=Te==null?0:Te.length;return ri?hl(Te,0,-1):[]}var oy=s0(function(Te){var ri=Sc(Te,Mp);return ri.length&&ri[0]===Te[0]?lp(ri):[]}),fy=s0(function(Te){var ri=ul(Te),hi=Sc(Te,Mp);return ri===ul(hi)?ri=i:hi.pop(),hi.length&&hi[0]===Te[0]?lp(hi,Tu(ri,2)):[]}),hy=s0(function(Te){var ri=ul(Te),hi=Sc(Te,Mp);return ri=typeof ri=="function"?ri:i,ri&&hi.pop(),hi.length&&hi[0]===Te[0]?lp(hi,i,ri):[]});function uy(Te,ri){return Te==null?"":a2.call(Te,ri)}function ul(Te){var ri=Te==null?0:Te.length;return ri?Te[ri-1]:i}function cy(Te,ri,hi){var an=Te==null?0:Te.length;if(!an)return-1;var gn=an;return hi!==i&&(gn=e0(hi),gn=gn<0?Oc(an+gn,0):Uc(gn,an-1)),ri===ri?Ig(Te,ri,gn):i1(Te,lv,gn,!0)}function ly(Te,ri){return Te&&Te.length?Fv(Te,e0(ri)):i}var dy=s0(Pm);function Pm(Te,ri){return Te&&Te.length&&ri&&ri.length?mp(Te,ri):Te}function py(Te,ri,hi){return Te&&Te.length&&ri&&ri.length?mp(Te,ri,Tu(hi,2)):Te}function vy(Te,ri,hi){return Te&&Te.length&&ri&&ri.length?mp(Te,ri,i,hi):Te}var my=Rl(function(Te,ri){var hi=Te==null?0:Te.length,an=fp(Te,ri);return Vv(Te,Sc(ri,function(gn){return Il(gn,hi)?+gn:gn}).sort(rm)),an});function gy(Te,ri){var hi=[];if(!(Te&&Te.length))return hi;var an=-1,gn=[],Ya=Te.length;for(ri=Tu(ri,3);++an<Ya;){var Do=Te[an];ri(Do,an,Te)&&(hi.push(Do),gn.push(an))}return Vv(Te,gn),hi}function Tp(Te){return Te==null?Te:u2.call(Te)}function by(Te,ri,hi){var an=Te==null?0:Te.length;return an?(hi&&typeof hi!="number"&&Hc(Te,ri,hi)?(ri=0,hi=an):(ri=ri==null?0:e0(ri),hi=hi===i?an:e0(hi)),hl(Te,ri,hi)):[]}function yy(Te,ri){return E1(Te,ri)}function wy(Te,ri,hi){return yp(Te,ri,Tu(hi,2))}function _y(Te,ri){var hi=Te==null?0:Te.length;if(hi){var an=E1(Te,ri);if(an<hi&&vl(Te[an],ri))return an}return-1}function My(Te,ri){return E1(Te,ri,!0)}function xy(Te,ri,hi){return yp(Te,ri,Tu(hi,2),!0)}function Ey(Te,ri){var hi=Te==null?0:Te.length;if(hi){var an=E1(Te,ri,!0)-1;if(vl(Te[an],ri))return an}return-1}function Ay(Te){return Te&&Te.length?Wv(Te):[]}function Sy(Te,ri){return Te&&Te.length?Wv(Te,Tu(ri,2)):[]}function $y(Te){var ri=Te==null?0:Te.length;return ri?hl(Te,1,ri):[]}function Ry(Te,ri,hi){return Te&&Te.length?(ri=hi||ri===i?1:e0(ri),hl(Te,0,ri<0?0:ri)):[]}function Iy(Te,ri,hi){var an=Te==null?0:Te.length;return an?(ri=hi||ri===i?1:e0(ri),ri=an-ri,hl(Te,ri<0?0:ri,an)):[]}function Dy(Te,ri){return Te&&Te.length?A1(Te,Tu(ri,3),!1,!0):[]}function qy(Te,ri){return Te&&Te.length?A1(Te,Tu(ri,3)):[]}var By=s0(function(Te){return Ll(Lc(Te,1,Dc,!0))}),Py=s0(function(Te){var ri=ul(Te);return Dc(ri)&&(ri=i),Ll(Lc(Te,1,Dc,!0),Tu(ri,2))}),Cy=s0(function(Te){var ri=ul(Te);return ri=typeof ri=="function"?ri:i,Ll(Lc(Te,1,Dc,!0),i,ri)});function Oy(Te){return Te&&Te.length?Ll(Te):[]}function Ty(Te,ri){return Te&&Te.length?Ll(Te,Tu(ri,2)):[]}function Ny(Te,ri){return ri=typeof ri=="function"?ri:i,Te&&Te.length?Ll(Te,i,ri):[]}function Np(Te){if(!(Te&&Te.length))return[];var ri=0;return Te=Cl(Te,function(hi){if(Dc(hi))return ri=Oc(hi.length,ri),!0}),ep(ri,function(hi){return Sc(Te,Q1(hi))})}function Cm(Te,ri){if(!(Te&&Te.length))return[];var hi=Np(Te);return ri==null?hi:Sc(hi,function(an){return Nc(ri,i,an)})}var ky=s0(function(Te,ri){return Dc(Te)?qd(Te,ri):[]}),Ly=s0(function(Te){return _p(Cl(Te,Dc))}),Uy=s0(function(Te){var ri=ul(Te);return Dc(ri)&&(ri=i),_p(Cl(Te,Dc),Tu(ri,2))}),jy=s0(function(Te){var ri=ul(Te);return ri=typeof ri=="function"?ri:i,_p(Cl(Te,Dc),i,ri)}),zy=s0(Np);function Fy(Te,ri){return Yv(Te||[],ri||[],Dd)}function Hy(Te,ri){return Yv(Te||[],ri||[],Cd)}var Ky=s0(function(Te){var ri=Te.length,hi=ri>1?Te[ri-1]:i;return hi=typeof hi=="function"?(Te.pop(),hi):i,Cm(Te,hi)});function Om(Te){var ri=Cn(Te);return ri.__chain__=!0,ri}function Vy(Te,ri){return ri(Te),Te}function C1(Te,ri){return ri(Te)}var Gy=Rl(function(Te){var ri=Te.length,hi=ri?Te[0]:0,an=this.__wrapped__,gn=function(Ya){return fp(Ya,Te)};return ri>1||this.__actions__.length||!(an instanceof rc)||!Il(hi)?this.thru(gn):(an=an.slice(hi,+hi+(ri?1:0)),an.__actions__.push({func:C1,args:[gn],thisArg:i}),new ol(an,this.__chain__).thru(function(Ya){return ri&&!Ya.length&&Ya.push(i),Ya}))});function Wy(){return Om(this)}function Jy(){return new ol(this.value(),this.__chain__)}function Zy(){this.__values__===i&&(this.__values__=Jm(this.value()));var Te=this.__index__>=this.__values__.length,ri=Te?i:this.__values__[this.__index__++];return{done:Te,value:ri}}function Qy(){return this}function Yy(Te){for(var ri,hi=this;hi instanceof b1;){var an=Rm(hi);an.__index__=0,an.__values__=i,ri?gn.__wrapped__=an:ri=an;var gn=an;hi=hi.__wrapped__}return gn.__wrapped__=Te,ri}function Xy(){var Te=this.__wrapped__;if(Te instanceof rc){var ri=Te;return this.__actions__.length&&(ri=new rc(this)),ri=ri.reverse(),ri.__actions__.push({func:C1,args:[Tp],thisArg:i}),new ol(ri,this.__chain__)}return this.thru(Tp)}function e3(){return Qv(this.__wrapped__,this.__actions__)}var t3=S1(function(Te,ri,hi){bc.call(Te,hi)?++Te[hi]:Sl(Te,hi,1)});function r3(Te,ri,hi){var an=Hu(Te)?Yp:V2;return hi&&Hc(Te,ri,hi)&&(ri=i),an(Te,Tu(ri,3))}function i3(Te,ri){var hi=Hu(Te)?Cl:Cv;return hi(Te,Tu(ri,3))}var n3=fm(Im),s3=fm(Dm);function a3(Te,ri){return Lc(O1(Te,ri),1)}function o3(Te,ri){return Lc(O1(Te,ri),Le)}function f3(Te,ri,hi){return hi=hi===i?1:e0(hi),Lc(O1(Te,ri),hi)}function Tm(Te,ri){var hi=Hu(Te)?sl:kl;return hi(Te,Tu(ri,3))}function Nm(Te,ri){var hi=Hu(Te)?cg:Pv;return hi(Te,Tu(ri,3))}var h3=S1(function(Te,ri,hi){bc.call(Te,hi)?Te[hi].push(ri):Sl(Te,hi,[ri])});function u3(Te,ri,hi,an){Te=Jc(Te)?Te:yd(Te),hi=hi&&!an?e0(hi):0;var gn=Te.length;return hi<0&&(hi=Oc(gn+hi,0)),U1(Te)?hi<=gn&&Te.indexOf(ri,hi)>-1:!!gn&&od(Te,ri,hi)>-1}var c3=s0(function(Te,ri,hi){var an=-1,gn=typeof ri=="function",Ya=Jc(Te)?Ph(Te.length):[];return kl(Te,function(Do){Ya[++an]=gn?Nc(ri,Do,hi):Bd(Do,ri,hi)}),Ya}),l3=S1(function(Te,ri,hi){Sl(Te,hi,ri)});function O1(Te,ri){var hi=Hu(Te)?Sc:Uv;return hi(Te,Tu(ri,3))}function d3(Te,ri,hi,an){return Te==null?[]:(Hu(ri)||(ri=ri==null?[]:[ri]),hi=an?i:hi,Hu(hi)||(hi=hi==null?[]:[hi]),Hv(Te,ri,hi))}var p3=S1(function(Te,ri,hi){Te[hi?0:1].push(ri)},function(){return[[],[]]});function v3(Te,ri,hi){var an=Hu(Te)?J1:pv,gn=arguments.length<3;return an(Te,Tu(ri,4),hi,gn,kl)}function m3(Te,ri,hi){var an=Hu(Te)?lg:pv,gn=arguments.length<3;return an(Te,Tu(ri,4),hi,gn,Pv)}function g3(Te,ri){var hi=Hu(Te)?Cl:Cv;return hi(Te,k1(Tu(ri,3)))}function b3(Te){var ri=Hu(Te)?Iv:ub;return ri(Te)}function y3(Te,ri,hi){(hi?Hc(Te,ri,hi):ri===i)?ri=1:ri=e0(ri);var an=Hu(Te)?j2:cb;return an(Te,ri)}function w3(Te){var ri=Hu(Te)?z2:db;return ri(Te)}function _3(Te){if(Te==null)return 0;if(Jc(Te))return U1(Te)?hd(Te):Te.length;var ri=jc(Te);return ri==qh||ri==Ko?Te.size:pp(Te).length}function M3(Te,ri,hi){var an=Hu(Te)?Z1:pb;return hi&&Hc(Te,ri,hi)&&(ri=i),an(Te,Tu(ri,3))}var x3=s0(function(Te,ri){if(Te==null)return[];var hi=ri.length;return hi>1&&Hc(Te,ri[0],ri[1])?ri=[]:hi>2&&Hc(ri[0],ri[1],ri[2])&&(ri=[ri[0]]),Hv(Te,Lc(ri,1),[])}),T1=i2||function(){return ic.Date.now()};function E3(Te,ri){if(typeof ri!="function")throw new al(Wr);return Te=e0(Te),function(){if(--Te<1)return ri.apply(this,arguments)}}function km(Te,ri,hi){return ri=hi?i:ri,ri=Te&&ri==null?Te.length:ri,$l(Te,mi,i,i,i,i,ri)}function Lm(Te,ri){var hi;if(typeof ri!="function")throw new al(Wr);return Te=e0(Te),function(){return--Te>0&&(hi=ri.apply(this,arguments)),Te<=1&&(ri=i),hi}}var kp=s0(function(Te,ri,hi){var an=sn;if(hi.length){var gn=Tl(hi,gd(kp));an|=vn}return $l(Te,an,ri,hi,gn)}),Um=s0(function(Te,ri,hi){var an=sn|hn;if(hi.length){var gn=Tl(hi,gd(Um));an|=vn}return $l(ri,an,Te,hi,gn)});function jm(Te,ri,hi){ri=hi?i:ri;var an=$l(Te,ln,i,i,i,i,i,ri);return an.placeholder=jm.placeholder,an}function zm(Te,ri,hi){ri=hi?i:ri;var an=$l(Te,on,i,i,i,i,i,ri);return an.placeholder=zm.placeholder,an}function Fm(Te,ri,hi){var an,gn,Ya,Do,To,Qf,Th=0,Nh=!1,Lh=!1,Gh=!0;if(typeof Te!="function")throw new al(Wr);ri=cl(ri)||0,$c(hi)&&(Nh=!!hi.leading,Lh="maxWait"in hi,Ya=Lh?Oc(cl(hi.maxWait)||0,ri):Ya,Gh="trailing"in hi?!!hi.trailing:Gh);function hu(qc){var ml=an,Bl=gn;return an=gn=i,Th=qc,Do=Te.apply(Bl,ml),Do}function ku(qc){return Th=qc,To=Nd(o0,ri),Nh?hu(qc):Do}function t0(qc){var ml=qc-Qf,Bl=qc-Th,fg=ri-ml;return Lh?Uc(fg,Ya-Bl):fg}function Lu(qc){var ml=qc-Qf,Bl=qc-Th;return Qf===i||ml>=ri||ml<0||Lh&&Bl>=Ya}function o0(){var qc=T1();if(Lu(qc))return nc(qc);To=Nd(o0,t0(qc))}function nc(qc){return To=i,Gh&&an?hu(qc):(an=gn=i,Do)}function rl(){To!==i&&Xv(To),Th=0,an=Qf=gn=To=i}function Kc(){return To===i?Do:nc(T1())}function il(){var qc=T1(),ml=Lu(qc);if(an=arguments,gn=this,Qf=qc,ml){if(To===i)return ku(Qf);if(Lh)return Xv(To),To=Nd(o0,ri),hu(Qf)}return To===i&&(To=Nd(o0,ri)),Do}return il.cancel=rl,il.flush=Kc,il}var A3=s0(function(Te,ri){return Bv(Te,1,ri)}),S3=s0(function(Te,ri,hi){return Bv(Te,cl(ri)||0,hi)});function $3(Te){return $l(Te,Bn)}function N1(Te,ri){if(typeof Te!="function"||ri!=null&&typeof ri!="function")throw new al(Wr);var hi=function(){var an=arguments,gn=ri?ri.apply(this,an):an[0],Ya=hi.cache;if(Ya.has(gn))return Ya.get(gn);var Do=Te.apply(this,an);return hi.cache=Ya.set(gn,Do)||Ya,Do};return hi.cache=new(N1.Cache||Al),hi}N1.Cache=Al;function k1(Te){if(typeof Te!="function")throw new al(Wr);return function(){var ri=arguments;switch(ri.length){case 0:return!Te.call(this);case 1:return!Te.call(this,ri[0]);case 2:return!Te.call(this,ri[0],ri[1]);case 3:return!Te.call(this,ri[0],ri[1],ri[2])}return!Te.apply(this,ri)}}function R3(Te){return Lm(2,Te)}var I3=vb(function(Te,ri){ri=ri.length==1&&Hu(ri[0])?Sc(ri[0],Xc(Tu())):Sc(Lc(ri,1),Xc(Tu()));var hi=ri.length;return s0(function(an){for(var gn=-1,Ya=Uc(an.length,hi);++gn<Ya;)an[gn]=ri[gn].call(this,an[gn]);return Nc(Te,this,an)})}),Lp=s0(function(Te,ri){var hi=Tl(ri,gd(Lp));return $l(Te,vn,i,ri,hi)}),Hm=s0(function(Te,ri){var hi=Tl(ri,gd(Hm));return $l(Te,Mn,i,ri,hi)}),D3=Rl(function(Te,ri){return $l(Te,mn,i,i,i,ri)});function q3(Te,ri){if(typeof Te!="function")throw new al(Wr);return ri=ri===i?ri:e0(ri),s0(Te,ri)}function B3(Te,ri){if(typeof Te!="function")throw new al(Wr);return ri=ri==null?0:Oc(e0(ri),0),s0(function(hi){var an=hi[ri],gn=jl(hi,0,ri);return an&&Ol(gn,an),Nc(Te,this,gn)})}function P3(Te,ri,hi){var an=!0,gn=!0;if(typeof Te!="function")throw new al(Wr);return $c(hi)&&(an="leading"in hi?!!hi.leading:an,gn="trailing"in hi?!!hi.trailing:gn),Fm(Te,ri,{leading:an,maxWait:ri,trailing:gn})}function C3(Te){return km(Te,1)}function O3(Te,ri){return Lp(xp(ri),Te)}function T3(){if(!arguments.length)return[];var Te=arguments[0];return Hu(Te)?Te:[Te]}function N3(Te){return fl(Te,ai)}function k3(Te,ri){return ri=typeof ri=="function"?ri:i,fl(Te,ai,ri)}function L3(Te){return fl(Te,si|ai)}function U3(Te,ri){return ri=typeof ri=="function"?ri:i,fl(Te,si|ai,ri)}function j3(Te,ri){return ri==null||qv(Te,ri,kc(ri))}function vl(Te,ri){return Te===ri||Te!==Te&&ri!==ri}var z3=D1(cp),F3=D1(function(Te,ri){return Te>=ri}),rd=Nv(function(){return arguments}())?Nv:function(Te){return Rc(Te)&&bc.call(Te,"callee")&&!xv.call(Te,"callee")},Hu=Ph.isArray,H3=zc?Xc(zc):Y2;function Jc(Te){return Te!=null&&L1(Te.length)&&!Dl(Te)}function Dc(Te){return Rc(Te)&&Jc(Te)}function K3(Te){return Te===!0||Te===!1||Rc(Te)&&Fc(Te)==fn}var zl=s2||Zp,V3=ll?Xc(ll):X2;function G3(Te){return Rc(Te)&&Te.nodeType===1&&!kd(Te)}function W3(Te){if(Te==null)return!0;if(Jc(Te)&&(Hu(Te)||typeof Te=="string"||typeof Te.splice=="function"||zl(Te)||bd(Te)||rd(Te)))return!Te.length;var ri=jc(Te);if(ri==qh||ri==Ko)return!Te.size;if(Td(Te))return!pp(Te).length;for(var hi in Te)if(bc.call(Te,hi))return!1;return!0}function J3(Te,ri){return Pd(Te,ri)}function Z3(Te,ri,hi){hi=typeof hi=="function"?hi:i;var an=hi?hi(Te,ri):i;return an===i?Pd(Te,ri,i,hi):!!an}function Up(Te){if(!Rc(Te))return!1;var ri=Fc(Te);return ri==Rn||ri==ci||typeof Te.message=="string"&&typeof Te.name=="string"&&!kd(Te)}function Q3(Te){return typeof Te=="number"&&Av(Te)}function Dl(Te){if(!$c(Te))return!1;var ri=Fc(Te);return ri==Zn||ri==ho||ri==$i||ri==tf}function Km(Te){return typeof Te=="number"&&Te==e0(Te)}function L1(Te){return typeof Te=="number"&&Te>-1&&Te%1==0&&Te<=ti}function $c(Te){var ri=typeof Te;return Te!=null&&(ri=="object"||ri=="function")}function Rc(Te){return Te!=null&&typeof Te=="object"}var Vm=nl?Xc(nl):tb;function Y3(Te,ri){return Te===ri||dp(Te,ri,Dp(ri))}function X3(Te,ri,hi){return hi=typeof hi=="function"?hi:i,dp(Te,ri,Dp(ri),hi)}function ew(Te){return Gm(Te)&&Te!=+Te}function tw(Te){if(kb(Te))throw new zu(R);return kv(Te)}function rw(Te){return Te===null}function iw(Te){return Te==null}function Gm(Te){return typeof Te=="number"||Rc(Te)&&Fc(Te)==Lo}function kd(Te){if(!Rc(Te)||Fc(Te)!=jh)return!1;var ri=c1(Te);if(ri===null)return!0;var hi=bc.call(ri,"constructor")&&ri.constructor;return typeof hi=="function"&&hi instanceof hi&&o1.call(hi)==Fg}var jp=yl?Xc(yl):rb;function nw(Te){return Km(Te)&&Te>=-ti&&Te<=ti}var Wm=xd?Xc(xd):ib;function U1(Te){return typeof Te=="string"||!Hu(Te)&&Rc(Te)&&Fc(Te)==Uo}function tl(Te){return typeof Te=="symbol"||Rc(Te)&&Fc(Te)==Uh}var bd=Wl?Xc(Wl):nb;function sw(Te){return Te===i}function aw(Te){return Rc(Te)&&jc(Te)==qo}function ow(Te){return Rc(Te)&&Fc(Te)==Fh}var fw=D1(vp),hw=D1(function(Te,ri){return Te<=ri});function Jm(Te){if(!Te)return[];if(Jc(Te))return U1(Te)?dl(Te):Wc(Te);if(Ad&&Te[Ad])return Sg(Te[Ad]());var ri=jc(Te),hi=ri==qh?rp:ri==Ko?n1:yd;return hi(Te)}function ql(Te){if(!Te)return Te===0?Te:0;if(Te=cl(Te),Te===Le||Te===-Le){var ri=Te<0?-1:1;return ri*Ie}return Te===Te?Te:0}function e0(Te){var ri=ql(Te),hi=ri%1;return ri===ri?hi?ri-hi:ri:0}function Zm(Te){return Te?Yl(e0(Te),0,Y):0}function cl(Te){if(typeof Te=="number")return Te;if(tl(Te))return s;if($c(Te)){var ri=typeof Te.valueOf=="function"?Te.valueOf():Te;Te=$c(ri)?ri+"":ri}if(typeof Te!="string")return Te===0?Te:+Te;Te=vv(Te);var hi=$0.test(Te);return hi||F0.test(Te)?Fu(Te.slice(2),hi?2:8):f0.test(Te)?s:+Te}function Qm(Te){return _l(Te,Zc(Te))}function uw(Te){return Te?Yl(e0(Te),-ti,ti):Te===0?Te:0}function gc(Te){return Te==null?"":el(Te)}var cw=vd(function(Te,ri){if(Td(ri)||Jc(ri)){_l(ri,kc(ri),Te);return}for(var hi in ri)bc.call(ri,hi)&&Dd(Te,hi,ri[hi])}),Ym=vd(function(Te,ri){_l(ri,Zc(ri),Te)}),j1=vd(function(Te,ri,hi,an){_l(ri,Zc(ri),Te,an)}),lw=vd(function(Te,ri,hi,an){_l(ri,kc(ri),Te,an)}),dw=Rl(fp);function pw(Te,ri){var hi=pd(Te);return ri==null?hi:Dv(hi,ri)}var vw=s0(function(Te,ri){Te=xc(Te);var hi=-1,an=ri.length,gn=an>2?ri[2]:i;for(gn&&Hc(ri[0],ri[1],gn)&&(an=1);++hi<an;)for(var Ya=ri[hi],Do=Zc(Ya),To=-1,Qf=Do.length;++To<Qf;){var Th=Do[To],Nh=Te[Th];(Nh===i||vl(Nh,cd[Th])&&!bc.call(Te,Th))&&(Te[Th]=Ya[Th])}return Te}),mw=s0(function(Te){return Te.push(i,vm),Nc(Xm,i,Te)});function gw(Te,ri){return Xp(Te,Tu(ri,3),wl)}function bw(Te,ri){return Xp(Te,Tu(ri,3),up)}function yw(Te,ri){return Te==null?Te:hp(Te,Tu(ri,3),Zc)}function ww(Te,ri){return Te==null?Te:Ov(Te,Tu(ri,3),Zc)}function _w(Te,ri){return Te&&wl(Te,Tu(ri,3))}function Mw(Te,ri){return Te&&up(Te,Tu(ri,3))}function xw(Te){return Te==null?[]:M1(Te,kc(Te))}function Ew(Te){return Te==null?[]:M1(Te,Zc(Te))}function zp(Te,ri,hi){var an=Te==null?i:Xl(Te,ri);return an===i?hi:an}function Aw(Te,ri){return Te!=null&&bm(Te,ri,W2)}function Fp(Te,ri){return Te!=null&&bm(Te,ri,J2)}var Sw=um(function(Te,ri,hi){ri!=null&&typeof ri.toString!="function"&&(ri=f1.call(ri)),Te[ri]=hi},Kp(Qc)),$w=um(function(Te,ri,hi){ri!=null&&typeof ri.toString!="function"&&(ri=f1.call(ri)),bc.call(Te,ri)?Te[ri].push(hi):Te[ri]=[hi]},Tu),Rw=s0(Bd);function kc(Te){return Jc(Te)?Rv(Te):pp(Te)}function Zc(Te){return Jc(Te)?Rv(Te,!0):sb(Te)}function Iw(Te,ri){var hi={};return ri=Tu(ri,3),wl(Te,function(an,gn,Ya){Sl(hi,ri(an,gn,Ya),an)}),hi}function Dw(Te,ri){var hi={};return ri=Tu(ri,3),wl(Te,function(an,gn,Ya){Sl(hi,gn,ri(an,gn,Ya))}),hi}var qw=vd(function(Te,ri,hi){x1(Te,ri,hi)}),Xm=vd(function(Te,ri,hi,an){x1(Te,ri,hi,an)}),Bw=Rl(function(Te,ri){var hi={};if(Te==null)return hi;var an=!1;ri=Sc(ri,function(Ya){return Ya=Ul(Ya,Te),an||(an=Ya.length>1),Ya}),_l(Te,Rp(Te),hi),an&&(hi=fl(hi,si|oi|ai,Sb));for(var gn=ri.length;gn--;)wp(hi,ri[gn]);return hi});function Pw(Te,ri){return eg(Te,k1(Tu(ri)))}var Cw=Rl(function(Te,ri){return Te==null?{}:ob(Te,ri)});function eg(Te,ri){if(Te==null)return{};var hi=Sc(Rp(Te),function(an){return[an]});return ri=Tu(ri),Kv(Te,hi,function(an,gn){return ri(an,gn[0])})}function Ow(Te,ri,hi){ri=Ul(ri,Te);var an=-1,gn=ri.length;for(gn||(gn=1,Te=i);++an<gn;){var Ya=Te==null?i:Te[Ml(ri[an])];Ya===i&&(an=gn,Ya=hi),Te=Dl(Ya)?Ya.call(Te):Ya}return Te}function Tw(Te,ri,hi){return Te==null?Te:Cd(Te,ri,hi)}function Nw(Te,ri,hi,an){return an=typeof an=="function"?an:i,Te==null?Te:Cd(Te,ri,hi,an)}var tg=dm(kc),rg=dm(Zc);function kw(Te,ri,hi){var an=Hu(Te),gn=an||zl(Te)||bd(Te);if(ri=Tu(ri,4),hi==null){var Ya=Te&&Te.constructor;gn?hi=an?new Ya:[]:$c(Te)?hi=Dl(Ya)?pd(c1(Te)):{}:hi={}}return(gn?sl:wl)(Te,function(Do,To,Qf){return ri(hi,Do,To,Qf)}),hi}function Lw(Te,ri){return Te==null?!0:wp(Te,ri)}function Uw(Te,ri,hi){return Te==null?Te:Zv(Te,ri,xp(hi))}function jw(Te,ri,hi,an){return an=typeof an=="function"?an:i,Te==null?Te:Zv(Te,ri,xp(hi),an)}function yd(Te){return Te==null?[]:tp(Te,kc(Te))}function zw(Te){return Te==null?[]:tp(Te,Zc(Te))}function Fw(Te,ri,hi){return hi===i&&(hi=ri,ri=i),hi!==i&&(hi=cl(hi),hi=hi===hi?hi:0),ri!==i&&(ri=cl(ri),ri=ri===ri?ri:0),Yl(cl(Te),ri,hi)}function Hw(Te,ri,hi){return ri=ql(ri),hi===i?(hi=ri,ri=0):hi=ql(hi),Te=cl(Te),Z2(Te,ri,hi)}function Kw(Te,ri,hi){if(hi&&typeof hi!="boolean"&&Hc(Te,ri,hi)&&(ri=hi=i),hi===i&&(typeof ri=="boolean"?(hi=ri,ri=i):typeof Te=="boolean"&&(hi=Te,Te=i)),Te===i&&ri===i?(Te=0,ri=1):(Te=ql(Te),ri===i?(ri=Te,Te=0):ri=ql(ri)),Te>ri){var an=Te;Te=ri,ri=an}if(hi||Te%1||ri%1){var gn=Sv();return Uc(Te+gn*(ri-Te+_c("1e-"+((gn+"").length-1))),ri)}return gp(Te,ri)}var Vw=md(function(Te,ri,hi){return ri=ri.toLowerCase(),Te+(hi?ig(ri):ri)});function ig(Te){return Hp(gc(Te).toLowerCase())}function ng(Te){return Te=gc(Te),Te&&Te.replace(Ku,wg).replace(V1,"")}function Gw(Te,ri,hi){Te=gc(Te),ri=el(ri);var an=Te.length;hi=hi===i?an:Yl(e0(hi),0,an);var gn=hi;return hi-=ri.length,hi>=0&&Te.slice(hi,gn)==ri}function Ww(Te){return Te=gc(Te),Te&&Jh.test(Te)?Te.replace(Bh,_g):Te}function Jw(Te){return Te=gc(Te),Te&&gh.test(Te)?Te.replace(Ah,"\\$&"):Te}var Zw=md(function(Te,ri,hi){return Te+(hi?"-":"")+ri.toLowerCase()}),Qw=md(function(Te,ri,hi){return Te+(hi?" ":"")+ri.toLowerCase()}),Yw=om("toLowerCase");function Xw(Te,ri,hi){Te=gc(Te),ri=e0(ri);var an=ri?hd(Te):0;if(!ri||an>=ri)return Te;var gn=(ri-an)/2;return I1(v1(gn),hi)+Te+I1(p1(gn),hi)}function e6(Te,ri,hi){Te=gc(Te),ri=e0(ri);var an=ri?hd(Te):0;return ri&&an<ri?Te+I1(ri-an,hi):Te}function t6(Te,ri,hi){Te=gc(Te),ri=e0(ri);var an=ri?hd(Te):0;return ri&&an<ri?I1(ri-an,hi)+Te:Te}function r6(Te,ri,hi){return hi||ri==null?ri=0:ri&&(ri=+ri),h2(gc(Te).replace(Xh,""),ri||0)}function i6(Te,ri,hi){return(hi?Hc(Te,ri,hi):ri===i)?ri=1:ri=e0(ri),bp(gc(Te),ri)}function n6(){var Te=arguments,ri=gc(Te[0]);return Te.length<3?ri:ri.replace(Te[1],Te[2])}var s6=md(function(Te,ri,hi){return Te+(hi?"_":"")+ri.toLowerCase()});function a6(Te,ri,hi){return hi&&typeof hi!="number"&&Hc(Te,ri,hi)&&(ri=hi=i),hi=hi===i?Y:hi>>>0,hi?(Te=gc(Te),Te&&(typeof ri=="string"||ri!=null&&!jp(ri))&&(ri=el(ri),!ri&&fd(Te))?jl(dl(Te),0,hi):Te.split(ri,hi)):[]}var o6=md(function(Te,ri,hi){return Te+(hi?" ":"")+Hp(ri)});function f6(Te,ri,hi){return Te=gc(Te),hi=hi==null?0:Yl(e0(hi),0,Te.length),ri=el(ri),Te.slice(hi,hi+ri.length)==ri}function h6(Te,ri,hi){var an=Cn.templateSettings;hi&&Hc(Te,ri,hi)&&(ri=i),Te=gc(Te),ri=j1({},ri,an,pm);var gn=j1({},ri.imports,an.imports,pm),Ya=kc(gn),Do=tp(gn,Ya),To,Qf,Th=0,Nh=ri.interpolate||sc,Lh="__p += '",Gh=ip((ri.escape||sc).source+"|"+Nh.source+"|"+(Nh===Qh?$h:sc).source+"|"+(ri.evaluate||sc).source+"|$","g"),hu="//# sourceURL="+(bc.call(ri,"sourceURL")?(ri.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++G1+"]")+`
`;Te.replace(Gh,function(Lu,o0,nc,rl,Kc,il){return nc||(nc=rl),Lh+=Te.slice(Th,il).replace(uc,xg),o0&&(To=!0,Lh+=`' +
__e(`+o0+`) +
'`),Kc&&(Qf=!0,Lh+=`';
`+Kc+`;
__p += '`),nc&&(Lh+=`' +
((__t = (`+nc+`)) == null ? '' : __t) +
'`),Th=il+Lu.length,Lu}),Lh+=`';
`;var ku=bc.call(ri,"variable")&&ri.variable;if(!ku)Lh=`with (obj) {
`+Lh+`
}
`;else if(Uu.test(ku))throw new zu(ei);Lh=(Qf?Lh.replace(uu,""):Lh).replace(Dh,"$1").replace(Mh,"$1;"),Lh="function("+(ku||"obj")+`) {
`+(ku?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(To?", __e = _.escape":"")+(Qf?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Lh+`return __p
}`;var t0=ag(function(){return mc(Ya,hu+"return "+Lh).apply(i,Do)});if(t0.source=Lh,Up(t0))throw t0;return t0}function u6(Te){return gc(Te).toLowerCase()}function c6(Te){return gc(Te).toUpperCase()}function l6(Te,ri,hi){if(Te=gc(Te),Te&&(hi||ri===i))return vv(Te);if(!Te||!(ri=el(ri)))return Te;var an=dl(Te),gn=dl(ri),Ya=mv(an,gn),Do=gv(an,gn)+1;return jl(an,Ya,Do).join("")}function d6(Te,ri,hi){if(Te=gc(Te),Te&&(hi||ri===i))return Te.slice(0,yv(Te)+1);if(!Te||!(ri=el(ri)))return Te;var an=dl(Te),gn=gv(an,dl(ri))+1;return jl(an,0,gn).join("")}function p6(Te,ri,hi){if(Te=gc(Te),Te&&(hi||ri===i))return Te.replace(Xh,"");if(!Te||!(ri=el(ri)))return Te;var an=dl(Te),gn=mv(an,dl(ri));return jl(an,gn).join("")}function v6(Te,ri){var hi=ko,an=ii;if($c(ri)){var gn="separator"in ri?ri.separator:gn;hi="length"in ri?e0(ri.length):hi,an="omission"in ri?el(ri.omission):an}Te=gc(Te);var Ya=Te.length;if(fd(Te)){var Do=dl(Te);Ya=Do.length}if(hi>=Ya)return Te;var To=hi-hd(an);if(To<1)return an;var Qf=Do?jl(Do,0,To).join(""):Te.slice(0,To);if(gn===i)return Qf+an;if(Do&&(To+=Qf.length-To),jp(gn)){if(Te.slice(To).search(gn)){var Th,Nh=Qf;for(gn.global||(gn=ip(gn.source,gc(au.exec(gn))+"g")),gn.lastIndex=0;Th=gn.exec(Nh);)var Lh=Th.index;Qf=Qf.slice(0,Lh===i?To:Lh)}}else if(Te.indexOf(el(gn),To)!=To){var Gh=Qf.lastIndexOf(gn);Gh>-1&&(Qf=Qf.slice(0,Gh))}return Qf+an}function m6(Te){return Te=gc(Te),Te&&Xf.test(Te)?Te.replace(qu,Dg):Te}var g6=md(function(Te,ri,hi){return Te+(hi?" ":"")+ri.toUpperCase()}),Hp=om("toUpperCase");function sg(Te,ri,hi){return Te=gc(Te),ri=hi?i:ri,ri===i?Ag(Te)?Og(Te):vg(Te):Te.match(ri)||[]}var ag=s0(function(Te,ri){try{return Nc(Te,i,ri)}catch(hi){return Up(hi)?hi:new zu(hi)}}),b6=Rl(function(Te,ri){return sl(ri,function(hi){hi=Ml(hi),Sl(Te,hi,kp(Te[hi],Te))}),Te});function y6(Te){var ri=Te==null?0:Te.length,hi=Tu();return Te=ri?Sc(Te,function(an){if(typeof an[1]!="function")throw new al(Wr);return[hi(an[0]),an[1]]}):[],s0(function(an){for(var gn=-1;++gn<ri;){var Ya=Te[gn];if(Nc(Ya[0],this,an))return Nc(Ya[1],this,an)}})}function w6(Te){return K2(fl(Te,si))}function Kp(Te){return function(){return Te}}function _6(Te,ri){return Te==null||Te!==Te?ri:Te}var M6=hm(),x6=hm(!0);function Qc(Te){return Te}function Vp(Te){return Lv(typeof Te=="function"?Te:fl(Te,si))}function E6(Te){return jv(fl(Te,si))}function A6(Te,ri){return zv(Te,fl(ri,si))}var S6=s0(function(Te,ri){return function(hi){return Bd(hi,Te,ri)}}),$6=s0(function(Te,ri){return function(hi){return Bd(Te,hi,ri)}});function Gp(Te,ri,hi){var an=kc(ri),gn=M1(ri,an);hi==null&&!($c(ri)&&(gn.length||!an.length))&&(hi=ri,ri=Te,Te=this,gn=M1(ri,kc(ri)));var Ya=!($c(hi)&&"chain"in hi)||!!hi.chain,Do=Dl(Te);return sl(gn,function(To){var Qf=ri[To];Te[To]=Qf,Do&&(Te.prototype[To]=function(){var Th=this.__chain__;if(Ya||Th){var Nh=Te(this.__wrapped__),Lh=Nh.__actions__=Wc(this.__actions__);return Lh.push({func:Qf,args:arguments,thisArg:Te}),Nh.__chain__=Th,Nh}return Qf.apply(Te,Ol([this.value()],arguments))})}),Te}function R6(){return ic._===this&&(ic._=e2),this}function Wp(){}function I6(Te){return Te=e0(Te),s0(function(ri){return Fv(ri,Te)})}var D6=Ap(Sc),q6=Ap(Yp),B6=Ap(Z1);function og(Te){return Bp(Te)?Q1(Ml(Te)):fb(Te)}function P6(Te){return function(ri){return Te==null?i:Xl(Te,ri)}}var C6=cm(),O6=cm(!0);function Jp(){return[]}function Zp(){return!1}function T6(){return{}}function N6(){return""}function k6(){return!0}function L6(Te,ri){if(Te=e0(Te),Te<1||Te>ti)return[];var hi=Y,an=Uc(Te,Y);ri=Tu(ri),Te-=Y;for(var gn=ep(an,ri);++hi<Te;)ri(hi);return gn}function U6(Te){return Hu(Te)?Sc(Te,Ml):tl(Te)?[Te]:Wc($m(gc(Te)))}function j6(Te){var ri=++Ug;return gc(Te)+ri}var z6=R1(function(Te,ri){return Te+ri},0),F6=Sp("ceil"),H6=R1(function(Te,ri){return Te/ri},1),K6=Sp("floor");function V6(Te){return Te&&Te.length?w1(Te,Qc,cp):i}function G6(Te,ri){return Te&&Te.length?w1(Te,Tu(ri,2),cp):i}function W6(Te){return dv(Te,Qc)}function J6(Te,ri){return dv(Te,Tu(ri,2))}function Z6(Te){return Te&&Te.length?w1(Te,Qc,vp):i}function Q6(Te,ri){return Te&&Te.length?w1(Te,Tu(ri,2),vp):i}var Y6=R1(function(Te,ri){return Te*ri},1),X6=Sp("round"),e5=R1(function(Te,ri){return Te-ri},0);function t5(Te){return Te&&Te.length?X1(Te,Qc):0}function r5(Te,ri){return Te&&Te.length?X1(Te,Tu(ri,2)):0}return Cn.after=E3,Cn.ary=km,Cn.assign=cw,Cn.assignIn=Ym,Cn.assignInWith=j1,Cn.assignWith=lw,Cn.at=dw,Cn.before=Lm,Cn.bind=kp,Cn.bindAll=b6,Cn.bindKey=Um,Cn.castArray=T3,Cn.chain=Om,Cn.chunk=Kb,Cn.compact=Vb,Cn.concat=Gb,Cn.cond=y6,Cn.conforms=w6,Cn.constant=Kp,Cn.countBy=t3,Cn.create=pw,Cn.curry=jm,Cn.curryRight=zm,Cn.debounce=Fm,Cn.defaults=vw,Cn.defaultsDeep=mw,Cn.defer=A3,Cn.delay=S3,Cn.difference=Wb,Cn.differenceBy=Jb,Cn.differenceWith=Zb,Cn.drop=Qb,Cn.dropRight=Yb,Cn.dropRightWhile=Xb,Cn.dropWhile=ey,Cn.fill=ty,Cn.filter=i3,Cn.flatMap=a3,Cn.flatMapDeep=o3,Cn.flatMapDepth=f3,Cn.flatten=qm,Cn.flattenDeep=ry,Cn.flattenDepth=iy,Cn.flip=$3,Cn.flow=M6,Cn.flowRight=x6,Cn.fromPairs=ny,Cn.functions=xw,Cn.functionsIn=Ew,Cn.groupBy=h3,Cn.initial=ay,Cn.intersection=oy,Cn.intersectionBy=fy,Cn.intersectionWith=hy,Cn.invert=Sw,Cn.invertBy=$w,Cn.invokeMap=c3,Cn.iteratee=Vp,Cn.keyBy=l3,Cn.keys=kc,Cn.keysIn=Zc,Cn.map=O1,Cn.mapKeys=Iw,Cn.mapValues=Dw,Cn.matches=E6,Cn.matchesProperty=A6,Cn.memoize=N1,Cn.merge=qw,Cn.mergeWith=Xm,Cn.method=S6,Cn.methodOf=$6,Cn.mixin=Gp,Cn.negate=k1,Cn.nthArg=I6,Cn.omit=Bw,Cn.omitBy=Pw,Cn.once=R3,Cn.orderBy=d3,Cn.over=D6,Cn.overArgs=I3,Cn.overEvery=q6,Cn.overSome=B6,Cn.partial=Lp,Cn.partialRight=Hm,Cn.partition=p3,Cn.pick=Cw,Cn.pickBy=eg,Cn.property=og,Cn.propertyOf=P6,Cn.pull=dy,Cn.pullAll=Pm,Cn.pullAllBy=py,Cn.pullAllWith=vy,Cn.pullAt=my,Cn.range=C6,Cn.rangeRight=O6,Cn.rearg=D3,Cn.reject=g3,Cn.remove=gy,Cn.rest=q3,Cn.reverse=Tp,Cn.sampleSize=y3,Cn.set=Tw,Cn.setWith=Nw,Cn.shuffle=w3,Cn.slice=by,Cn.sortBy=x3,Cn.sortedUniq=Ay,Cn.sortedUniqBy=Sy,Cn.split=a6,Cn.spread=B3,Cn.tail=$y,Cn.take=Ry,Cn.takeRight=Iy,Cn.takeRightWhile=Dy,Cn.takeWhile=qy,Cn.tap=Vy,Cn.throttle=P3,Cn.thru=C1,Cn.toArray=Jm,Cn.toPairs=tg,Cn.toPairsIn=rg,Cn.toPath=U6,Cn.toPlainObject=Qm,Cn.transform=kw,Cn.unary=C3,Cn.union=By,Cn.unionBy=Py,Cn.unionWith=Cy,Cn.uniq=Oy,Cn.uniqBy=Ty,Cn.uniqWith=Ny,Cn.unset=Lw,Cn.unzip=Np,Cn.unzipWith=Cm,Cn.update=Uw,Cn.updateWith=jw,Cn.values=yd,Cn.valuesIn=zw,Cn.without=ky,Cn.words=sg,Cn.wrap=O3,Cn.xor=Ly,Cn.xorBy=Uy,Cn.xorWith=jy,Cn.zip=zy,Cn.zipObject=Fy,Cn.zipObjectDeep=Hy,Cn.zipWith=Ky,Cn.entries=tg,Cn.entriesIn=rg,Cn.extend=Ym,Cn.extendWith=j1,Gp(Cn,Cn),Cn.add=z6,Cn.attempt=ag,Cn.camelCase=Vw,Cn.capitalize=ig,Cn.ceil=F6,Cn.clamp=Fw,Cn.clone=N3,Cn.cloneDeep=L3,Cn.cloneDeepWith=U3,Cn.cloneWith=k3,Cn.conformsTo=j3,Cn.deburr=ng,Cn.defaultTo=_6,Cn.divide=H6,Cn.endsWith=Gw,Cn.eq=vl,Cn.escape=Ww,Cn.escapeRegExp=Jw,Cn.every=r3,Cn.find=n3,Cn.findIndex=Im,Cn.findKey=gw,Cn.findLast=s3,Cn.findLastIndex=Dm,Cn.findLastKey=bw,Cn.floor=K6,Cn.forEach=Tm,Cn.forEachRight=Nm,Cn.forIn=yw,Cn.forInRight=ww,Cn.forOwn=_w,Cn.forOwnRight=Mw,Cn.get=zp,Cn.gt=z3,Cn.gte=F3,Cn.has=Aw,Cn.hasIn=Fp,Cn.head=Bm,Cn.identity=Qc,Cn.includes=u3,Cn.indexOf=sy,Cn.inRange=Hw,Cn.invoke=Rw,Cn.isArguments=rd,Cn.isArray=Hu,Cn.isArrayBuffer=H3,Cn.isArrayLike=Jc,Cn.isArrayLikeObject=Dc,Cn.isBoolean=K3,Cn.isBuffer=zl,Cn.isDate=V3,Cn.isElement=G3,Cn.isEmpty=W3,Cn.isEqual=J3,Cn.isEqualWith=Z3,Cn.isError=Up,Cn.isFinite=Q3,Cn.isFunction=Dl,Cn.isInteger=Km,Cn.isLength=L1,Cn.isMap=Vm,Cn.isMatch=Y3,Cn.isMatchWith=X3,Cn.isNaN=ew,Cn.isNative=tw,Cn.isNil=iw,Cn.isNull=rw,Cn.isNumber=Gm,Cn.isObject=$c,Cn.isObjectLike=Rc,Cn.isPlainObject=kd,Cn.isRegExp=jp,Cn.isSafeInteger=nw,Cn.isSet=Wm,Cn.isString=U1,Cn.isSymbol=tl,Cn.isTypedArray=bd,Cn.isUndefined=sw,Cn.isWeakMap=aw,Cn.isWeakSet=ow,Cn.join=uy,Cn.kebabCase=Zw,Cn.last=ul,Cn.lastIndexOf=cy,Cn.lowerCase=Qw,Cn.lowerFirst=Yw,Cn.lt=fw,Cn.lte=hw,Cn.max=V6,Cn.maxBy=G6,Cn.mean=W6,Cn.meanBy=J6,Cn.min=Z6,Cn.minBy=Q6,Cn.stubArray=Jp,Cn.stubFalse=Zp,Cn.stubObject=T6,Cn.stubString=N6,Cn.stubTrue=k6,Cn.multiply=Y6,Cn.nth=ly,Cn.noConflict=R6,Cn.noop=Wp,Cn.now=T1,Cn.pad=Xw,Cn.padEnd=e6,Cn.padStart=t6,Cn.parseInt=r6,Cn.random=Kw,Cn.reduce=v3,Cn.reduceRight=m3,Cn.repeat=i6,Cn.replace=n6,Cn.result=Ow,Cn.round=X6,Cn.runInContext=jf,Cn.sample=b3,Cn.size=_3,Cn.snakeCase=s6,Cn.some=M3,Cn.sortedIndex=yy,Cn.sortedIndexBy=wy,Cn.sortedIndexOf=_y,Cn.sortedLastIndex=My,Cn.sortedLastIndexBy=xy,Cn.sortedLastIndexOf=Ey,Cn.startCase=o6,Cn.startsWith=f6,Cn.subtract=e5,Cn.sum=t5,Cn.sumBy=r5,Cn.template=h6,Cn.times=L6,Cn.toFinite=ql,Cn.toInteger=e0,Cn.toLength=Zm,Cn.toLower=u6,Cn.toNumber=cl,Cn.toSafeInteger=uw,Cn.toString=gc,Cn.toUpper=c6,Cn.trim=l6,Cn.trimEnd=d6,Cn.trimStart=p6,Cn.truncate=v6,Cn.unescape=m6,Cn.uniqueId=j6,Cn.upperCase=g6,Cn.upperFirst=Hp,Cn.each=Tm,Cn.eachRight=Nm,Cn.first=Bm,Gp(Cn,function(){var Te={};return wl(Cn,function(ri,hi){bc.call(Cn.prototype,hi)||(Te[hi]=ri)}),Te}(),{chain:!1}),Cn.VERSION=P,sl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(Te){Cn[Te].placeholder=Cn}),sl(["drop","take"],function(Te,ri){rc.prototype[Te]=function(hi){hi=hi===i?1:Oc(e0(hi),0);var an=this.__filtered__&&!ri?new rc(this):this.clone();return an.__filtered__?an.__takeCount__=Uc(hi,an.__takeCount__):an.__views__.push({size:Uc(hi,Y),type:Te+(an.__dir__<0?"Right":"")}),an},rc.prototype[Te+"Right"]=function(hi){return this.reverse()[Te](hi).reverse()}}),sl(["filter","map","takeWhile"],function(Te,ri){var hi=ri+1,an=hi==H||hi==Ne;rc.prototype[Te]=function(gn){var Ya=this.clone();return Ya.__iteratees__.push({iteratee:Tu(gn,3),type:hi}),Ya.__filtered__=Ya.__filtered__||an,Ya}}),sl(["head","last"],function(Te,ri){var hi="take"+(ri?"Right":"");rc.prototype[Te]=function(){return this[hi](1).value()[0]}}),sl(["initial","tail"],function(Te,ri){var hi="drop"+(ri?"":"Right");rc.prototype[Te]=function(){return this.__filtered__?new rc(this):this[hi](1)}}),rc.prototype.compact=function(){return this.filter(Qc)},rc.prototype.find=function(Te){return this.filter(Te).head()},rc.prototype.findLast=function(Te){return this.reverse().find(Te)},rc.prototype.invokeMap=s0(function(Te,ri){return typeof Te=="function"?new rc(this):this.map(function(hi){return Bd(hi,Te,ri)})}),rc.prototype.reject=function(Te){return this.filter(k1(Tu(Te)))},rc.prototype.slice=function(Te,ri){Te=e0(Te);var hi=this;return hi.__filtered__&&(Te>0||ri<0)?new rc(hi):(Te<0?hi=hi.takeRight(-Te):Te&&(hi=hi.drop(Te)),ri!==i&&(ri=e0(ri),hi=ri<0?hi.dropRight(-ri):hi.take(ri-Te)),hi)},rc.prototype.takeRightWhile=function(Te){return this.reverse().takeWhile(Te).reverse()},rc.prototype.toArray=function(){return this.take(Y)},wl(rc.prototype,function(Te,ri){var hi=/^(?:filter|find|map|reject)|While$/.test(ri),an=/^(?:head|last)$/.test(ri),gn=Cn[an?"take"+(ri=="last"?"Right":""):ri],Ya=an||/^find/.test(ri);gn&&(Cn.prototype[ri]=function(){var Do=this.__wrapped__,To=an?[1]:arguments,Qf=Do instanceof rc,Th=To[0],Nh=Qf||Hu(Do),Lh=function(o0){var nc=gn.apply(Cn,Ol([o0],To));return an&&Gh?nc[0]:nc};Nh&&hi&&typeof Th=="function"&&Th.length!=1&&(Qf=Nh=!1);var Gh=this.__chain__,hu=!!this.__actions__.length,ku=Ya&&!Gh,t0=Qf&&!hu;if(!Ya&&Nh){Do=t0?Do:new rc(this);var Lu=Te.apply(Do,To);return Lu.__actions__.push({func:C1,args:[Lh],thisArg:i}),new ol(Lu,Gh)}return ku&&t0?Te.apply(this,To):(Lu=this.thru(Lh),ku?an?Lu.value()[0]:Lu.value():Lu)})}),sl(["pop","push","shift","sort","splice","unshift"],function(Te){var ri=s1[Te],hi=/^(?:push|sort|unshift)$/.test(Te)?"tap":"thru",an=/^(?:pop|shift)$/.test(Te);Cn.prototype[Te]=function(){var gn=arguments;if(an&&!this.__chain__){var Ya=this.value();return ri.apply(Hu(Ya)?Ya:[],gn)}return this[hi](function(Do){return ri.apply(Hu(Do)?Do:[],gn)})}}),wl(rc.prototype,function(Te,ri){var hi=Cn[ri];if(hi){var an=hi.name+"";bc.call(dd,an)||(dd[an]=[]),dd[an].push({name:ri,func:hi})}}),dd[$1(i,hn).name]=[{name:"wrapper",func:i}],rc.prototype.clone=m2,rc.prototype.reverse=g2,rc.prototype.value=b2,Cn.prototype.at=Gy,Cn.prototype.chain=Wy,Cn.prototype.commit=Jy,Cn.prototype.next=Zy,Cn.prototype.plant=Yy,Cn.prototype.reverse=Xy,Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=e3,Cn.prototype.first=Cn.prototype.head,Ad&&(Cn.prototype[Ad]=Qy),Cn},ud=Tg();Ic?((Ic.exports=ud)._=ud,Mc._=ud):ic._=ud}).call(ge)})(Ui,Ui.exports);var zg=Object.defineProperty,Kg=Object.defineProperties,Yg=Object.getOwnPropertyDescriptors,ya=Object.getOwnPropertySymbols,Zg=Object.prototype.hasOwnProperty,Jg=Object.prototype.propertyIsEnumerable,Sa=(r,e,i)=>e in r?zg(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,cr=(r,e)=>{for(var i in e||(e={}))Zg.call(e,i)&&Sa(r,i,e[i]);if(ya)for(var i of ya(e))Jg.call(e,i)&&Sa(r,i,e[i]);return r},Xg=(r,e)=>Kg(r,Yg(e));function ft(r,e,i){var P;const W=dn(r);return((P=e.rpcMap)==null?void 0:P[W.reference])||`${Gg}?chainId=${W.namespace}:${W.reference}&projectId=${i}`}function Ct(r){return r.includes(":")?r.split(":")[1]:r}function Oa(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Qg(r,e){const i=Object.keys(e.namespaces).filter(W=>W.includes(r));if(!i.length)return[];const P=[];return i.forEach(W=>{const R=e.namespaces[W].accounts;P.push(...R)}),P}function Wi(r={},e={}){const i=Ra(r),P=Ra(e);return Ui.exports.merge(i,P)}function Ra(r){var e,i,P,W;const R={};if(!Yr(r))return R;for(const[Wr,ei]of Object.entries(r)){const ni=Zi$1(Wr)?[Wr]:ei.chains,Xr=ei.methods||[],Zr=ei.events||[],si=ei.rpcMap||{},oi=vo(Wr);R[oi]=Xg(cr(cr({},R[oi]),ei),{chains:ge$2(ni,(e=R[oi])==null?void 0:e.chains),methods:ge$2(Xr,(i=R[oi])==null?void 0:i.methods),events:ge$2(Zr,(P=R[oi])==null?void 0:P.events),rpcMap:cr(cr({},si),(W=R[oi])==null?void 0:W.rpcMap)})}return R}function Vg(r){return r.includes(":")?r.split(":")[2]:r}function ba(r){const e={};for(const[i,P]of Object.entries(r)){const W=P.methods||[],R=P.events||[],Wr=P.accounts||[],ei=Zi$1(i)?[i]:P.chains?P.chains:Oa(P.accounts);e[i]={chains:ei,methods:W,events:R,accounts:Wr}}return e}function Fi(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const Ta={},z$1=r=>Ta[r],Mi=(r,e)=>{Ta[r]=e};class kg{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=z$1("events"),this.client=z$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,i){this.httpProviders[e]||this.setHttpProvider(e,i),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(i=>{var P;const W=Ct(i);e[W]=this.createHttpProvider(W,(P=this.namespace.rpcMap)==null?void 0:P[i])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,i=this.httpProviders[e];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,i){const P=this.createHttpProvider(e,i);P&&(this.httpProviders[e]=P)}createHttpProvider(e,i){const P=i||ft(e,this.namespace,this.client.core.projectId);if(!P)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(P,z$1("disableProviderPing")))}}class jg{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=z$1("events"),this.client=z$1("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,i){this.httpProviders[e]||this.setHttpProvider(parseInt(e),i),this.chainId=parseInt(e),this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,i){const P=i||ft(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!P)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(P,z$1("disableProviderPing")))}setHttpProvider(e,i){const P=this.createHttpProvider(e,i);P&&(this.httpProviders[e]=P)}createHttpProviders(){const e={};return this.namespace.chains.forEach(i=>{var P;const W=parseInt(Ct(i));e[W]=this.createHttpProvider(W,(P=this.namespace.rpcMap)==null?void 0:P[i])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,i=this.httpProviders[e];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return i}async handleSwitchChain(e){var i,P;let W=e.request.params?(i=e.request.params[0])==null?void 0:i.chainId:"0x0";W=W.startsWith("0x")?W:`0x${W}`;const R=parseInt(W,16);if(this.isChainApproved(R))this.setDefaultChain(`${R}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:W}]},chainId:(P=this.namespace.chains)==null?void 0:P[0]}),this.setDefaultChain(`${R}`);else throw new Error(`Failed to switch to chain 'eip155:${R}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class nv{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=z$1("events"),this.client=z$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,i){this.httpProviders[e]||this.setHttpProvider(e,i),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(i=>{var P;const W=Ct(i);e[W]=this.createHttpProvider(W,(P=this.namespace.rpcMap)==null?void 0:P[i])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,i=this.httpProviders[e];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,i){const P=this.createHttpProvider(e,i);P&&(this.httpProviders[e]=P)}createHttpProvider(e,i){const P=i||ft(e,this.namespace,this.client.core.projectId);if(!P)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(P,z$1("disableProviderPing")))}}class tv{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=z$1("events"),this.client=z$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,i){this.httpProviders[e]||this.setHttpProvider(e,i),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(i=>{var P;const W=Ct(i);e[W]=this.createHttpProvider(W,(P=this.namespace.rpcMap)==null?void 0:P[i])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,i=this.httpProviders[e];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,i){const P=this.createHttpProvider(e,i);P&&(this.httpProviders[e]=P)}createHttpProvider(e,i){const P=i||ft(e,this.namespace,this.client.core.projectId);if(!P)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(P,z$1("disableProviderPing")))}}class ev{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=z$1("events"),this.client=z$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,i){this.httpProviders[e]||this.setHttpProvider(e,i),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(i=>{const P=this.getCardanoRPCUrl(i),W=Ct(i);e[W]=this.createHttpProvider(W,P)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,i=this.httpProviders[e];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return i}getCardanoRPCUrl(e){const i=this.namespace.rpcMap;if(i)return i[e]}setHttpProvider(e,i){const P=this.createHttpProvider(e,i);P&&(this.httpProviders[e]=P)}createHttpProvider(e,i){const P=i||this.getCardanoRPCUrl(e);if(!P)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(P,z$1("disableProviderPing")))}}class rv{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=z$1("events"),this.client=z$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,i){this.httpProviders[e]||this.setHttpProvider(e,i),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(i=>{var P;const W=Ct(i);e[W]=this.createHttpProvider(W,(P=this.namespace.rpcMap)==null?void 0:P[i])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,i=this.httpProviders[e];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,i){const P=this.createHttpProvider(e,i);P&&(this.httpProviders[e]=P)}createHttpProvider(e,i){const P=i||ft(e,this.namespace,this.client.core.projectId);if(!P)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(P,z$1("disableProviderPing")))}}class iv{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=z$1("events"),this.client=z$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,i){this.httpProviders[e]||this.setHttpProvider(e,i),this.chainId=e,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(i=>{var P;const W=Ct(i);e[W]=this.createHttpProvider(W,(P=this.namespace.rpcMap)==null?void 0:P[i])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,i=this.httpProviders[e];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,i){const P=this.createHttpProvider(e,i);P&&(this.httpProviders[e]=P)}createHttpProvider(e,i){const P=i||ft(e,this.namespace,this.client.core.projectId);if(!P)throw new Error(`No RPC url provided for chainId: ${e}`);return new JsonRpcProvider(new HttpConnection(P,z$1("disableProviderPing")))}}class sv{constructor(e){this.name="near",this.namespace=e.namespace,this.events=z$1("events"),this.client=z$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,i){if(this.chainId=e,!this.httpProviders[e]){const P=i||ft(`${this.name}:${e}`,this.namespace);if(!P)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,P)}this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(i=>{var P;e[i]=this.createHttpProvider(i,(P=this.namespace.rpcMap)==null?void 0:P[i])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,i=this.httpProviders[e];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return i}setHttpProvider(e,i){const P=this.createHttpProvider(e,i);P&&(this.httpProviders[e]=P)}createHttpProvider(e,i){const P=i||ft(e,this.namespace);return typeof P>"u"?void 0:new JsonRpcProvider(new HttpConnection(P,z$1("disableProviderPing")))}}var uv=Object.defineProperty,av=Object.defineProperties,ov=Object.getOwnPropertyDescriptors,La=Object.getOwnPropertySymbols,fv=Object.prototype.hasOwnProperty,cv=Object.prototype.propertyIsEnumerable,Da=(r,e,i)=>e in r?uv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,hr=(r,e)=>{for(var i in e||(e={}))fv.call(e,i)&&Da(r,i,e[i]);if(La)for(var i of La(e))cv.call(e,i)&&Da(r,i,e[i]);return r},qi=(r,e)=>av(r,ov(e));class lr{constructor(e){this.events=new Wg,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Hg(E$2({level:(e==null?void 0:e.logger)||xa})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const i=new lr(e);return await i.initialize(),i}async request(e,i,P){const[W,R]=this.validateChain(i);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(W).request({request:hr({},e),chainId:`${W}:${R}`,topic:this.session.topic,expiry:P})}sendAsync(e,i,P,W){const R=new Date().getTime();this.request(e,P,W).then(Wr=>i(null,formatJsonRpcResult(R,Wr))).catch(Wr=>i(Wr,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:tr$1("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:P}=await this.client.authenticate(e);i&&(this.uri=i,this.events.emit("display_uri",i));const W=await P();if(this.session=W.session,this.session){const R=ba(this.session.namespaces);this.namespaces=Wi(this.namespaces,R),this.persist("namespaces",this.namespaces),this.onConnect()}return W}on(e,i){this.events.on(e,i)}once(e,i){this.events.once(e,i)}removeListener(e,i){this.events.removeListener(e,i)}off(e,i){this.events.off(e,i)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:P,approval:W}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});P&&(this.uri=P,this.events.emit("display_uri",P)),await W().then(R=>{this.session=R;const Wr=ba(R.namespaces);this.namespaces=Wi(this.namespaces,Wr),this.persist("namespaces",this.namespaces)}).catch(R=>{if(R.message!==Ue)throw R;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,i){try{if(!this.session)return;const[P,W]=this.validateChain(e);this.getProvider(P).setDefaultChain(W,i)}catch(P){if(!/Please call connect/.test(P.message))throw P}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const i=this.client.pairing.getAll();if(Er(i)){for(const P of i)e.deletePairings?this.client.core.expirer.set(P.topic,0):await this.client.core.relayer.subscriber.unsubscribe(P.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await ne.init({logger:this.providerOpts.logger||xa,relayUrl:this.providerOpts.relayUrl||Mg,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(i=>vo(i)))];Mi("client",this.client),Mi("events",this.events),Mi("disableProviderPing",this.disableProviderPing),e.forEach(i=>{if(!this.session)return;const P=Qg(i,this.session),W=Oa(P),R=Wi(this.namespaces,this.optionalNamespaces),Wr=qi(hr({},R[i]),{accounts:P,chains:W});switch(i){case"eip155":this.rpcProviders[i]=new jg({namespace:Wr});break;case"solana":this.rpcProviders[i]=new nv({namespace:Wr});break;case"cosmos":this.rpcProviders[i]=new tv({namespace:Wr});break;case"polkadot":this.rpcProviders[i]=new kg({namespace:Wr});break;case"cip34":this.rpcProviders[i]=new ev({namespace:Wr});break;case"elrond":this.rpcProviders[i]=new rv({namespace:Wr});break;case"multiversx":this.rpcProviders[i]=new iv({namespace:Wr});break;case"near":this.rpcProviders[i]=new sv({namespace:Wr});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:i}=e,{event:P}=i;if(P.name==="accountsChanged"){const W=P.data;W&&Er(W)&&this.events.emit("accountsChanged",W.map(Vg))}else if(P.name==="chainChanged"){const W=i.chainId,R=i.event.data,Wr=vo(W),ei=Fi(W)!==Fi(R)?`${Wr}:${Fi(R)}`:W;this.onChainChanged(ei)}else this.events.emit(P.name,P.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:i})=>{var P;const{namespaces:W}=i,R=(P=this.client)==null?void 0:P.session.get(e);this.session=qi(hr({},R),{namespaces:W}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:i})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",qi(hr({},tr$1("USER_DISCONNECTED")),{data:e.topic}))}),this.on(Vn.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw new Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var i;this.getProvider(e).updateNamespace((i=this.session)==null?void 0:i.namespaces[e])})}setNamespaces(e){const{namespaces:i,optionalNamespaces:P,sessionProperties:W}=e;i&&Object.keys(i).length&&(this.namespaces=i),P&&Object.keys(P).length&&(this.optionalNamespaces=P),this.sessionProperties=W,this.persist("namespaces",i),this.persist("optionalNamespaces",P)}validateChain(e){const[i,P]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,P];if(i&&!Object.keys(this.namespaces||{}).map(Wr=>vo(Wr)).includes(i))throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&P)return[i,P];const W=vo(Object.keys(this.namespaces)[0]),R=this.rpcProviders[W].getDefaultChain();return[W,R]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,i=!1){if(!this.namespaces)return;const[P,W]=this.validateChain(e);W&&(i||this.getProvider(P).setDefaultChain(W),this.namespaces[P]?this.namespaces[P].defaultChain=W:this.namespaces[`${P}:${W}`]?this.namespaces[`${P}:${W}`].defaultChain=W:this.namespaces[`${P}:${W}`]={defaultChain:W},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",W))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,i){this.client.core.storage.setItem(`${Ea}/${e}`,i)}async getFromStore(e){return await this.client.core.storage.getItem(`${Ea}/${e}`)}}const hv=lr,T="wc",S="ethereum_provider",$=`${T}@2:${S}:`,j="https://rpc.walletconnect.com/v1/",u=["eth_sendTransaction","personal_sign"],_=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],g=["chainChanged","accountsChanged"],M=["chainChanged","accountsChanged","message","disconnect","connect"];var q=Object.defineProperty,N=Object.defineProperties,D=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,b=(r,e,i)=>e in r?q(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,p=(r,e)=>{for(var i in e||(e={}))U.call(e,i)&&b(r,i,e[i]);if(O)for(var i of O(e))Q.call(e,i)&&b(r,i,e[i]);return r},E=(r,e)=>N(r,D(e));function m(r){return Number(r[0].split(":")[1])}function v(r){return`0x${r.toString(16)}`}function L(r){const{chains:e,optionalChains:i,methods:P,optionalMethods:W,events:R,optionalEvents:Wr,rpcMap:ei}=r;if(!Er(e))throw new Error("Invalid chains");const ni={chains:e,methods:P||u,events:R||g,rpcMap:p({},e.length?{[m(e)]:ei[m(e)]}:{})},Xr=R==null?void 0:R.filter(ai=>!g.includes(ai)),Zr=P==null?void 0:P.filter(ai=>!u.includes(ai));if(!i&&!Wr&&!W&&!(Xr!=null&&Xr.length)&&!(Zr!=null&&Zr.length))return{required:e.length?ni:void 0};const si=(Xr==null?void 0:Xr.length)&&(Zr==null?void 0:Zr.length)||!i,oi={chains:[...new Set(si?ni.chains.concat(i||[]):i)],methods:[...new Set(ni.methods.concat(W!=null&&W.length?W:_))],events:[...new Set(ni.events.concat(Wr!=null&&Wr.length?Wr:M))],rpcMap:ei};return{required:e.length?ni:void 0,optional:i.length?oi:void 0}}class C{constructor(){this.events=new eventsExports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=$,this.on=(e,i)=>(this.events.on(e,i),this),this.once=(e,i)=>(this.events.once(e,i),this),this.removeListener=(e,i)=>(this.events.removeListener(e,i),this),this.off=(e,i)=>(this.events.off(e,i),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const i=new C;return await i.initialize(e),i}async request(e,i){return await this.signer.request(e,this.formatChainId(this.chainId),i)}sendAsync(e,i,P){this.signer.sendAsync(e,i,this.formatChainId(this.chainId),P)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:i,optional:P}=L(this.rpc);try{const W=await new Promise(async(Wr,ei)=>{var ni;this.rpc.showQrModal&&((ni=this.modal)==null||ni.subscribeModal(Xr=>{!Xr.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),ei(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(E(p({namespaces:p({},i&&{[this.namespace]:i})},P&&{optionalNamespaces:{[this.namespace]:P}}),{pairingTopic:e==null?void 0:e.pairingTopic})).then(Xr=>{Wr(Xr)}).catch(Xr=>{ei(new Error(Xr.message))})});if(!W)return;const R=zo(W.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:R),this.setAccounts(R),this.events.emit("connect",{chainId:v(this.chainId)})}catch(W){throw this.signer.logger.error(W),W}finally{this.modal&&this.modal.closeModal()}}async authenticate(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(W,R)=>{var Wr;this.rpc.showQrModal&&((Wr=this.modal)==null||Wr.subscribeModal(ei=>{!ei.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),R(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(E(p({},e),{chains:this.rpc.chains})).then(ei=>{W(ei)}).catch(ei=>{R(new Error(ei.message))})}),P=i.session;if(P){const W=zo(P.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:W),this.setAccounts(W),this.events.emit("connect",{chainId:v(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:i}=e,{event:P}=i;P.name==="accountsChanged"?(this.accounts=this.parseAccounts(P.data),this.events.emit("accountsChanged",this.accounts)):P.name==="chainChanged"?this.setChainId(this.formatChainId(P.data)):this.events.emit(P.name,P.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const i=parseInt(e);this.chainId=i,this.events.emit("chainChanged",v(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",E(p({},tr$1("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var i,P;this.rpc.showQrModal&&((i=this.modal)==null||i.closeModal(),(P=this.modal)==null||P.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const i=e.filter(P=>this.isCompatibleChainId(P)).map(P=>this.parseChainId(P));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",v(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const i=this.parseChainId(e);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(e){const[i,P,W]=e.split(":");return{chainId:`${i}:${P}`,address:W}}setAccounts(e){this.accounts=e.filter(i=>this.parseChainId(this.parseAccountId(i).chainId)===this.chainId).map(i=>this.parseAccountId(i).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var i,P;const W=(i=e==null?void 0:e.chains)!=null?i:[],R=(P=e==null?void 0:e.optionalChains)!=null?P:[],Wr=W.concat(R);if(!Wr.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const ei=W.length?(e==null?void 0:e.methods)||u:[],ni=W.length?(e==null?void 0:e.events)||g:[],Xr=(e==null?void 0:e.optionalMethods)||[],Zr=(e==null?void 0:e.optionalEvents)||[],si=(e==null?void 0:e.rpcMap)||this.buildRpcMap(Wr,e.projectId),oi=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:W==null?void 0:W.map(ai=>this.formatChainId(ai)),optionalChains:R.map(ai=>this.formatChainId(ai)),methods:ei,events:ni,optionalMethods:Xr,optionalEvents:Zr,rpcMap:si,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:oi,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,i){const P={};return e.forEach(W=>{P[W]=this.getRpcUrl(W,i)}),P}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?m(this.rpc.chains):m(this.rpc.optionalChains),this.signer=await hv.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let i;try{const{WalletConnectModal:P}=await __vitePreload(()=>import("./index-CFR2DadP.js").then(W=>W.i),__vite__mapDeps([0,1,2]));i=P}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(i)try{this.modal=new i(p({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(P){throw this.signer.logger.error(P),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:i,optionalChains:P,rpcMap:W}=e;i&&Er(i)&&(this.rpc.chains=i.map(R=>this.formatChainId(R)),i.forEach(R=>{this.rpc.rpcMap[R]=(W==null?void 0:W[R])||this.getRpcUrl(R)})),P&&Er(P)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=P==null?void 0:P.map(R=>this.formatChainId(R)),P.forEach(R=>{this.rpc.rpcMap[R]=(W==null?void 0:W[R])||this.getRpcUrl(R)}))}getRpcUrl(e,i){var P;return((P=this.rpc.rpcMap)==null?void 0:P[e])||`${j}?chainId=eip155:${e}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:i==null?void 0:i.accounts),this.setAccounts(i==null?void 0:i.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(i=>this.signer.logger.warn(i))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(i=>this.parseAccount(i))}}const z=C;export{z as EthereumProvider,M as OPTIONAL_EVENTS,_ as OPTIONAL_METHODS,g as REQUIRED_EVENTS,u as REQUIRED_METHODS,C as default};
