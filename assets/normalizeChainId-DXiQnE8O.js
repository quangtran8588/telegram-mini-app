import{a5 as E,w as _,a6 as D,K as y,a7 as w,c as v,a8 as T}from"./index-XK7NxMBp.js";const R=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function C(e){const{domain:n,message:s,primaryType:i,types:t}=e,p=(c,h)=>{for(const g of c){const{name:b,type:o}=g,r=h[b],f=o.match($);if(f&&(typeof r=="number"||typeof r=="bigint")){const[I,a,P]=f;E(r,{signed:a==="int",size:parseInt(P)/8})}if(o==="address"&&typeof r=="string"&&!_(r))throw new D({address:r});const u=o.match(R);if(u){const[I,a]=u;if(a&&y(r)!==parseInt(a))throw new w({expectedSize:parseInt(a),givenSize:y(r)})}const l=t[o];l&&p(l,r)}};if(t.EIP712Domain&&n&&p(t.EIP712Domain,n),i!=="EIP712Domain"){const c=t[i];p(c,s)}}function x({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function A(e){return m(e).map(n=>{try{const s=new URL(n);return s.hostname.endsWith(".thirdweb.com")&&(s.pathname="",s.search=""),s.toString()}catch{return n}})}function m(e,n,s="http"){const i=[];for(const t of e.rpc)s==="http"&&!t.startsWith("http")||s==="ws"&&!t.startsWith("ws")||(t.includes("${THIRDWEB_API_KEY}")?n?i.push(t.replace("${THIRDWEB_API_KEY}",n)+(typeof globalThis<"u"&&"APP_BUNDLE_ID"in globalThis?`/?bundleId=${globalThis.APP_BUNDLE_ID}`:"")):i.push(t.replace("${THIRDWEB_API_KEY}","")):t.includes("${")||i.push(t));if(i.length===0)throw new Error(`No RPC available for chainId "${e.chainId}" with mode ${s}`);return i}function B(e){return typeof e=="number"?e:v(e)?T(e):typeof e=="bigint"?Number(e):Number.parseInt(e,10)}export{x as a,A as g,B as n,C as v};
